                                                    <div id="professors-tab-table-start"></div>
                            else if (UserRole == "Professor")
                            {
                                @if (!isInitializedAsProfessorUser)
                                {
                                    <div class="professional-loading">
                                        <div class="loading-content">
                                            <div class="loading-spinner">
                                                <div class="spinner-circle"></div>
                                                <div class="spinner-circle"></div>
                                                <div class="spinner-circle"></div>
                                            </div>
                                            <div class="loading-text">
                                                <span class="loading-title">Φορτώνει, Παρακαλώ Περιμένετε...</span>
                                                <span class="loading-subtitle">Γίνεται προετοιμασία του περιεχομένου</span>
                                            </div>
                                        </div>
                                        <div class="loading-progress">
                                            <div class="progress-bar">
                                                <div class="progress-fill"></div>
                                            </div>
                                        </div>
                                    </div>
                                }
                                else if (!isProfessorRegistered)
                                {
                                    <div style="display: flex; justify-content: flex-start; padding: 20px; flex-direction: column;">
                                        <div style="width: 300px; border: none; border-radius: 12px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); transition: transform 0.3s ease, box-shadow 0.3s ease; background: linear-gradient(135deg, #f9f9f9, #e0e0e0);">
                                            <div style="padding: 20px; text-align: center;">
                                                <h5 style="font-size: 1.5rem; font-weight: bold; color: #333; margin-bottom: 20px;">Εγγραφή Καθηγητή</h5>
                                                <a style="background-color: #007bff; border: none; border-radius: 25px; padding: 10px 20px; font-size: 1rem; color: white; text-decoration: none; transition: background-color 0.3s ease, transform 0.2s ease;" 
                                                   href="professorRegistration" 
                                                   onmouseover="this.style.backgroundColor='#0056b3'; this.style.transform='scale(1.05)'" 
                                                   onmouseout="this.style.backgroundColor='#007bff'; this.style.transform='scale(1)'">
                                                    Εγγραφή
                                                </a>
                                            </div>
                                        </div>
                                        <p style="font-size: 0.9rem; color: #000; margin-top: 7px; text-align: center; font-weight: bold;">
                                            <span style="color: #ff0000;">**</span> <span style="color: #ff0000;">Προσοχή</span>: Για εμφάνιση του περιεχομένου της σελίδας είναι <span style="color: #ff0000;">Υποχρεωτική</span> η Εγγραφή σας
                                        </p>                                      
                                    </div>
                                }
                                else
                                {
                                <div class="content-area">
                                    <div class="table-bordered">
                                        <!-- Tabs navigation -->
                                        <ul class="nav nav-tabs" id="myTab" role="tablist">
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link fade show active" id="professorannouncements-tab" data-bs-toggle="tab" data-bs-target="#professorannouncements" type="button" role="tab" aria-controls="professorannouncements" aria-selected="true">Ανακοινώσεις</button>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link" id="professorevent-tab" data-bs-toggle="tab" data-bs-target="#professorevent" type="button" role="tab" aria-controls="professorevent" aria-selected="false">Εκδηλώσεις</button>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link" id="professorthesis-tab" data-bs-toggle="tab" data-bs-target="#professorthesis" type="button" role="tab" aria-controls="professorthesis" aria-selected="false">Διπλωματικές Εργασίες</button>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link" id="professorinternships-tab" data-bs-toggle="tab" data-bs-target="#professorinternships" type="button" role="tab" aria-controls="professorinternships" aria-selected="false">Θέσεις Πρακτικής Άσκησης</button>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link" id="professorsearchstudent-tab" data-bs-toggle="tab" data-bs-target="#professorsearchstudent" type="button" role="tab" aria-controls="professorsearchstudent" aria-selected="false">Αναζήτηση Φοιτητή</button>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link" id="professorsearchcompany-tab" data-bs-toggle="tab" data-bs-target="#professorsearchcompany" type="button" role="tab" aria-controls="professorsearchcompany" aria-selected="false">Αναζήτηση Εταιρείας</button>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link" id="professorresearchgroup-search-tab" data-bs-toggle="tab" data-bs-target="#professorresearchgroup-search" type="button" role="tab" aria-controls="professorresearchgroup-search" aria-selected="false">Αναζήτηση Ερευνητικής Ομάδας</button>
                                            </li>
                                        </ul>
                                    
                                              <!-- Tab panes -->
                                              <div class="tab-content mt-3" id="myTabContent">
                                                    <!-- CREATE ANNOUNCEMENTS TAB AS PROFESSOR -->
                                                    <div class="tab-pane fade show active" id="professorannouncements" role="tabpanel" aria-labelledby="professorannouncements-tab">

                                                     @*iNPUT FIELDS SHOULD BE HERE FOR UPLOAD ANNOUNCEMENT AS PROFESSOR*@
                                                        <div class="tab-pane  fade show active" id="announcements" role="tabpanel" aria-labelledby="announcements-tab">
                                                            <div class="mb-3 row-dark-gray mt-4">
                                                                <div class="d-flex justify-content-between align-items-center" @onclick="ToggleAnnouncementsAsProfessorVisibility" style="cursor: pointer;">
                                                                    <label class="form-label" style="color: #FFF8DC;">• Πρόσφατες Ανακοινώσεις •</label>
                                                                    <button class="btn btn-link" @onclick="ToggleAnnouncementsAsProfessorVisibility" @onclick:stopPropagation="true">
                                                                        @if (isAnnouncementsAsProfessorVisible)
                                                                        {
                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                        }
                                                                    </button>
                                                                </div>
                                                            </div>
                                                            @if(isAnnouncementsAsProfessorVisible)
                                                            {
                                                                            <!-- University News Section -->
                                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                                <div class="d-flex justify-content-between align-items-center p-3" 
                                                                                     style="border-bottom: 1px solid #b3c6e0; cursor: pointer;"
                                                                                     @onclick="ToggleUniversityNewsVisibility">
                                                                                    <h1 class="news-heading form-label m-0">
                                                                                        <span class="black-text">
                                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                                <i class="fas fa-rss"></i>
                                                                                            </span>
                                                                                            Πανεπιστήμιο Αθηνών
                                                                                            <span style="color: black; margin-left: 5px;">
                                                                                                <i class="fas fa-university"></i>
                                                                                            </span>
                                                                                        </span>
                                                                                    </h1>
                                                                                    <button class="btn" 
                                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px;" 
                                                                                            @onclick="ToggleUniversityNewsVisibility">
                                                                                        @if (isUniversityNewsVisible)
                                                                                        {
                                                                                            <span>&#8722;</span> 
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span>&#43;</span> 
                                                                                        }
                                                                                    </button>
                                                                                </div>
    
                                                                                @if (isUniversityNewsVisible)
                                                                                {
                                                                                    <div id="university-news-content" class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                                        @if (newsArticles != null && newsArticles.Any())
                                                                                        {
                                                                                            @foreach (var article in newsArticles)
                                                                                            {
                                                                                                <div class="news-article mb-2 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                                    <a href="@article.Url" target="_blank" style="color: #0d47a1; text-decoration: none;">
                                                                                                        <i class="fa fa-external-link me-2" style="font-size: 0.8em;"></i>@article.Title
                                                                                                    </a>
                                                                                                </div>
                                                                                            }
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <p class="mb-0 text-muted">Καμία Ανακοίνωση από το Πανεπιστήμιο Αθηνών ακόμη....</p>
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>

                                                                            <!-- SVSE News Section -->
                                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                                <div class="d-flex justify-content-between align-items-center p-3" 
                                                                                     style="border-bottom: 1px solid #b3c6e0; cursor: pointer;"
                                                                                     @onclick="ToggleSvseNewsVisibility">
                                                                                    <h1 class="news-heading form-label m-0">
                                                                                        <span class="black-text">
                                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                                <i class="fas fa-rss"></i>
                                                                                            </span>
                                                                                            Σύνδεσμος Βιομηχανιών Στερεάς Ελλάδας
                                                                                            <span style="color: black; margin-left: 5px;">
                                                                                                <i class="fas fa-industry"></i>
                                                                                            </span>
                                                                                        </span>
                                                                                    </h1>
                                                                                    <button class="btn" 
                                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px;" 
                                                                                            @onclick="ToggleSvseNewsVisibility">
                                                                                        @if (isSvseNewsVisible)
                                                                                        {
                                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                                        }
                                                                                    </button>
                                                                                </div>
    
                                                                                @if (isSvseNewsVisible)
                                                                                {
                                                                                    <div id="svse-news-content" class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                                        @if (svseNewsArticles != null && svseNewsArticles.Any())
                                                                                        {
                                                                                            @foreach (var article in svseNewsArticles)
                                                                                            {
                                                                                                <div class="news-article mb-2 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                                    <a href="@article.Url" target="_blank" style="color: #0d47a1; text-decoration: none;">
                                                                                                        <i class="fa fa-external-link me-2" style="font-size: 0.8em;"></i>@article.Title
                                                                                                    </a>
                                                                                                </div>
                                                                                            }
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <p class="mb-0 text-muted">Καμία Ανακοίνωση από τον ΣΒΣΕ ακόμη....</p>
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>

                                                                            <!-- Platform company announcements -->
                                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                                <div class="d-flex justify-content-between align-items-center p-3" 
                                                                                     style="border-bottom: 1px solid #b3c6e0; cursor: pointer;"
                                                                                     @onclick="ToggleCompanyAnnouncementsVisibility">
                                                                                    <h1 class="news-heading form-label m-0">
                                                                                        <span class="black-text">
                                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                                <i class="fas fa-list"></i>
                                                                                            </span>
                                                                                            Ανακοινώσεις Εταιρειών
                                                                                            <span style="color: black; margin-left: 5px;">
                                                                                                <i class="fas fa-building"></i>
                                                                                            </span>
                                                                                        </span>
                                                                                    </h1>
                                                                                    <button class="btn" 
                                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px;" 
                                                                                            @onclick="ToggleCompanyAnnouncementsVisibility">
                                                                                        @if (isCompanyAnnouncementsVisible)
                                                                                        {
                                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                                        }
                                                                                    </button>
                                                                                </div>
    
                                                                                @if (isCompanyAnnouncementsVisible)
                                                                                {
                                                                                    <div class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                                        @if (Announcements != null && Announcements.Any(announcement => announcement.CompanyAnnouncementStatus == "Δημοσιευμένη"))
                                                                                        {
                                                                                            <!-- Display paginated announcements sorted by upload date descending -->
                                                                                            @foreach (var announcement in Announcements
                                                                                               .Where(a => a.CompanyAnnouncementStatus == "Δημοσιευμένη")
                                                                                               .OrderByDescending(a => a.CompanyAnnouncementUploadDate)
                                                                                               .Skip((currentPageForCompanyAnnouncements - 1) * pageSize)
                                                                                               .Take(pageSize))
                                                                                            {
                                                                                                <div class="news-article mb-3 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                                    <!-- Clicking on title toggles description -->
                                                                                                    <a href="javascript:void(0);"
                                                                                                       @onclick="() => ToggleDescription(announcement.Id)"
                                                                                                       style="display: block; max-width: 100%; overflow-wrap: break-word; color: #0d47a1; text-decoration: none; cursor: pointer;"
                                                                                                       title="Κάντε Κλικ εδώ για να δείτε την περιγραφή της ανακοίνωσης">
                                                                                                        <span class="black-text">• <strong>@(announcement.Company?.CompanyName ?? "Άγνωστη Εταιρεία")</strong></span> - @announcement.CompanyAnnouncementTitle
                                                                                                        <span class="text-muted">(@announcement.CompanyAnnouncementUploadDate.ToString("dd/MM/yyyy"))</span>
                                                                                                    </a>

                                                                                                    <!-- Show description based on toggle state -->
                                                                                                    <div class="announcement-description mt-2 @(expandedAnnouncementId == announcement.Id ? "expanded" : "collapsed")">
                                                                                                        @if (expandedAnnouncementId == announcement.Id)
                                                                                                        {
                                                                                                            <p style="color: #333;">@announcement.CompanyAnnouncementDescription</p>
                                    
                                                                                                            @if (announcement.CompanyAnnouncementAttachmentFile != null && announcement.CompanyAnnouncementAttachmentFile.Length > 0)
                                                                                                            {
                                                                                                                <p class="announcement-attachment mt-2">
                                                                                                                    <a href="#"
                                                                                                                       @onclick="() => DownloadAnnouncementAttachmentFrontPage(announcement.CompanyAnnouncementAttachmentFile, announcement.CompanyAnnouncementTitle)"
                                                                                                                       style="color: #c62828; text-decoration: none;"
                                                                                                                       title="Κάντε Κλικ εδώ για να κατεβάσετε το αρχείο">
                                                                                                                        <i class="fa fa-download me-1"></i> 
                                                                                                                        Συννημένο Αρχείο Ανακοίνωσης
                                                                                                                    </a>
                                                                                                                </p>
                                                                                                            }
                                                                                                        }
                                                                                                    </div>
                                                                                                </div>
                                                                                            }

                                                                                                <!-- Pagination Controls for Company Announcements -->
                                                                                                <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                                                    <!-- First Page (<<) -->
                                                                                                    <span class="pagination-item @(currentPageForCompanyAnnouncements == 1 ? "disabled" : "")"
                                                                                                          @onclick="GoToFirstPageForCompanyAnnouncements">
                                                                                                        &lt;&lt;
                                                                                                    </span>

                                                                                                    <!-- Previous Page (<) -->
                                                                                                    <span class="pagination-item @(currentPageForCompanyAnnouncements == 1 ? "disabled" : "")"
                                                                                                          @onclick="PreviousPageForCompanyAnnouncements">
                                                                                                        &lt;
                                                                                                    </span>

                                                                                                    <!-- Page Numbers -->
                                                                                                    @foreach (var pageNumber in GetVisiblePagesForCompanyAnnouncements())
                                                                                                    {
                                                                                                        if (pageNumber == -1)
                                                                                                        {
                                                                                                            <span class="pagination-ellipsis">...</span>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <span class="pagination-item @(pageNumber == currentPageForCompanyAnnouncements ? "active" : "")"
                                                                                                                  @onclick="() => GoToPageForCompanyAnnouncements(pageNumber)">
                                                                                                                @pageNumber
                                                                                                            </span>
                                                                                                        }
                                                                                                    }

                                                                                                    <!-- Next Page (>) -->
                                                                                                    <span class="pagination-item @(currentPageForCompanyAnnouncements == totalPagesForCompanyAnnouncements ? "disabled" : "")"
                                                                                                          @onclick="NextPageForCompanyAnnouncements">
                                                                                                        &gt;
                                                                                                    </span>

                                                                                                    <!-- Last Page (>>) -->
                                                                                                    <span class="pagination-item @(currentPageForCompanyAnnouncements == totalPagesForCompanyAnnouncements ? "disabled" : "")"
                                                                                                          @onclick="GoToLastPageForCompanyAnnouncements">
                                                                                                        &gt;&gt;
                                                                                                    </span>

                                                                                                    <span class="ms-3">Σελίδα @currentPageForCompanyAnnouncements από @totalPagesForCompanyAnnouncements</span>
                                                                                                </div>

                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <p class="mb-0 text-muted">Καμία Ανακοίνωση από Εταιρείες ακόμη......</p>
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>

                                                                            <!-- Platform professor announcements -->
                                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                                <div class="d-flex justify-content-between align-items-center p-3" 
                                                                                     style="border-bottom: 1px solid #b3c6e0; cursor: pointer;"
                                                                                     @onclick="ToggleProfessorAnnouncementsVisibility">
                                                                                    <h1 class="news-heading form-label m-0">
                                                                                        <span class="black-text">
                                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                                <i class="fas fa-list"></i>
                                                                                            </span>
                                                                                            Ανακοινώσεις Καθηγητών
                                                                                            <span style="color: black; margin-left: 5px;">
                                                                                                <i class="fas fa-user-tie"></i>
                                                                                            </span>
                                                                                        </span>
                                                                                    </h1>
                                                                                    <button class="btn" 
                                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px; cursor: pointer;"
                                                                                            @onclick="ToggleProfessorAnnouncementsVisibility">
                                                                                        @if (isProfessorAnnouncementsVisible)
                                                                                        {
                                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                                        }
                                                                                    </button>
                                                                                </div>
    
                                                                                @if (isProfessorAnnouncementsVisible)
                                                                                {
                                                                                    <div class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                                        @if (ProfessorAnnouncements != null && ProfessorAnnouncements.Any(announcement => announcement.ProfessorAnnouncementStatus == "Δημοσιευμένη"))
                                                                                        {
                                                                                            <!-- Display paginated announcements sorted by upload date descending -->
                                                                                            @foreach (var announcement in ProfessorAnnouncements
                                                                                           .Where(a => a.ProfessorAnnouncementStatus == "Δημοσιευμένη")
                                                                                           .OrderByDescending(a => a.ProfessorAnnouncementUploadDate)
                                                                                           .Skip((currentPageForProfessorAnnouncements - 1) * pageSize)
                                                                                           .Take(pageSize))
                                                                                           {
                                                                                                <div class="news-article mb-3 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                                    <!-- Clicking on title toggles description -->
                                                                                                    <a href="javascript:void(0);"
                                                                                                       @onclick="() => ToggleDescriptionForProfessorAnnouncements(announcement.Id)"
                                                                                                       style="display: block; max-width: 100%; overflow-wrap: break-word; color: #0d47a1; text-decoration: none; cursor: pointer;"
                                                                                                       title="Κάντε Κλικ εδώ για να δείτε την περιγραφή της ανακοίνωσης">
                                                                                                        <span class="black-text">• 
                                                                                                            <strong>@announcement.Professor?.ProfName</strong> 
                                                                                                            <strong>@announcement.Professor?.ProfSurname</strong>
                                                                                                        </span> - @announcement.ProfessorAnnouncementTitle
                                                                                                        <span class="text-muted">(@announcement.ProfessorAnnouncementUploadDate.ToString("dd/MM/yyyy"))</span>
                                                                                                    </a>
                                                                                                    <!-- Show description based on toggle state -->
                                                                                                    <div class="announcement-description mt-2 @(expandedProfessorAnnouncementId == announcement.Id ? "expanded" : "collapsed")">
                                                                                                        @if (expandedProfessorAnnouncementId == announcement.Id)
                                                                                                        {
                                                                                                            <p style="color: #333;">@announcement.ProfessorAnnouncementDescription</p>
                                
                                                                                                            @if (announcement.ProfessorAnnouncementAttachmentFile != null && announcement.ProfessorAnnouncementAttachmentFile.Length > 0)
                                                                                                            {
                                                                                                                <p class="announcement-attachment mt-2">
                                                                                                                    <a href="#"
                                                                                                                       @onclick="() => DownloadProfessorAnnouncementAttachmentFrontPage(announcement.ProfessorAnnouncementAttachmentFile, announcement.ProfessorAnnouncementTitle)"
                                                                                                                       style="color: #c62828; text-decoration: none;"
                                                                                                                       title="Κάντε Κλικ εδώ για να κατεβάσετε το αρχείο">
                                                                                                                        <i class="fa fa-download me-1"></i>
                                                                                                                        Συννημένο Αρχείο Ανακοίνωσης
                                                                                                                    </a>
                                                                                                                </p>
                                                                                                            }
                                                                                                        }
                                                                                                    </div>
                                                                                                </div>
                                                                                           }
                                                                                                <!-- Pagination Controls for Professor Announcements -->
                                                                                                <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                                                    <!-- First Page (<<) -->
                                                                                                    <span class="pagination-item @(currentPageForProfessorAnnouncements == 1 ? "disabled" : "")"
                                                                                                          @onclick="GoToFirstPageForProfessorAnnouncements">
                                                                                                        &lt;&lt;
                                                                                                    </span>

                                                                                                    <!-- Previous Page (<) -->
                                                                                                    <span class="pagination-item @(currentPageForProfessorAnnouncements == 1 ? "disabled" : "")"
                                                                                                          @onclick="PreviousPageForProfessorAnnouncements">
                                                                                                        &lt;
                                                                                                    </span>

                                                                                                    <!-- Page Numbers -->
                                                                                                    @foreach (var pageNumber in GetVisiblePagesForProfessorAnnouncements())
                                                                                                    {
                                                                                                        if (pageNumber == -1)
                                                                                                        {
                                                                                                            <span class="pagination-ellipsis">...</span>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <span class="pagination-item @(pageNumber == currentPageForProfessorAnnouncements ? "active" : "")"
                                                                                                                  @onclick="() => GoToPageForProfessorAnnouncements(pageNumber)">
                                                                                                                @pageNumber
                                                                                                            </span>
                                                                                                        }
                                                                                                    }

                                                                                                    <!-- Next Page (>) -->
                                                                                                    <span class="pagination-item @(currentPageForProfessorAnnouncements == totalPagesForProfessorAnnouncements ? "disabled" : "")"
                                                                                                          @onclick="NextPageForProfessorAnnouncements">
                                                                                                        &gt;
                                                                                                    </span>

                                                                                                    <!-- Last Page (>>) -->
                                                                                                    <span class="pagination-item @(currentPageForProfessorAnnouncements == totalPagesForProfessorAnnouncements ? "disabled" : "")"
                                                                                                          @onclick="GoToLastPageForProfessorAnnouncements">
                                                                                                        &gt;&gt;
                                                                                                    </span>

                                                                                                    <span class="ms-3">Σελίδα @currentPageForProfessorAnnouncements από @totalPagesForProfessorAnnouncements</span>
                                                                                                </div>

                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <p class="mb-0 text-muted">Καμία Ανακοίνωση από Καθηγητές ακόμη......</p>
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>
                                                                            @*
                                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                                <div class="d-flex justify-content-between align-items-center p-3" style="border-bottom: 1px solid #b3c6e0;">
                                                                                    <h1 class="news-heading form-label m-0">
                                                                                        <span class="black-text">
                                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                                <i class="fas fa-calendar-day"></i>
                                                                                            </span>
                                                                                            Εκδηλώσεις Εταιρειών
                                                                                        </span>
                                                                                    </h1>
                                                                                    <button class="btn" 
                                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px; cursor: pointer; transition: all 0.2s ease;"
                                                                                            @onclick="ToggleCompanyEventsVisibility">
                                                                                        @if (isCompanyEventsVisible)
                                                                                        {
                                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                                        }
                                                                                    </button>
                                                                                </div>
    
                                                                                @if (isCompanyEventsVisible)
                                                                                {
                                                                                    <div class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                                        @if (CompanyEventsToShowAtFrontPage != null && CompanyEventsToShowAtFrontPage.Any(eventItem => eventItem.CompanyEventStatus == "Δημοσιευμένη"))
                                                                                        {
                                                                                            <!-- Display paginated events sorted by date descending -->
                                                                                            @foreach (var eventItem in CompanyEventsToShowAtFrontPage
                                                                                           .Where(e => e.CompanyEventStatus == "Δημοσιευμένη")
                                                                                           .OrderByDescending(e => e.CompanyEventUploadedDate)
                                                                                           .Skip((currentCompanyEventPage - 1) * currentCompanyEventpageSize)
                                                                                           .Take(currentCompanyEventpageSize))
                                                                                           {
                                                                                                <div class="news-article mb-3 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                                    <!-- Clicking on title toggles description -->
                                                                                                    <a href="javascript:void(0);"
                                                                                                       @onclick="() => ToggleDescriptionForCompanyEvent(eventItem.Id)"
                                                                                                       style="display: block; max-width: 100%; overflow-wrap: break-word; color: #0d47a1; text-decoration: none; cursor: pointer;"
                                                                                                       title="Κάντε Κλικ εδώ για να δείτε την περιγραφή της εκδήλωσης">
                                                                                                        <span class="black-text">• 
                                                                                                            <strong>
                                                                                                                @eventItem.CompanyEventCompanyName
                                                                                                                @if (eventItem.CompanyEventOtherOrganizerToBeVisible)
                                                                                                                {
                                                                                                                    @($" / {eventItem.CompanyEventOtherOrganizer}")
                                                                                                                }
                                                                                                            </strong>
                                                                                                        </span> - @eventItem.CompanyEventTitle
                                                                                                        <span class="text-muted">(@eventItem.CompanyEventUploadedDate.ToString("dd/MM/yyyy"))</span>
                                                                                                    </a>
                                                                                                    <!-- Show description based on toggle state -->
                                                                                                    <div class="event-description mt-2 @(expandedCompanyEventId == eventItem.Id ? "expanded" : "collapsed")">
                                                                                                        @if (expandedCompanyEventId == eventItem.Id)
                                                                                                        {
                                                                                                               <p style="color: #333;">@eventItem.CompanyEventDescription</p>                                                                                                                  
                                                                                                               var location = $"{eventItem.CompanyEventPerifereiaLocation} ({eventItem.CompanyEventDimosLocation}) - {eventItem.CompanyEventPlaceLocation}";
                                                                                                                if (!string.IsNullOrWhiteSpace(location))
                                                                                                                {
                                                                                                                    <p class="event-location mt-2">
                                                                                                                        <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(location)" 
                                                                                                                           target="_blank" 
                                                                                                                           style="color: #2e7d32; text-decoration: none;"
                                                                                                                           title="Δείτε στον Χάρτη">
                                                                                                                            <i class="fas fa-map-marker-alt me-1"></i> @location
                                                                                                                        </a>
                                                                                                                    </p>
                                                                                                                }
                                                                                            

                                                                                                            @if (eventItem.CompanyEventAttachmentFile != null && eventItem.CompanyEventAttachmentFile.Length > 0)
                                                                                                            {
                                                                                                                <p class="event-attachment mt-2">
                                                                                                                    <a href="#"
                                                                                                                       @onclick="() => DownloadCompanyEventAttachmentFrontPage(eventItem.CompanyEventAttachmentFile, eventItem.CompanyEventTitle)"
                                                                                                                       style="color: #c62828; text-decoration: none;"
                                                                                                                       title="Κάντε Κλικ εδώ για να κατεβάσετε το αρχείο">
                                                                                                                        <i class="fa fa-download me-1"></i>
                                                                                                                        Συννημένο Αρχείο Εκδήλωσης
                                                                                                                    </a>
                                                                                                                </p>
                                                                                                            }
                                                                                                        }
                                                                                                    </div>
                                                                                                </div>
                                                                                           }

                                                                                            <div class="pagination mt-3">
                                                                                                <button class="btn me-2" 
                                                                                                        @onclick="() => ChangePageForCompanyEvents(currentCompanyEventPage - 1)" 
                                                                                                        disabled="@(currentCompanyEventPage == 1 || totalPagesForCompanyEvents == 0)"
                                                                                                        style="min-width: 100px;">
                                                                                                    Προηγούμενες
                                                                                                </button>
                                                                                                <span class="mx-2 text-muted">
                                                                                                    Σελίδα @currentCompanyEventPage από @totalPagesForCompanyEvents
                                                                                                </span>
                                                                                                <button class="btn btn-secondary" 
                                                                                                        @onclick="() => ChangePageForCompanyEvents(currentCompanyEventPage + 1)" 
                                                                                                        disabled="@(currentCompanyEventPage == totalPagesForCompanyEvents || totalPagesForCompanyEvents == 0)"
                                                                                                        style="min-width: 100px;">
                                                                                                    Επόμενες
                                                                                                </button>
                                                                                            </div>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <p class="mb-0 text-muted">Καμία Εκδήλωση από Εταιρείες ακόμη......</p>
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>

                                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                                <div class="d-flex justify-content-between align-items-center p-3" style="border-bottom: 1px solid #b3c6e0;">
                                                                                    <h1 class="news-heading form-label m-0">
                                                                                        <span class="black-text">
                                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                                <i class="fas fa-calendar-day"></i>
                                                                                            </span>
                                                                                            Εκδηλώσεις Καθηγητών
                                                                                        </span>
                                                                                    </h1>
                                                                                    <button class="btn" 
                                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px; cursor: pointer; transition: all 0.2s ease;"
                                                                                            @onclick="ToggleProfessorEventsVisibility">
                                                                                        @if (isProfessorEventsVisible)
                                                                                        {
                                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                                        }
                                                                                    </button>
                                                                                </div>
    
                                                                                @if (isProfessorEventsVisible)
                                                                                {
                                                                                    <div class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                                        @if (ProfessorEventsToShowAtFrontPage != null && ProfessorEventsToShowAtFrontPage.Any(eventItem => eventItem.ProfessorEventStatus == "Δημοσιευμένη"))
                                                                                        {
                                                                                            @foreach (var eventItem in ProfessorEventsToShowAtFrontPage
                                                                                           .Where(e => e.ProfessorEventStatus == "Δημοσιευμένη")
                                                                                           .OrderByDescending(e => e.ProfessorEventUploadedDate)
                                                                                           .Skip((currentProfessorEventPage - 1) * currentProfessorEventpageSize)
                                                                                           .Take(currentProfessorEventpageSize))
                                                                                            {
                                                                                                <div class="news-article mb-3 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                                    <a href="javascript:void(0);"
                                                                                                       @onclick="() => ToggleDescriptionForProfessorEvent(eventItem.Id)"
                                                                                                       style="display: block; max-width: 100%; overflow-wrap: break-word; color: #0d47a1; text-decoration: none; cursor: pointer;"
                                                                                                       title="Κάντε Κλικ εδώ για να δείτε την περιγραφή της εκδήλωσης">
                                                                                                        <span class="black-text">• 
                                                                                                            <strong>
                                                                                                                @eventItem.ProfessorEventProfessorName @eventItem.ProfessorEventProfessorSurName
                                                                                                                @if (eventItem.ProfessorEventOtherOrganizer == "True")
                                                                                                                {
                                                                                                                    @($" / {eventItem.ProfessorEventOtherOrganizer}")
                                                                                                                }
                                                                                                            </strong>
                                                                                                        </span> - @eventItem.ProfessorEventTitle
                                                                                                        <span class="text-muted">(@eventItem.ProfessorEventActiveDate.ToString("dd/MM/yyyy"))</span>
                                                                                                    </a>
                                                                                                    <div class="event-description mt-2 @(expandedProfessorEventId == eventItem.Id ? "expanded" : "collapsed")">
                                                                                                        @if (expandedProfessorEventId == eventItem.Id)
                                                                                                        {
                                                                                                            <p style="color: #333;">@eventItem.ProfessorEventDescription</p>                                                                                                                          
                                                                                                                var location = $"{eventItem.ProfessorEventPerifereiaLocation} ({eventItem.ProfessorEventDimosLocation}) - {eventItem.ProfessorEventPlaceLocation}";
                                                                                                                if (!string.IsNullOrWhiteSpace(location))
                                                                                                                {
                                                                                                                    <p class="event-location mt-2">
                                                                                                                        <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(location)" 
                                                                                                                           target="_blank" 
                                                                                                                           style="color: #2e7d32; text-decoration: none;"
                                                                                                                           title="Δείτε στον Χάρτη">
                                                                                                                            <i class="fas fa-map-marker-alt me-1"></i> @location
                                                                                                                        </a>
                                                                                                                    </p>
                                                                                                                }
                                                                                            

                                                                                                            @if (eventItem.ProfessorEventAttachmentFile != null && eventItem.ProfessorEventAttachmentFile.Length > 0)
                                                                                                            {
                                                                                                                <p class="event-attachment mt-2">
                                                                                                                    <a href="#"
                                                                                                                       @onclick="() => DownloadProfessorEventAttachmentFrontPage(eventItem.ProfessorEventAttachmentFile, eventItem.ProfessorEventTitle)"
                                                                                                                       style="color: #c62828; text-decoration: none;"
                                                                                                                       title="Κάντε Κλικ εδώ για να κατεβάσετε το αρχείο">
                                                                                                                        <i class="fa fa-download me-1"></i> 
                                                                                                                        Συννημένο Αρχείο Εκδήλωσης
                                                                                                                    </a>
                                                                                                                </p>
                                                                                                            }
                                                                                                        }
                                                                                                    </div>
                                                                                                </div>
                                                                                            }

                                                                                            <div class="pagination mt-3">
                                                                                                <button class="btn me-2" 
                                                                                                        @onclick="() => ChangePageForProfessorEvents(currentProfessorEventPage - 1)" 
                                                                                                        disabled="@(currentProfessorEventPage == 1 || totalPagesForProfessorEvents == 0)"
                                                                                                        style="min-width: 100px;">
                                                                                                    Προηγούμενες
                                                                                                </button>
                                                                                                <span class="mx-2 text-muted">
                                                                                                    Σελίδα @currentProfessorEventPage από @totalPagesForProfessorEvents
                                                                                                </span>
                                                                                                <button class="btn btn-secondary" 
                                                                                                        @onclick="() => ChangePageForProfessorEvents(currentProfessorEventPage + 1)" 
                                                                                                        disabled="@(currentProfessorEventPage == totalPagesForProfessorEvents || totalPagesForProfessorEvents == 0)"
                                                                                                        style="min-width: 100px;">
                                                                                                    Επόμενες
                                                                                                </button>
                                                                                            </div>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <p class="mb-0 text-muted">Καμία Εκδήλωση από Καθηγητές ακόμη......</p>
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>
                                                                            *@
                                                                            <!-- Platform research group announcements -->
                                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                                <div class="d-flex justify-content-between align-items-center p-3" 
                                                                                     style="border-bottom: 1px solid #b3c6e0; cursor: pointer;"
                                                                                     @onclick="ToggleResearchGroupPublicAnnouncementsVisibility">
                                                                                    <h1 class="news-heading form-label m-0">
                                                                                        <span class="black-text">
                                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                                <i class="fas fa-list"></i>
                                                                                            </span>
                                                                                            Ανακοινώσεις Ερευνητικών Ομάδων
                                                                                            <span style="color: black; margin-left: 5px;">
                                                                                                <i class="fa-solid fa-flask"></i>
                                                                                            </span>
                                                                                        </span>
                                                                                    </h1>
                                                                                    <button class="btn" 
                                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px; cursor: pointer;"
                                                                                            @onclick="ToggleResearchGroupPublicAnnouncementsVisibility">
                                                                                        @if (isResearchGroupPublicAnnouncementsVisible)
                                                                                        {
                                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                                        }
                                                                                    </button>
                                                                                </div>
    
                                                                                @if (isResearchGroupPublicAnnouncementsVisible)
                                                                                {
                                                                                    <div class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                                        @if (ResearchGroupAnnouncements != null && ResearchGroupAnnouncements.Any(announcement => announcement.ResearchGroupAnnouncementStatus == "Δημοσιευμένη"))
                                                                                        {
                                                                                            <!-- Display paginated announcements sorted by upload date descending -->
                                                                                            @foreach (var announcement in ResearchGroupAnnouncements
                                                                                           .Where(a => a.ResearchGroupAnnouncementStatus == "Δημοσιευμένη")
                                                                                           .OrderByDescending(a => a.ResearchGroupAnnouncementUploadDate)
                                                                                           .Skip((currentPageForResearchGroupPublicAnnouncements - 1) * pageSize)
                                                                                           .Take(pageSize))
                                                                                           {
                                                                                                <div class="news-article mb-3 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                                    <!-- Clicking on title toggles description -->
                                                                                                    <a href="javascript:void(0);"
                                                                                                       @onclick="() => ToggleDescriptionForResearchGroupPublicAnnouncements(announcement.Id)"
                                                                                                       style="display: block; max-width: 100%; overflow-wrap: break-word; color: #0d47a1; text-decoration: none; cursor: pointer;"
                                                                                                       title="Κάντε Κλικ εδώ για να δείτε την περιγραφή της ανακοίνωσης">
                                                                                                        <span class="black-text">• 
                                                                                                            <strong>@(announcement.ResearchGroup?.ResearchGroupName ?? "Άγνωστη Ερευνητική Ομάδα")</strong>
                                                                                                        </span> - @announcement.ResearchGroupAnnouncementTitle
                                                                                                        <span class="text-muted">(@announcement.ResearchGroupAnnouncementUploadDate.ToString("dd/MM/yyyy"))</span>
                                                                                                    </a>
                                                                                                    <!-- Show description based on toggle state -->
                                                                                                    <div class="announcement-description mt-2 @(expandedResearchGroupPublicAnnouncementId == announcement.Id ? "expanded" : "collapsed")">
                                                                                                        @if (expandedResearchGroupPublicAnnouncementId == announcement.Id)
                                                                                                        {
                                                                                                            <p style="color: #333;">@announcement.ResearchGroupAnnouncementDescription</p>
                                
                                                                                                            @if (announcement.ResearchGroupAnnouncementAttachmentFile != null && announcement.ResearchGroupAnnouncementAttachmentFile.Length > 0)
                                                                                                            {
                                                                                                                <p class="announcement-attachment mt-2">
                                                                                                                    <a href="#"
                                                                                                                       @onclick="() => DownloadResearchGroupPublicAnnouncementAttachmentFrontPage(announcement.ResearchGroupAnnouncementAttachmentFile, announcement.ResearchGroupAnnouncementTitle)"
                                                                                                                       style="color: #c62828; text-decoration: none;"
                                                                                                                       title="Κάντε Κλικ εδώ για να κατεβάσετε το αρχείο">
                                                                                                                        <i class="fa fa-download me-1"></i>
                                                                                                                        Συννημένο Αρχείο Ανακοίνωσης
                                                                                                                    </a>
                                                                                                                </p>
                                                                                                            }
                                                                                                        }
                                                                                                    </div>
                                                                                                </div>
                                                                                           }
                                                                                            <!-- Pagination Controls for Research Group Announcements -->
                                                                                            <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                                                <!-- First Page (<<) -->
                                                                                                <span class="pagination-item @(currentPageForResearchGroupPublicAnnouncements == 1 ? "disabled" : "")"
                                                                                                      @onclick="GoToFirstPageForResearchGroupPublicAnnouncements">
                                                                                                    &lt;&lt;
                                                                                                </span>

                                                                                                <!-- Previous Page (<) -->
                                                                                                <span class="pagination-item @(currentPageForResearchGroupPublicAnnouncements == 1 ? "disabled" : "")"
                                                                                                      @onclick="PreviousPageForResearchGroupPublicAnnouncements">
                                                                                                    &lt;
                                                                                                </span>

                                                                                                <!-- Page Numbers -->
                                                                                                @foreach (var pageNumber in GetVisiblePagesForResearchGroupPublicAnnouncements())
                                                                                                {
                                                                                                    if (pageNumber == -1)
                                                                                                    {
                                                                                                        <span class="pagination-ellipsis">...</span>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <span class="pagination-item @(pageNumber == currentPageForResearchGroupPublicAnnouncements ? "active" : "")"
                                                                                                              @onclick="() => GoToPageForResearchGroupPublicAnnouncements(pageNumber)">
                                                                                                            @pageNumber
                                                                                                        </span>
                                                                                                    }
                                                                                                }

                                                                                                <!-- Next Page (>) -->
                                                                                                <span class="pagination-item @(currentPageForResearchGroupPublicAnnouncements == totalPagesForResearchGroupPublicAnnouncements ? "disabled" : "")"
                                                                                                      @onclick="NextPageForResearchGroupPublicAnnouncements">
                                                                                                    &gt;
                                                                                                </span>

                                                                                                <!-- Last Page (>>) -->
                                                                                                <span class="pagination-item @(currentPageForResearchGroupPublicAnnouncements == totalPagesForResearchGroupPublicAnnouncements ? "disabled" : "")"
                                                                                                      @onclick="GoToLastPageForResearchGroupPublicAnnouncements">
                                                                                                    &gt;&gt;
                                                                                                </span>

                                                                                                <span class="ms-3">Σελίδα @currentPageForResearchGroupPublicAnnouncements από @totalPagesForResearchGroupPublicAnnouncements</span>
                                                                                            </div>

                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <p class="mb-0 text-muted">Καμία Ανακοίνωση από Ερευνητικές Ομάδες ακόμη......</p>
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>
                                                        }
                                                                <div class="mb-3 row-dark-gray">
                                                                    <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityForUploadProfessorAnnouncements" style="cursor: pointer;">
                                                                        <label class="form-label" style="color: #FFF8DC;">• Δημιουργία Ανακοίνωσης •</label>
                                                                        <button class="btn btn-link" @onclick="ToggleFormVisibilityForUploadProfessorAnnouncements" @onclick:stopPropagation="true">
                                                                            @if (isProfessorAnnouncementsFormVisible)
                                                                            {
                                                                                <span>&#8722;</span> <!-- Minus sign -->
                                                                            }
                                                                            else
                                                                            {
                                                                                <span>&#43;</span> <!-- Plus sign -->
                                                                            }
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                <!-- SHOW ANNOUNCEMENT AS PROFESSOR - PEDIA INPUTS -->
                                                                @if (isProfessorAnnouncementsFormVisible)
                                                                {

                                                                     <div class="row mb-3">
                                                                        <div class="col-md-4 position-relative">
                                                                            <label for="professorannouncementTitle">
                                                                                <strong>Τίτλος Ανακοίνωσης</strong>
                                                                                <span style="color: red;">*</span>
                                                                            </label>
                                                                            <input type="text" id="professorannouncementTitle" class="form-control @(showErrorMessageforUploadingannouncementsAsProfessor && string.IsNullOrWhiteSpace(professorannouncement.ProfessorAnnouncementTitle) ? "shake error" : "")" 
                                                                                   @bind="professorannouncement.ProfessorAnnouncementTitle" 
                                                                                   @oninput="CheckCharacterLimitInAnnouncementFieldUploadAsProfessor" maxlength="120" />
                                                                            <small class="character-limit light-cadetblue-text">@remainingCharactersInAnnouncementFieldUploadAsProfessor/120</small>
                                                                        </div>
                                                                        @if (showErrorMessageforUploadingannouncementsAsProfessor && string.IsNullOrWhiteSpace(professorannouncement.ProfessorAnnouncementTitle))
                                                                        {
                                                                            <div class="text-danger mt-1">Απαιτείται Tίτλος Ανακοίνωσης!</div>
                                                                        }
                                                                    </div>

                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4 position-relative">
                                                                            <label for="ProfessorAnnouncementDescription"><strong>Περιγραφή Ανακοίνωσης</strong> <span style="color: red;"> *</span></label>
                                                                            <textarea id="ProfessorAnnouncementDescription" class="form-control @(showErrorMessageforUploadingannouncementsAsProfessor && string.IsNullOrWhiteSpace(professorannouncement.ProfessorAnnouncementDescription) ? "shake error" : "")"
                                                                                      @bind="professorannouncement.ProfessorAnnouncementDescription"
                                                                                      @oninput="CheckCharacterLimitInAnnouncementDescriptionUploadAsProfessor"
                                                                                      maxlength="1000"
                                                                                      placeholder="Πληκτρολογείστε την Ανακοίνωσή σας"></textarea>
                                                                            <small class="character-limit light-cadetblue-text">@remainingCharactersInAnnouncementDescriptionUploadAsProfessor/1000</small>
                                                                        </div>
                                                                        @if (showErrorMessageforUploadingannouncementsAsProfessor && string.IsNullOrWhiteSpace(professorannouncement.ProfessorAnnouncementDescription))
                                                                        {
                                                                            <div class="text-danger mt-1">Απαιτείται Περιγραφή της Ανακοίνωσης!</div>
                                                                        }
                                                                    </div>

                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4 position-relative">
                                                                            <label for="ProfessorAnnouncementTimeToBeActive"><strong>Ημερομηνία Λήξης Ανακοίνωσης</strong> <span style="color: red;"> *</span></label>
                                                                            <input type="date" id="ProfessorAnnouncementTimeToBeActive" 
                                                                                   class="form-control @(showErrorMessageforUploadingannouncementsAsProfessor && professorannouncement.ProfessorAnnouncementTimeToBeActive.Date <= DateTime.Today ? "shake error" : "")" 
                                                                                   @bind="professorannouncement.ProfessorAnnouncementTimeToBeActive" />
                                                                        </div>
                                                                        @if (showErrorMessageforUploadingannouncementsAsProfessor && professorannouncement.ProfessorAnnouncementTimeToBeActive.Date <= DateTime.Today)
                                                                        {
                                                                            <div class="text-danger mt-1">Η ημερομηνία πρέπει να είναι μεταγενέστερη της σημερινής ημερομηνίας.</div>
                                                                        }
                                                                    </div>


                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorannouncementAttachment">Συνημμένο Ανακοίνωσης<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                                            <InputFile id="ProfessorannouncementAttachment" class="form-control" OnChange="HandleFileSelectedForAnnouncementAttachmentAsProfessor" />
                                                                            <small class="form-text text-muted">Όριο 10MB - Μόνο αρχεία PDF</small>
                                                                            @if (!string.IsNullOrEmpty(ProfessorAnnouncementAttachmentErrorMessage))
                                                                            {
                                                                                <div class="text-danger mt-2">@ProfessorAnnouncementAttachmentErrorMessage</div>
                                                                            }
                                                                        </div>
                                                                    </div>


                                                                    //SAVE ANOUNCEMENT AS PROFESSOR
                                                                    <div class="row mb-3">
                                                                        <div class="col-md-12">
                                                                            <button class="modern-button" style="background-color: #818589; color: white; display: inline-flex; align-items: center;" @onclick="SaveAnnouncementAsUnpublishedAsProfessor">
                                                                                <i class="fa-regular fa-floppy-disk" style="margin-right: 8px;"></i>Προσωρινή Αποθήκευση Ανακοίνωσης
                                                                            </button>
                                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="SaveAnnouncementAsPublishedAsProfessor">
                                                                                <i class="fa-solid fa-floppy-disk" style="margin-right: 8px;"></i>Δημοσίευση Ανακοίνωσης
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                    <!-- Loading Modal for Professor Announcement -->
                                                                    @if (showLoadingModalForProfessorAnnouncement)
                                                                    {
                                                                        <div class="loading-modal">
                                                                            <div class="loading-modal-content">
                                                                                <div class="loading-spinner"></div>
                                                                                <p>Αποθήκευση Ανακοίνωσης...</p>
                                                                                <div class="progress-bar">
                                                                                    <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    }

                                                                    @if (!string.IsNullOrEmpty(saveAnnouncementAsProfessorMessage))
                                                                    {
                                                                        <div class="alert @(isSaveAnnouncementAsProfessorSuccessful ? "alert-success" : "alert-danger")" role="alert">
                                                                            @saveAnnouncementAsProfessorMessage
                                                                        </div>
                                                                    }
                                                                }                                                            
                                                        </div>

                                                        <!-- VIEW UPLOADED ANNOUNCEMENTS AS PROFESSOR -->
                                                        <div class="mb-3 row-dark-gray mt-4">
                                                            <div class="d-flex justify-content-between align-items-center" @onclick="ToggleUploadedAnnouncementsVisibilityAsProfessor" style="cursor: pointer;">
                                                                <label class="form-label" style="color: #FFF8DC;">
                                                                    @if (isLoadingUploadedAnnouncementsAsProfessor)
                                                                    {
                                                                        <span>
                                                                            <i class="fas fa-spinner fa-spin me-2"></i>
                                                                            Φόρτωση Ανακοινώσεων...
                                                                        </span>
                                                                    }
                                                                    else
                                                                    {
                                                                        <span>• Οι Ανακοινώσεις μου •</span>
                                                                    }
                                                                </label>
                                                                <button class="btn btn-link" @onclick="ToggleUploadedAnnouncementsVisibilityAsProfessor" @onclick:stopPropagation="true">
                                                                    @if (isUploadedAnnouncementsVisibleAsProfessor && !isLoadingUploadedAnnouncementsAsProfessor)
                                                                    {
                                                                        <span>&#8722;</span> <!-- Minus sign -->
                                                                    }
                                                                    else if (!isLoadingUploadedAnnouncementsAsProfessor)
                                                                    {
                                                                        <span>&#43;</span> <!-- Plus sign -->
                                                                    }
                                                                </button>
                                                            </div>
                                                        </div>

                                                        @if (isUploadedAnnouncementsVisibleAsProfessor)
                                                        {
                                                            <div class="col-md-2">
                                                                <label for="statusFilterForAnnouncementsAsProfessor" style="color: #2d3748; font-size: 15px;"><strong>Φίλτρο Εμφάνισης</strong></label>
                                                                <div class="input-group">
                                                                    <select id="statusFilterForAnnouncementsAsProfessor" class="form-control form-control-sm" 
                                                                            @onchange="HandleStatusFilterChangeForAnnouncementsAsProfessor">
                                                                        <option value="Όλα">Όλες</option>
                                                                        <option value="Δημοσιευμένη">Δημοσιευμένες</option>
                                                                        <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένες</option>
                                                                    </select>
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text">
                                                                            <i class="fas fa-chevron-down"></i>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-2">
                                                                <label style="color: #2d3748; font-weight: bold; font-size: 15px; display: block;">Αποτελέσματα ανά Σελίδα</label>
                                                                <div class="input-group" style="max-width: 65px;">
                                                                    <select class="form-control form-control-sm" @onchange="OnPageSizeChange_SeeMyUploadedAnnouncementsAsProfessor" aria-label="Items per page">
                                                                        @foreach (var option in pageSizeOptions_SeeMyUploadedAnnouncementsAsProfessor)
                                                                        {
                                                                            <option value="@option" selected="@(professorAnnouncementsPerPage_SeeMyUploadedAnnouncementsAsProfessor == option)">@option</option>
                                                                        }
                                                                    </select>
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text">
                                                                            <i class="fas fa-chevron-down"></i>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <br/>
                                                            <div class="col-md-2">
                                                                @if (selectedStatusFilterForAnnouncementsAsProfessor == "Όλα")
                                                                {
                                                                    <span><strong>Σύνολο: </strong>@totalCountAnnouncementsAsProfessor</span>
                                                                }
                                                                else if (selectedStatusFilterForAnnouncementsAsProfessor == "Δημοσιευμένη")
                                                                {
                                                                    <span><strong>Σύνολο: </strong>@publishedCountAnnouncementsAsProfessor</span>
                                                                }
                                                                else if (selectedStatusFilterForAnnouncementsAsProfessor == "Μη Δημοσιευμένη")
                                                                {
                                                                    <span><strong>Σύνολο: </strong>@unpublishedCountAnnouncementsAsProfessor</span>
                                                                }
                                                            </div>

                                                            <!-- Bulk Edit Section for Professor Announcements - Only show when there are announcements -->
                                                            @if (FilteredAnnouncementsAsProfessor != null && FilteredAnnouncementsAsProfessor.Any())
                                                            {
                                                                <div class="row mb-3">
                                                                    <div class="col-md-12">
                                                                        <!-- Bulk Edit Button - Show when NOT in bulk edit mode OR when in bulk edit mode but no announcements selected -->
                                                                        @if (!isBulkEditModeForProfessorAnnouncements || (isBulkEditModeForProfessorAnnouncements && selectedProfessorAnnouncementIds.Count == 0))
                                                                        {
                                                                            <div class="mb-2" style="margin-left: -10px;">
                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                        @onclick="EnableBulkEditModeForProfessorAnnouncements"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-edit" style="margin-right: 8px;"></i>Μαζική Επεξεργασία Ανακοινώσεων
                                                                                </button>
                                                                            </div>
                                                                        }

                                                                        <!-- Instruction text when in bulk edit mode -->
                                                                        @if (isBulkEditModeForProfessorAnnouncements)
                                                                        {
                                                                            <div class="mb-2">
                                                                                <div class="alert alert-info" style="background-color: #e7f3ff; border: 1px solid #b3d9ff; color: #004085; border-radius: 6px; padding: 8px 12px;">
                                                                                    <i class="fas fa-info-circle me-2"></i>
                                                                                    <strong>Επιλέξτε Ανακοινώσεις στον Πίνακα</strong>
                                                                                </div>
                                                                            </div>
                                                                        }

                                                                        <!-- Bulk Action Buttons - Show when announcements are selected -->
                                                                        @if (isBulkEditModeForProfessorAnnouncements && selectedProfessorAnnouncementIds.Count > 0)
                                                                        {
                                                                            <div class="d-flex gap-2 align-items-center flex-wrap mb-2">
                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                        @onclick='() => ExecuteBulkStatusChangeForProfessorAnnouncements("Δημοσιευμένη")'
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-arrow-up me-2"></i>Αλλαγή σε Δημοσιευμένη
                                                                                </button>
                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                        @onclick='() => ExecuteBulkStatusChangeForProfessorAnnouncements("Μη Δημοσιευμένη")'
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-arrow-down me-2"></i>Αλλαγή σε Μη Δημοσιευμένη
                                                                                </button>
                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                        @onclick="ExecuteBulkCopyForProfessorAnnouncements"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-copy me-2"></i>Κλωνοποίηση
                                                                                </button>
                                                                                <button class="modern-button" style="background-color: #6c757d; color: white; display: inline-flex; align-items: center;" 
                                                                                        @onclick="CancelBulkEditForProfessorAnnouncements"
                                                                                        onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                        onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                    <i class="fas fa-times me-2"></i>Ακύρωση
                                                                                </button>
                                                                            </div>

                                                                            <!-- Selected count badge placed under the buttons -->
                                                                            <div class="mb-2">
                                                                                <span class="badge bg-primary">
                                                                                    Επιλεγμένες Ανακοινώσεις: @selectedProfessorAnnouncementIds.Count
                                                                                </span>
                                                                            </div>
                                                                        }
                                                                    </div>
                                                                </div>
                                                            }

                                                            <!-- Add the legend here - right before the table -->
                                                            <div class="d-flex justify-content-end mb-2">
                                                                <div class="status-legend" style="display: flex; align-items: center; gap: 15px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 6px; padding: 6px 12px;">
                                                                    <div style="display: flex; align-items: center; gap: 8px;">
                                                                        <div style="display: flex; align-items: center;">
                                                                            <div style="width: 16px; height: 16px; background-color: lightblue; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                            <span>Δημοσιευμένη</span>
                                                                        </div>
                                                                        <div style="display: flex; align-items: center;">
                                                                            <div style="width: 16px; height: 16px; background-color: lightcoral; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                            <span>Μη Δημοσιευμένη</span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div style="max-width: auto; margin-left: 0;">
                                                                <div class="table-responsive">
                                                                    <table class="table table-striped">
                                                                        <thead>
                                                                            <tr style="background-color: lightgray; border: 2px solid black;">
                                                                                @if (isBulkEditModeForProfessorAnnouncements && FilteredAnnouncementsAsProfessor != null && FilteredAnnouncementsAsProfessor.Any())
                                                                                {
                                                                                    <th style="border: 2px solid black; width: 40px;">
                                                                                        #
                                                                                    </th>
                                                                                }
                                                                                <th style="border: 2px solid black;">
                                                                                    <i class="fa-solid fa-key fa-sm" style="color: #0d6efd; margin-right: 8px;"></i>
                                                                                    Κωδικός Ανακοίνωσης
                                                                                </th>
                                                                                <th style="border: 2px solid black;">
                                                                                    <i class="fa-solid fa-font fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                    Τίτλος
                                                                                </th>
                                                                                <th style="border: 2px solid black; width: 30%;">
                                                                                    <i class="fa-solid fa-file-lines fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                    Περιγραφή
                                                                                </th>
                                                                                <th style="border: 2px solid black;">
                                                                                    <i class="fa-solid fa-calendar-day fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                    Ημερομηνία Δημοσίευσης
                                                                                </th>
                                                                                <th style="border: 2px solid black;">
                                                                                    <i class="fa-solid fa-arrows-up-down fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                    Κατάσταση
                                                                                </th>
                                                                                <th style="border: 2px solid black;">
                                                                                    <i class="fa-solid fa-hand fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                    Ενέργειες
                                                                                </th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            @if (isLoadingUploadedAnnouncementsAsProfessor)
                                                                            {
                                                                                <tr>
                                                                                    <td colspan="@(isBulkEditModeForProfessorAnnouncements && FilteredAnnouncementsAsProfessor != null && FilteredAnnouncementsAsProfessor.Any() ? "7" : "6")" class="text-center" style="border: 1px solid black;">
                                                                                        <div class="empty-state">
                                                                                            <i class="fas fa-spinner fa-spin fa-3x mb-3" style="color: #0d6efd;"></i>
                                                                                            <h5 style="color: #2d3748; margin-bottom: 10px;">Φόρτωση Ανακοινώσεων...</h5>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                            }
                                                                            else if (FilteredAnnouncementsAsProfessor != null && FilteredAnnouncementsAsProfessor.Any())
                                                                            {
                                                                                @foreach (var professorannouncement in GetPaginatedProfessorAnnouncements_ProfessorAnnouncements())
                                                                                {
                                                                                    <tr style="background-color: @(professorannouncement.ProfessorAnnouncementStatus == "Δημοσιευμένη" ? "lightblue" : "lightcoral"); border: 2px solid black;">
                                                                                        @if (isBulkEditModeForProfessorAnnouncements)
                                                                                        {
                                                                                            <td style="border: 1px solid black; text-align: center;">
                                                                                                <input type="checkbox" 
                                                                                                       @onchange="@((e) => ToggleProfessorAnnouncementSelection(professorannouncement.Id, e))" 
                                                                                                       checked="@selectedProfessorAnnouncementIds.Contains(professorannouncement.Id)" />
                                                                                            </td>
                                                                                        }
                                                                                        <td style="color: #2d3748; border: 1px solid black;">@professorannouncement.ProfessorAnnouncementRNG_HashedAsUniqueID</td>
                                                                                        <td style="border: 1px solid black;">@professorannouncement.ProfessorAnnouncementTitle</td>
                                                                                        <td style="width: 30%; border: 1px solid black;">
                                                                                            @if (professorannouncement.ProfessorAnnouncementDescription.Length > 50) 
                                                                                            {
                                                                                                @professorannouncement.ProfessorAnnouncementDescription.Substring(0, 50)
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                @professorannouncement.ProfessorAnnouncementDescription
                                                                                            }
                                                                                        </td>
                                                                                        <td style="border: 1px solid black;">@professorannouncement.ProfessorAnnouncementUploadDate.ToString("dd/MM/yyyy")</td>
                                                                                        <td style="border: 1px solid black;">@professorannouncement.ProfessorAnnouncementStatus</td>
                                                                                        <td style="border: 1px solid black; position: relative;">
                                                                                            <div class="dropdown">
                                                                                                <!-- Options menu button with ellipsis-h icon -->
                                                                                                <button class="btn btn-action btn-menu" 
                                                                                                        @onclick="() => ToggleProfessorAnnouncementMenu(professorannouncement.Id)" 
                                                                                                        title="Ενέργειες"
                                                                                                        @onclick:stopPropagation="true">
                                                                                                    <i class="fas fa-ellipsis-h icon-button"></i>
                                                                                                </button>

                                                                                                <!-- Dropdown menu -->
                                                                                                @if (activeProfessorAnnouncementMenuId == professorannouncement.Id)
                                                                                                {
                                                                                                    <!-- Invisible backdrop that covers entire screen -->
                                                                                                    <div class="dropdown-backdrop" @onclick="() => ToggleProfessorAnnouncementMenu(0)"></div>

                                                                                                    <div class="dropdown-menu show" @onclick:stopPropagation="true">
                                                                                                        <!-- Delete option -->
                                                                                                        <button class="dropdown-item" @onclick="() => { DeleteAnnouncementAsProfessor(professorannouncement.Id); ToggleProfessorAnnouncementMenu(0); }">
                                                                                                            <i class="fas fa-trash me-2" style="color: #f56565;"></i>
                                                                                                            <span>Διαγραφή</span>
                                                                                                        </button>

                                                                                                        <!-- View details option -->
                                                                                                        <button class="dropdown-item" @onclick="() => { OpenProfessorAnnouncementDetailsModal(professorannouncement); ToggleProfessorAnnouncementMenu(0); }">
                                                                                                            <i class="fas fa-eye me-2" style="color: #63b3ed;"></i>
                                                                                                            <span>Προβολή</span>
                                                                                                        </button>

                                                                                                        <!-- Status change options -->
                                                                                                        @if (professorannouncement.ProfessorAnnouncementStatus == "Δημοσιευμένη")
                                                                                                        {
                                                                                                            <button class="dropdown-item" @onclick='async () => { await ChangeAnnouncementStatusAsProfessor(professorannouncement.Id, "Μη Δημοσιευμένη"); ToggleProfessorAnnouncementMenu(0); }'>
                                                                                                                <i class="fas fa-arrow-down text-warning me-2"></i>
                                                                                                                <span>Αποδημοσίευση</span>
                                                                                                            </button>
                                                                                                        }
                                                                                                        else if (professorannouncement.ProfessorAnnouncementStatus == "Μη Δημοσιευμένη")
                                                                                                        {
                                                                                                            <button class="dropdown-item" @onclick='async () => { await ChangeAnnouncementStatusAsProfessor(professorannouncement.Id, "Δημοσιευμένη"); ToggleProfessorAnnouncementMenu(0); }'>
                                                                                                                <i class="fas fa-arrow-up text-success me-2"></i>
                                                                                                                <span>Δημοσίευση</span>
                                                                                                            </button>

                                                                                                            <!-- Edit option (only for unpublished) -->
                                                                                                            <button class="dropdown-item" @onclick="() => { OpenEditModalAsProfessor(professorannouncement); ToggleProfessorAnnouncementMenu(0); }">
                                                                                                                <i class="fas fa-pencil-alt text-info me-2"></i>
                                                                                                                <span>Επεξεργασία</span>
                                                                                                            </button>
                                                                                                        }
                                                                                                    </div>
                                                                                                }
                                                                                            </div>

                                                                                            <!-- Loading Modal for Delete Professor Announcement -->
                                                                                            @if (showLoadingModalForDeleteProfessorAnnouncement)
                                                                                            {
                                                                                                <div class="loading-modal">
                                                                                                    <div class="loading-modal-content">
                                                                                                        <div class="loading-spinner"></div>
                                                                                                        <p>Διαγραφή Ανακοίνωσης...</p>
                                                                                                        <div class="progress-bar">
                                                                                                            <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            }
                                                                                        </td>
                                                                                    </tr>
                                                                                }
                                                                            }
                                                                            else if (!isLoadingUploadedAnnouncementsAsProfessor)
                                                                            {
                                                                                <tr>
                                                                                    <td colspan="@(isBulkEditModeForProfessorAnnouncements && FilteredAnnouncementsAsProfessor != null && FilteredAnnouncementsAsProfessor.Any() ? "7" : "6")" class="text-center" style="border: 1px solid black;">
                                                                                        <div class="empty-state">
                                                                                            <i class="fas fa-bullhorn fa-3x mb-3" style="color: #6c757d;"></i>
                                                                                            <h5 style="color: #2d3748; margin-bottom: 10px;">Δεν υπάρχουν Ανακοινώσεις</h5>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                            }
                                                                        </tbody>
                                                                    </table>
            
                                                                    @if (FilteredAnnouncementsAsProfessor != null && FilteredAnnouncementsAsProfessor.Any())
                                                                    {
                                                                        <!-- Pagination Controls -->
                                                                        <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                            <!-- First Page (<<) -->
                                                                            <span class="pagination-item @(currentPageForProfessorAnnouncements_ProfessorAnnouncements == 1 ? "disabled" : "")" 
                                                                                  @onclick="@(() => GoToFirstPageForProfessorAnnouncements_ProfessorAnnouncements())">
                                                                                &lt;&lt;
                                                                            </span>
        
                                                                            <!-- Previous Page (<) -->
                                                                            <span class="pagination-item @(currentPageForProfessorAnnouncements_ProfessorAnnouncements == 1 ? "disabled" : "")" 
                                                                                  @onclick="@(() => PreviousPageForProfessorAnnouncements_ProfessorAnnouncements())">
                                                                                &lt;
                                                                            </span>
        
                                                                            <!-- Page Numbers -->
                                                                            @foreach (var pageNum in GetVisiblePagesForProfessorAnnouncements_ProfessorAnnouncements())
                                                                            {
                                                                                @if (pageNum == -1)
                                                                                {
                                                                                    <span class="pagination-ellipsis">...</span>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span class="pagination-item @(pageNum == currentPageForProfessorAnnouncements_ProfessorAnnouncements ? "active" : "")" 
                                                                                          @onclick="@(() => GoToPageForProfessorAnnouncements_ProfessorAnnouncements(pageNum))">
                                                                                        @pageNum
                                                                                    </span>
                                                                                }
                                                                            }
        
                                                                            <!-- Next Page (>) -->
                                                                            <span class="pagination-item @(currentPageForProfessorAnnouncements_ProfessorAnnouncements == totalPagesForProfessorAnnouncements_ProfessorAnnouncements ? "disabled" : "")" 
                                                                                  @onclick="@(() => NextPageForProfessorAnnouncements_ProfessorAnnouncements())">
                                                                                &gt;
                                                                            </span>
        
                                                                            <!-- Last Page (>>) -->
                                                                            <span class="pagination-item @(currentPageForProfessorAnnouncements_ProfessorAnnouncements == totalPagesForProfessorAnnouncements_ProfessorAnnouncements ? "disabled" : "")" 
                                                                                  @onclick="@(() => GoToLastPageForProfessorAnnouncements_ProfessorAnnouncements())">
                                                                                &gt;&gt;
                                                                            </span>
        
                                                                            <!-- Page counter -->
                                                                            <span class="ms-3">Σελίδα @currentPageForProfessorAnnouncements_ProfessorAnnouncements από @totalPagesForProfessorAnnouncements_ProfessorAnnouncements</span>
                                                                        </div>
                                                                        <br/>
                                                                    }
                                                                </div>
                                                            </div>
                                                            <br/>
                                                            <br/>
                                                        }

                                                        <!-- Bulk Action Modal for Professor Announcements -->
                                                        @if (showBulkActionModalForProfessorAnnouncements)
                                                        {
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                <div class="modal-dialog modal-dialog-centered" role="document">
                                                                    <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                        <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                            <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                <i class="fas fa-cogs me-2"></i>Μαζική Επεξεργασία Ανακοινώσεων
                                                                            </h5>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                    @onclick="CloseBulkActionModalForProfessorAnnouncements"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                            </button>
                                                                        </div>
                                                                        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                            <div class="list-group">
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold; color: #2d3748;">Επιλεγμένες Ανακοινώσεις</label>
                                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-list-check" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                        <span>@selectedProfessorAnnouncementIds.Count ανακοινώσεις</span>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold; color: #2d3748;">Επιλέξτε Ενέργεια</label>
                                                                                    <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; border: none;">
                                                                                        <div class="form-check mb-2">
                                                                                            <input class="form-check-input" type="radio" name="bulkActionProfessorAnnouncements" 
                                                                                                   id="actionStatusProfessorAnnouncements" value="status" @onchange="@((e) => bulkActionForProfessorAnnouncements = "status")" 
                                                                                                   style="cursor: pointer; margin-right: 8px;" />
                                                                                            <label class="form-check-label" for="actionStatusProfessorAnnouncements" style="cursor: pointer; color: #2d3748;">
                                                                                                <i class="fas fa-arrows-up-down me-1" style="color: #4682B4;"></i>
                                                                                                Αλλαγή Κατάστασης
                                                                                            </label>
                                                                                        </div>
                                                                                        <div class="form-check">
                                                                                            <input class="form-check-input" type="radio" name="bulkActionProfessorAnnouncements" 
                                                                                                   id="actionCopyProfessorAnnouncements" value="copy" @onchange="@((e) => bulkActionForProfessorAnnouncements = "copy")" 
                                                                                                   style="cursor: pointer; margin-right: 8px;" />
                                                                                            <label class="form-check-label" for="actionCopyProfessorAnnouncements" style="cursor: pointer; color: #2d3748;">
                                                                                                <i class="fas fa-copy me-1" style="color: #4682B4;"></i>
                                                                                                Αντιγραφή Ανακοινώσεων
                                                                                            </label>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                                @if (bulkActionForProfessorAnnouncements == "status")
                                                                                {
                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold; color: #2d3748;">Νέα Κατάσταση</label>
                                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; padding: 0;">
                                                                                            <select class="form-select" @bind="newStatusForBulkActionForProfessorAnnouncements" style="border: none; background: transparent; box-shadow: none;">
                                                                                                <option value="Δημοσιευμένη">Δημοσιευμένη</option>
                                                                                                <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένη</option>
                                                                                            </select>
                                                                                        </div>
                                                                                    </div>
                                                                                }
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                            <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="CloseBulkActionModalForProfessorAnnouncements"
                                                                                    onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                    onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                <i class="fas fa-times me-1"></i>Ακύρωση
                                                                            </button>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="ExecuteBulkActionForProfessorAnnouncements" 
                                                                                    disabled="@string.IsNullOrEmpty(bulkActionForProfessorAnnouncements)"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-play me-1"></i>Εκτέλεση
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }

                                                        @if (selectedProfessorAnnouncementToSeeDetails != null)
                                                        {
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                    <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                        <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                            <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                @selectedProfessorAnnouncementToSeeDetails.ProfessorAnnouncementTitle
                                                                            </h5>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                    @onclick="CloseProfessorAnnouncementDetailsModal"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                            </button>
                                                                        </div>
                                                                        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                            <!-- Description -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιγραφή</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="4">@selectedProfessorAnnouncementToSeeDetails.ProfessorAnnouncementDescription</textarea>
                                                                            </div>

                                                                            <!-- Dates -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Ημερομηνία Δημοσίευσης</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="far fa-calendar-alt mr-2 text-info"></i>
                                                                                    <span>@selectedProfessorAnnouncementToSeeDetails.ProfessorAnnouncementUploadDate.ToString("dd/MM/yyyy")</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Ισχύς έως</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="far fa-calendar-alt mr-2 text-info"></i>
                                                                                    <span>@selectedProfessorAnnouncementToSeeDetails.ProfessorAnnouncementTimeToBeActive.ToString("dd/MM/yyyy")</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Status -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Κατάσταση</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-info-circle mr-2 text-info"></i>
                                                                                    <span>@selectedProfessorAnnouncementToSeeDetails.ProfessorAnnouncementStatus</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Information -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Καθηγητής</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-user-tie mr-2 text-primary"></i>
                                                                                    <span>@(selectedProfessorAnnouncementToSeeDetails.Professor?.ProfName + " " + selectedProfessorAnnouncementToSeeDetails.Professor?.ProfSurname)</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Email Καθηγητή</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                    <span>@selectedProfessorAnnouncementToSeeDetails.ProfessorAnnouncementProfessorEmail</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Attachment -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Συνημμένο</label>
                                                                                <div>
                                                                                    @if (selectedProfessorAnnouncementToSeeDetails.ProfessorAnnouncementAttachmentFile != null)
                                                                                    {
                                                                                        <button class="modern-button" 
                                                                                                onclick="window.open('data:application/pdf;base64,@Convert.ToBase64String(selectedProfessorAnnouncementToSeeDetails.ProfessorAnnouncementAttachmentFile)', '_blank')"
                                                                                                style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;"
                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <i class="fas fa-download me-2"></i> Λήψη Αρχείου
                                                                                        </button>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν έχετε συμπεριλάβει Συνημμένο Αρχείο</span>
                                                                                    }
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="CloseProfessorAnnouncementDetailsModal"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }


                                                        <!-- Modal for editing announcement as PROFESSOR -->
                                                        @if (isEditModalVisibleForAnnouncementsAsProfessor)
                                                        {
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                    <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                        <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                            <h5 class="modal-title" style="color: #007BFF; font-weight: 600; font-size: 1.25rem;">
                                                                                Επεξεργασία Ανακοίνωσης: @currentAnnouncementAsProfessor?.ProfessorAnnouncementTitle
                                                                            </h5>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                    @onclick="CloseEditModalForAnnouncementsAsProfessor"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                            </button>
                                                                        </div>
                                                                        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                            <!-- Title -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τίτλος</label>
                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentAnnouncementAsProfessor.ProfessorAnnouncementTitle" />
                                                                            </div>

                                                                            <!-- Description -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιγραφή</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa; min-height: 120px;" @bind="currentAnnouncementAsProfessor.ProfessorAnnouncementDescription"></textarea>
                                                                            </div>

                                                                            <!-- File Upload -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Αντικατάσταση Συνημμένου</label>
                                                                                <div class="d-flex align-items-center" style="padding: 8px; border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <InputFile OnChange="HandleFileUploadToEditProfessorAnnouncementAttachment" />
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s; margin-right: 8px;" 
                                                                                    @onclick="CloseEditModalForAnnouncementsAsProfessor"
                                                                                    onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                    onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                <i class="fas fa-times me-2"></i> Ακύρωση
                                                                            </button>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="() => UpdateAnnouncementAsProfessor(currentAnnouncementAsProfessor)"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-save me-2"></i> Αποθήκευση
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }
                                                    </div>


                                                    <div id="professor-ptyxiakes-dimiourgia-ptyxiakis"></div>
                                                        
                                                        <div class="tab-pane fade" id="professorthesis" role="tabpanel" aria-labelledby="professorthesis-tab">
                                                            <div class="mb-3 row-dark-gray">
                                                                <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityForUploadProfessorThesis" style="cursor: pointer;">
                                                                    <label class="form-label" style="color: #FFF8DC;">• Δημιουργία Διπλωματικής Εργασίας •</label>
                                                                    <button class="btn btn-link" @onclick="ToggleFormVisibilityForUploadProfessorThesis" @onclick:stopPropagation="true">
                                                                        @if (isProfessorThesisFormVisible)
                                                                        {
                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                        }
                                                                    </button>
                                                                </div>
                                                            </div>
                                                            @*UPLOAD THESIS AS PROFESSOR - PEDIA INPUTS*@  
                                                                @if (isProfessorThesisFormVisible)
                                                                {

                                                                     <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="professorthesisTitle">
                                                                                <strong>Τίτλος Διπλωματικής Εργασίας</strong>
                                                                                <span style="color: red;">*</span>
                                                                            </label>
                                                                            <input type="text" id="professorthesisTitle" class="form-control @(showErrorMessageforUploadingThesisAsProfessor && string.IsNullOrWhiteSpace(professorthesis.ThesisTitle) ? "shake error" : "")" 
                                                                                @bind="professorthesis.ThesisTitle" 
                                                                                @oninput="CheckCharacterLimitInThesisFieldUploadAsProfessor" 
                                                                                maxlength="120"
                                                                                placeholder="Πληκτρολογήστε τον Τίτλο της Διπλωματικής"/>
                                                                            <small class="character-limit light-cadetblue-text">@remainingCharactersInThesisFieldUploadAsProfessor/120</small>
                                                                        </div>
                                                                        @if (showErrorMessageforUploadingThesisAsProfessor && string.IsNullOrWhiteSpace(professorthesis.ThesisTitle))
                                                                        {
                                                                            <div class="text-danger mt-1">Απαιτείται Τίτλος Διπλωματικής Εργασίας.</div>
                                                                        }
                                                                    </div>

                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorThesisDescription"><strong>Σύντομη Περιγραφή</strong> <span style="color: red;"> *</span></label>
                                                                            <textarea id="ProfessorThesisDescription" class="form-control @(showErrorMessageforUploadingThesisAsProfessor && string.IsNullOrWhiteSpace(professorthesis.ThesisDescription) ? "shake error" : "")"
                                                                                      @bind="professorthesis.ThesisDescription"
                                                                                      @oninput="CheckCharacterLimitInThesisDescriptionUploadAsProfessor"
                                                                                      maxlength="1000"
                                                                                      placeholder="Πληκτρολογήστε την Περιγραφή της Διπλωματικής"></textarea>
                                                                            <small class="character-limit light-cadetblue-text">@remainingCharactersInThesisDescriptionUploadAsProfessor/1000</small>
                                                                        </div>
                                                                        @if (showErrorMessageforUploadingThesisAsProfessor && string.IsNullOrWhiteSpace(professorthesis.ThesisDescription))
                                                                        {
                                                                            <div class="text-danger mt-1">Απαιτείται Περιγραφή της Διπλωματικής Εργασίας.</div>
                                                                        }
                                                                    </div>
                                                                 
                                                                    <!-- Professor Thesis Areas -->
                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px; flex-wrap: wrap;">
                                                                                <label style="margin: 0; display: flex; align-items: center; gap: 4px;">
                                                                                    <strong>Τομείς Διπλωματικής</strong>
                                                                                    <span style="color: red;">*</span>
                                                                                </label>
            
                                                                                <button type="button" 
                                                                                        @onclick="ToggleCheckboxesForProfessorThesis"
                                                                                        class="toggle-all-areas-btn @(showErrorMessageforUploadingThesisAsProfessor && !HasAnySelectionForProfessorThesis() ? "shake error" : "")"
                                                                                        style="border: 1px solid #1565c0; background: white; border-radius: 6px; padding: 4px 10px; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; color: #1565c0; font-size: 0.85em; transition: all 0.2s;">
                                                                                    <span>👆</span>
                                                                                    <span>Προβολή τομέων</span>
                                                                                </button>
                                                                            </div>

                                                                            @if (showCheckboxesForProfessorThesis)
                                                                            {
                                                                                <div class="checkbox-container">
                                                                                    @if (availableAreasForProfessorThesis == null || !availableAreasForProfessorThesis.Any())
                                                                                    {
                                                                                        <p>Φορτώνει...</p>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        @foreach (var area in availableAreasForProfessorThesis)
                                                                                        {
                                                                                            <div class="area-container" style="margin-bottom: 8px; border: 2px solid #1565c0; border-radius: 6px; padding: 8px; background-color: #f8f9fa;">
                                                                                                <div class="form-check area-header" style="display: flex; align-items: center; gap: 8px;">
                                                                                                    <input type="checkbox"
                                                                                                           id="professorthesis_area_@area.Id"
                                                                                                           class="form-check-input"
                                                                                                           @onchange="(e) => OnAreaCheckedChangedForProfessorThesis(e, area)"
                                                                                                           checked="@IsAreaSelectedForProfessorThesis(area)" />
                                                                                                    <label class="form-check-label area-label @(showErrorMessageforUploadingThesisAsProfessor && !HasAnySelectionForProfessorThesis() ? "shake error" : "")" 
                                                                                                           for="professorthesis_area_@area.Id"
                                                                                                           style="cursor: pointer; font-weight: bold; flex-grow: 1; color: #1565c0;">
                                                                                                        @area.AreaName
                                                                                                    </label>
                                                                                                    <button type="button"
                                                                                                            @onclick="@(() => ToggleSubFieldsForProfessorThesis(area))"
                                                                                                            @onclick:stopPropagation="true"
                                                                                                            class="expand-btn"
                                                                                                            style="border: 1px solid #1565c0; background: white; border-radius: 4px; padding: 4px 8px; cursor: pointer; display: flex; align-items: center; gap: 4px; font-size: 0.8em; color: #1565c0; transition: all 0.2s;">
                                                                                                        <span>Υποτομείς</span>
                                                                                                        <span class="expand-icon" style="font-size: 10px; transition: transform 0.2s; transform: @(ExpandedAreasForProfessorThesis.Contains(area.Id) ? "rotate(90deg)" : "rotate(0deg)")">▶</span>
                                                                                                    </button>
                                                                                                </div>
                            
                                                                                                @if (ExpandedAreasForProfessorThesis.Contains(area.Id))
                                                                                                {
                                                                                                    <div class="subfields-container" style="margin-top: 12px; margin-left: 28px; padding: 12px; background: white; border: 1px solid #e0e0e0; border-radius: 4px;">
                                                                                                        <div style="font-size: 0.85em; color: #666; margin-bottom: 8px; font-weight: 500;">
                                                                                                            Επιλέξτε υποτομείς:
                                                                                                        </div>
                                                                                                        @if (!string.IsNullOrEmpty(area.AreaSubFields))
                                                                                                        {
                                                                                                            var subFields = area.AreaSubFields.Split(',').Select(s => s.Trim()).ToList();
                                                                                                            @foreach (var subField in subFields)
                                                                                                            {
                                                                                                                <div class="form-check subfield-checkbox" style="margin-bottom: 6px;">
                                                                                                                    <input type="checkbox"
                                                                                                                           id="professorthesis_subfield_@(area.Id)_@(subField)"
                                                                                                                           class="form-check-input"
                                                                                                                           @onchange="(e) => OnSubFieldCheckedChangedForProfessorThesis(e, area, subField)"
                                                                                                                           checked="@IsSubFieldSelectedForProfessorThesis(area, subField)" />
                                                                                                                    <label class="form-check-label" for="professorthesis_subfield_@(area.Id)_@(subField)" style="font-weight: normal; font-size: 0.9em;">
                                                                                                                        @subField
                                                                                                                    </label>
                                                                                                                </div>
                                                                                                            }
                                                                                                        }
                                                                                                    </div>
                                                                                                }
                                                                                            </div>
                                                                                        }
                                                                                    }
                                                                                </div>
                                                                            }
                                                                        </div>
                                                                        @if (showErrorMessageforUploadingThesisAsProfessor && !HasAnySelectionForProfessorThesis())
                                                                        {
                                                                            <div class="text-danger mt-1">Πρέπει να επιλέξετε τουλάχιστον 1 Τομέα Διπλωματικής ή Υποτομέα.</div>
                                                                        }
                                                                    </div>


                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px; flex-wrap: wrap;">
                                                                                <label style="margin: 0; display: flex; align-items: center; gap: 4px;">
                                                                                    <strong>Απαιτούμενες Δεξιότητες</strong>
                                                                                    <span style="color: red;">*</span>
                                                                                </label>
            
                                                                                <button type="button" 
                                                                                        @onclick="ToggleCheckboxesForThesisSkillsAsProfessor"
                                                                                        class="toggle-all-areas-btn @(showErrorMessageforUploadingThesisAsProfessor && string.IsNullOrWhiteSpace(professorthesis.ThesisSkills) ? "shake error" : "")"
                                                                                        style="border: 1px solid @(showErrorMessageforUploadingThesisAsProfessor && string.IsNullOrWhiteSpace(professorthesis.ThesisSkills) ? "#dc3545" : "#1565c0"); background: white; border-radius: 6px; padding: 4px 10px; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; color: @(showErrorMessageforUploadingThesisAsProfessor && string.IsNullOrWhiteSpace(professorthesis.ThesisSkills) ? "#dc3545" : "#1565c0"); font-size: 0.85em; transition: all 0.2s;">
                                                                                    <span>👆</span>
                                                                                    <span>Προβολή δεξιοτήτων</span>
                                                                                </button>
                                                                            </div>

                                                                            <div id="toggleCheckboxesForThesisSkillsAsProfessor" class="checkbox-containerThesisSkills" style="display: none;">
                                                                                @if (availableSkillsForProfessorThesis == null || !availableSkillsForProfessorThesis.Any())
                                                                                {
                                                                                    <p>Φορτώνει...</p>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <div class="d-flex flex-wrap">
                                                                                        @foreach (var skill in availableSkillsForProfessorThesis)
                                                                                        {
                                                                                            <div class="form-check me-2 mb-2" style="flex-basis: 20%;">
                                                                                                <input type="checkbox"
                                                                                                       id="skill_@skill.Id"
                                                                                                       class="form-check-input"
                                                                                                       @onchange="(e) => OnCheckedChangedForThesisSkillsAsProfessor(e, skill)"
                                                                                                       checked="@IsSelectedForThesisSkillsAsProfessor(skill)" />
                                                                                                <label class="form-check-label @(showErrorMessageforUploadingThesisAsProfessor && string.IsNullOrWhiteSpace(professorthesis.ThesisSkills) ? "shake error" : "")"
                                                                                                       for="skill_@skill.Id">
                                                                                                    @skill.SkillName
                                                                                                </label>
                                                                                            </div>
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>
        
                                                                            @if (showErrorMessageforUploadingThesisAsProfessor && string.IsNullOrWhiteSpace(professorthesis.ThesisSkills))
                                                                            {
                                                                                <div class="text-danger mt-1">Πρέπει να επιλέξετε τουλάχιστον 1 Δεξιότητα.</div>
                                                                            }
                                                                        </div>
                                                                    </div>


                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorThesisActivePeriod"><strong>Ημερομηνία Έναρξης</strong> <span style="color: red;"> *</span></label>
                                                                            <input type="date" id="ProfessorThesisActivePeriod" class="form-control @(showErrorMessageforUploadingThesisAsProfessor && professorthesis.ThesisActivePeriod.Date <= DateTime.Today ? "shake error" : "")" 
                                                                                   @bind="professorthesis.ThesisActivePeriod" />
                                                                        </div>
                                                                        @if (showErrorMessageforUploadingThesisAsProfessor && professorthesis.ThesisActivePeriod.Date <= DateTime.Today)
                                                                        {
                                                                            <div class="text-danger mt-1">Η ημερομηνία πρέπει να είναι μεταγενέστερη της σημερινής ημερομηνίας.</div>
                                                                        }
                                                                    </div>

                                                                    <!-- Open Slots Field -->
                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="professorThesisOpenSlots">
                                                                                <strong>Διαθέσιμες Θέσεις</strong>
                                                                                <span style="color: red;">*</span>
                                                                            </label>
                                                                            <input type="number" 
                                                                                   id="professorThesisOpenSlots" 
                                                                                   class="form-control @(showErrorMessageforUploadingThesisAsProfessor && professorthesis.OpenSlots_ProfessorThesis < 3 ? "shake error" : "")" 
                                                                                   @bind="professorthesis.OpenSlots_ProfessorThesis" 
                                                                                   min="3" 
                                                                                   step="1" />
                                                                            @if (showErrorMessageforUploadingThesisAsProfessor && professorthesis.OpenSlots_ProfessorThesis < 3)
                                                                            {
                                                                                <div class="text-danger mt-1">Ο αριθμός των διαθέσιμων θέσεων πρέπει να είναι τουλάχιστον 3.</div>
                                                                            }
                                                                            <small class="form-text text-muted">Αριθμός ανοιχτών θέσεων για αυτή τη Διπλωματική εργασία (ελάχιστο 3)</small>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorThesisAttachment">Συνημμένο Αρχείο Διπλωματικής<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                                            <InputFile id="ProfessorThesisAttachment" class="form-control" OnChange="HandleFileSelectedForThesisAttachmentAsProfessor" />
                                                                            <small class="form-text text-muted">Όριο 10MB - Μόνο αρχεία PDF</small>
                                                                            @if (!string.IsNullOrEmpty(ProfessorThesisAttachmentErrorMessage))
                                                                            {
                                                                                <div class="text-danger mt-2">@ProfessorThesisAttachmentErrorMessage</div>
                                                                            }
                                                                        </div>
                                                                    </div>


                                                                    <!-- SAVE THESIS AS PROFESSOR -->
                                                                    <div class="mb-3">
                                                                        <button class="modern-button"
                                                                                style="background-color: #818589; color: white; display: inline-flex; align-items: center;"
                                                                                @onclick="SaveThesisAsUnpublishedAsProfessor">
                                                                            <i class="fa-regular fa-floppy-disk" style="margin-right: 8px;"></i>
                                                                            Προσωρινή Αποθήκευση Διπλωματικής
                                                                        </button>      
                                                                        <button class="modern-button"
                                                                                style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;"
                                                                                @onclick="SaveThesisAsPublishedAsProfessor">
                                                                            <i class="fa-solid fa-floppy-disk" style="margin-right: 8px;"></i>
                                                                            Δημοσίευση Διπλωματικής
                                                                        </button>
                                                                    </div>
                                                                    <!-- Loading Modal for Professor Thesis -->
                                                                    @if (showLoadingModalForProfessorThesis)
                                                                    {
                                                                        <div class="loading-modal">
                                                                            <div class="loading-modal-content">
                                                                                <div class="loading-spinner"></div>
                                                                                <p>Αποθήκευση Διπλωματικής Εργασίας...</p>
                                                                                <div class="progress-bar">
                                                                                    <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    }
                                                                    @if (!string.IsNullOrEmpty(saveThesisAsProfessorMessage))
                                                                    {
                                                                        <div class="alert @(isSaveThesisAsProfessorSuccessful ? "alert-success" : "alert-danger")" role="alert">
                                                                            @saveThesisAsProfessorMessage
                                                                        </div>
                                                                    }
                                                                }            


                                                            <!-- VIEW UPLOADED THESES AS PROFESSOR -->
                                                            <div class="mb-3 row-dark-gray mt-4">
                                                                <div class="d-flex justify-content-between align-items-center" @onclick="ToggleUploadedThesesVisibilityAsProfessor" style="cursor: pointer;">
                                                                    <label class="form-label" style="color: #FFF8DC;">
                                                                        @if (isLoadingUploadedThesesAsProfessor)
                                                                        {
                                                                            <span>
                                                                                <i class="fas fa-spinner fa-spin me-2"></i>
                                                                                Φόρτωση Διπλωματικών...
                                                                            </span>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>• Οι Διπλωματικές μου Εργασίες •</span>
                                                                        }
                                                                    </label>
                                                                    <button class="btn btn-link" @onclick="ToggleUploadedThesesVisibilityAsProfessor" @onclick:stopPropagation="true">
                                                                        @if (isUploadedThesesVisibleAsProfessor && !isLoadingUploadedThesesAsProfessor)
                                                                        {
                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                        }
                                                                        else if (!isLoadingUploadedThesesAsProfessor)
                                                                        {
                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                        }
                                                                    </button>
                                                                </div>
                                                            </div>

                                                            @if (isUploadedThesesVisibleAsProfessor)
                                                            {
                                                                <div class="row mb-3">
                                                                    <div class="col-md-2">
                                                                        <label for="statusFilterForThesesAsProfessor" style="color: #2d3748;"><strong>Φίλτρο Εμφάνισης</strong></label>
                                                                        <div class="input-group">
                                                                            <select id="statusFilterForThesesAsProfessor" class="form-control form-control-sm" 
                                                                                    @onchange="HandleStatusFilterChangeForThesesAsProfessor">
                                                                                <option value="Όλα">Όλες</option>
                                                                                <option value="Δημοσιευμένη">Δημοσιευμένες</option>
                                                                                <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένες</option>
                                                                                <option value="Αποσυρμένη">Αποσυρμένες</option>
                                                                            </select>
                                                                            <div class="input-group-append">
                                                                                <span class="input-group-text">
                                                                                    <i class="fas fa-chevron-down"></i>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-2">
                                                                        <label style="color: #2d3748;"><strong>Αποτελέσματα ανά Σελίδα</strong></label>
                                                                        <div class="input-group" style="max-width: 65px;">
                                                                            <select class="form-control form-control-sm" @onchange="OnPageSizeChange_SeeMyUploadedThesesAsProfessor" aria-label="Items per page">
                                                                                @foreach (var option in pageSizeOptions_SeeMyUploadedThesesAsProfessor)
                                                                                {
                                                                                    <option value="@option" selected="@(ProfessorThesesPerPage == option)">@option</option>
                                                                                }
                                                                            </select>
                                                                            <div class="input-group-append">
                                                                                <span class="input-group-text">
                                                                                    <i class="fas fa-chevron-down"></i>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-2">
                                                                        @if (selectedStatusFilterForThesesAsProfessor == "Όλα")
                                                                        {
                                                                            <span><strong>Σύνολο: </strong>@totalCountThesesAsProfessor</span>
                                                                        }
                                                                        else if (selectedStatusFilterForThesesAsProfessor == "Δημοσιευμένη")
                                                                        {
                                                                            <span><strong>Σύνολο: </strong>@publishedCountThesesAsProfessor</span>
                                                                        }
                                                                        else if (selectedStatusFilterForThesesAsProfessor == "Μη Δημοσιευμένη")
                                                                        {
                                                                            <span><strong>Σύνολο: </strong>@unpublishedCountThesesAsProfessor</span>
                                                                        }
                                                                        else if (selectedStatusFilterForThesesAsProfessor == "Αποσυρμένη")
                                                                        {
                                                                            <span><strong>Σύνολο: </strong>@withdrawnCountThesesAsProfessor</span>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <!-- Bulk Edit Section for Professor Theses - Only show when there are theses -->
                                                                @if (FilteredThesesAsProfessor != null && FilteredThesesAsProfessor.Any())
                                                                {
                                                                    <div class="row mb-3">
                                                                        <div class="col-md-12">
                                                                            <!-- Bulk Edit Button - Show when NOT in bulk edit mode -->
                                                                            @if (!isBulkEditModeForProfessorTheses)
                                                                            {
                                                                                <div class="mb-2" style="margin-left: -10px;">
                                                                                    <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                            @onclick="EnableBulkEditModeForProfessorTheses"
                                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                        <i class="fas fa-edit" style="margin-right: 8px;"></i>Μαζική Επεξεργασία Θέσεων Διπλωματικής
                                                                                    </button>
                                                                                </div>
                                                                            }

                                                                            <!-- Bulk Action Controls - Show when in bulk edit mode -->
                                                                            @if (isBulkEditModeForProfessorTheses)
                                                                            {
                                                                                <div class="mb-2" style="margin-left: -10px;">
                                                                                    <div class="d-flex gap-2 align-items-center flex-wrap">
                                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                @onclick='() => ExecuteBulkStatusChangeForProfessorTheses("Δημοσιευμένη")'
                                                                                                disabled="@(selectedProfessorThesisIds.Count == 0)"
                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <i class="fas fa-arrow-up me-2"></i>Αλλαγή σε Δημοσιευμένη
                                                                                        </button>
                                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                @onclick='() => ExecuteBulkStatusChangeForProfessorTheses("Μη Δημοσιευμένη")'
                                                                                                disabled="@(selectedProfessorThesisIds.Count == 0)"
                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <i class="fas fa-arrow-down me-2"></i>Αλλαγή σε Μη Δημοσιευμένη
                                                                                        </button>
                                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                @onclick='() => ExecuteBulkStatusChangeForProfessorTheses("Αποσυρμένη")'
                                                                                                disabled="@(selectedProfessorThesisIds.Count == 0)"
                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <i class="fas fa-times me-2"></i>Αλλαγή σε Αποσυρμένη
                                                                                        </button>
                                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                @onclick="ExecuteBulkCopyForProfessorTheses"
                                                                                                disabled="@(selectedProfessorThesisIds.Count == 0)"
                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <i class="fas fa-copy me-2"></i>Κλωνοποίηση
                                                                                        </button>
                                                                                        <button class="modern-button" style="background-color: #6c757d; color: white; display: inline-flex; align-items: center;" 
                                                                                                @onclick="CancelBulkEditForProfessorTheses"
                                                                                                onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                                onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                            <i class="fas fa-times me-2"></i>Ακύρωση
                                                                                        </button>
                                                                                    </div>

                                                                                    <!-- Selected count badge -->
                                                                                    @if (selectedProfessorThesisIds.Count > 0)
                                                                                    {
                                                                                        <div class="mt-2">
                                                                                            <span class="badge bg-primary">
                                                                                                Επιλεγμένες Διπλωματικές: @selectedProfessorThesisIds.Count
                                                                                            </span>
                                                                                        </div>
                                                                                    }

                                                                                    <!-- Instruction text - ALWAYS show when in bulk edit mode -->
                                                                                    <div class="mt-2">
                                                                                        <div class="alert alert-info" style="background-color: #e7f3ff; border: 1px solid #b3d9ff; color: #004085; border-radius: 6px; padding: 8px 12px;">
                                                                                            <i class="fas fa-info-circle me-2"></i>
                                                                                            <strong>Επιλέξτε Διπλωματικές Εργασίες στον Πίνακα</strong>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            }

                                                                            <!-- Add the legend here - right before the table -->
                                                                            <div class="d-flex justify-content-end mb-2">
                                                                                <div class="status-legend" style="display: flex; align-items: center; gap: 15px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 6px; padding: 6px 12px;">
                                                                                    <div style="display: flex; align-items: center; gap: 8px;">
                                                                                        <div style="display: flex; align-items: center;">
                                                                                            <div style="width: 16px; height: 16px; background-color: lightblue; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                                            <span>Δημοσιευμένη</span>
                                                                                        </div>
                                                                                        <div style="display: flex; align-items: center;">
                                                                                            <div style="width: 16px; height: 16px; background-color: lightcoral; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                                            <span>Μη Δημοσιευμένη</span>
                                                                                        </div>
                                                                                        <div style="display: flex; align-items: center;">
                                                                                            <div style="width: 16px; height: 16px; background-color: lightyellow; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                                            <span>Αποσυρμένη</span>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                }

                                                                <div style="max-width: auto; margin-left: 0;">
                                                                    <div class="table-responsive">
                                                                        <table class="table table-striped">
                                                                            <thead>
                                                                                <tr style="border: 2px solid black; background-color: lightgray;">
                                                                                    @if (isBulkEditModeForProfessorTheses && FilteredThesesAsProfessor != null && FilteredThesesAsProfessor.Any())
                                                                                    {
                                                                                        <th style="border: 2px solid black; width: 40px;">
                                                                                            #
                                                                                        </th>
                                                                                    }
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-key fa-sm" style="color: #0d6efd; margin-right: 8px;"></i>
                                                                                        Κωδικός Διπλωματικής
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-font fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Τίτλος
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-arrows-up-down fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Κατάσταση Θέσης
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-calendar-day fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Δημιουργία Θέσης
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-hand fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Ενέργειες
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                @if (isLoadingUploadedThesesAsProfessor)
                                                                                {
                                                                                    <tr>
                                                                                        <td colspan="@(isBulkEditModeForProfessorTheses && FilteredThesesAsProfessor != null && FilteredThesesAsProfessor.Any() ? "6" : "5")" class="text-center" style="border: 1px solid black;">
                                                                                            <div class="empty-state">
                                                                                                <i class="fas fa-spinner fa-spin fa-3x mb-3" style="color: #0d6efd;"></i>
                                                                                                <h5 style="color: #2d3748; margin-bottom: 10px;">Φόρτωση Διπλωματικών...</h5>
                                                                                            </div>
                                                                                        </td>
                                                                                    </tr>
                                                                                }
                                                                                else if (FilteredThesesAsProfessor != null && FilteredThesesAsProfessor.Any())
                                                                                {
                                                                                    @foreach (var thesis in GetPaginatedProfessorTheses().Where(j => selectedStatusFilterForThesesAsProfessor == "Όλα" || j.ThesisStatus == selectedStatusFilterForThesesAsProfessor))
                                                                                    {
                                                                                        <!-- Main Thesis Row -->
                                                                                        <tr style="background-color: @(thesis.ThesisStatus == "Δημοσιευμένη" ? "lightblue" : (thesis.ThesisStatus == "Μη Δημοσιευμένη" ? "lightcoral" : "lightyellow")); border: 2px solid black;">
                                                                                            @if (isBulkEditModeForProfessorTheses)
                                                                                            {
                                                                                                <td style="border: 1px solid black; text-align: center;">
                                                                                                    <input type="checkbox" 
                                                                                                           @onchange="@((e) => ToggleProfessorThesisSelection(thesis.Id, e))" 
                                                                                                           checked="@selectedProfessorThesisIds.Contains(thesis.Id)" />
                                                                                                </td>
                                                                                            }
                                                                                            <td style="color: #2d3748; border: 1px solid black;">
                                                                                                @thesis.RNGForThesisUploaded_HashedAsUniqueID
                                                                                            </td>
                                                                                            <td style="border: 1px solid black;">@thesis.ThesisTitle</td>
                                                                                            <td style="border: 1px solid black;">@thesis.ThesisStatus</td>
                                                                                            <td style="border: 1px solid black;">@thesis.ThesisUploadDateTime.ToString("dd/MM/yyyy")</td>
                                                                                            <td style="border: 1px solid black; position: relative;" class="actions-cell">
                                                                                                <div class="dropdown">
                                                                                                    <!-- Options menu button with ellipsis-h icon -->
                                                                                                    <button class="btn btn-action btn-menu" 
                                                                                                            @onclick="() => ToggleProfessorThesisMenu(thesis.Id)" 
                                                                                                            title="Ενέργειες"
                                                                                                            @onclick:stopPropagation="true">
                                                                                                        <i class="fas fa-ellipsis-h icon-button"></i>
                                                                                                    </button>

                                                                                                    <!-- Dropdown menu -->
                                                                                                    @if (activeProfessorThesisMenuId == thesis.Id)
                                                                                                    {
                                                                                                        <!-- Invisible backdrop that covers entire screen -->
                                                                                                        <div class="dropdown-backdrop" @onclick="() => ToggleProfessorThesisMenu(0)"></div>

                                                                                                        <div class="dropdown-menu show" @onclick:stopPropagation="true">
                                                                                                            <!-- Delete option -->
                                                                                                            <button class="dropdown-item" @onclick="() => { DeleteThesisAsProfessor(thesis.Id); ToggleProfessorThesisMenu(0); }">
                                                                                                                <i class="fas fa-trash me-2" style="color: #f56565;"></i>
                                                                                                                <span>Διαγραφή</span>
                                                                                                            </button>

                                                                                                            <!-- View details option -->
                                                                                                            <button class="dropdown-item" @onclick="() => { ShowProfessorThesisDetailsAsProfessor(thesis); ToggleProfessorThesisMenu(0); }">
                                                                                                                <i class="fas fa-eye me-2" style="color: #63b3ed;"></i>
                                                                                                                <span>Προβολή</span>
                                                                                                            </button>

                                                                                                            <!-- Download attachment option (only if attachment exists) -->
                                                                                                            @if (thesis.ThesisAttachment != null && thesis.ThesisAttachment.Length > 0)
                                                                                                            {
                                                                                                                <button class="dropdown-item" @onclick="() => { DownloadAttachmentForProfessorTheses(thesis.Id); ToggleProfessorThesisMenu(0); }">
                                                                                                                    <i class="fas fa-download me-2" style="color: #48bb78;"></i>
                                                                                                                    <span>Λήψη Αρχείου</span>
                                                                                                                </button>
                                                                                                            }

                                                                                                            <!-- View applicants option -->
                                                                                                            <button class="dropdown-item" @onclick="() => { ToggleProfessorThesisExpanded(thesis.RNGForThesisUploaded); ToggleProfessorThesisMenu(0); }" 
                                                                                                                    disabled="@isLoadingProfessorThesisApplicants">
                                                                                                                <i class="fa-solid fa-graduation-cap me-2" style="color: #0d6efd;"></i>
                                                                                                                <span>
                                                                                                                    @if (isLoadingProfessorThesisApplicants && loadingProfessorThesisId == thesis.RNGForThesisUploaded)
                                                                                                                    {
                                                                                                                        <i class="fas fa-spinner fa-spin"></i>
                                                                                                                    }
                                                                                                                    Αιτούντες
                                                                                                                </span>
                                                                                                            </button>

                                                                                                            <!-- View company interest option -->
                                                                                                            <button class="dropdown-item" @onclick="() => { ToggleProfessorThesesExpandedForCompanyInterest(thesis.RNGForThesisUploaded); ToggleProfessorThesisMenu(0); }" 
                                                                                                                    disabled="@isLoadingProfessorThesisCompanies">
                                                                                                                <i class="fa-solid fa-industry me-2" style="color: #4682b4;"></i>
                                                                                                                <span>
                                                                                                                    @if (isLoadingProfessorThesisCompanies && loadingProfessorThesisCompanyId == thesis.RNGForThesisUploaded)
                                                                                                                    {
                                                                                                                        <i class="fas fa-spinner fa-spin"></i>
                                                                                                                    }
                                                                                                                    Ενδιαφερόμενη Εταιρεία
                                                                                                                </span>
                                                                                                            </button>

                                                                                                            <!-- Status change options -->
                                                                                                            @if (thesis.ThesisStatus == "Δημοσιευμένη")
                                                                                                            {
                                                                                                                <!-- Unpublish option -->
                                                                                                                <button class="dropdown-item" @onclick='async () => { await ChangeThesisStatusAsProfessor(thesis.Id, "Μη Δημοσιευμένη"); ToggleProfessorThesisMenu(0); }'>
                                                                                                                    <i class="fas fa-arrow-down text-warning me-2"></i>
                                                                                                                    <span>Αποδημοσίευση</span>
                                                                                                                </button>

                                                                                                                <!-- Withdraw option -->
                                                                                                                <button class="dropdown-item" @onclick='async () => { await ChangeThesisStatusAsProfessor(thesis.Id, "Αποσυρμένη"); ToggleProfessorThesisMenu(0); }'>
                                                                                                                    <i class="fas fa-times text-danger me-2"></i>
                                                                                                                    <span>Απόσυρση</span>
                                                                                                                </button>
                                                                                                            }
                                                                                                            else if (thesis.ThesisStatus == "Μη Δημοσιευμένη")
                                                                                                            {
                                                                                                                <!-- Edit option -->
                                                                                                                <button class="dropdown-item" @onclick="() => { OpenEditModalForThesisAsProfessor(thesis); ToggleProfessorThesisMenu(0); }">
                                                                                                                    <i class="fas fa-pencil-alt text-info me-2"></i>
                                                                                                                    <span>Επεξεργασία</span>
                                                                                                                </button>

                                                                                                                <!-- Publish option -->
                                                                                                                <button class="dropdown-item" @onclick='async () => { await ChangeThesisStatusAsProfessor(thesis.Id, "Δημοσιευμένη"); ToggleProfessorThesisMenu(0); }'>
                                                                                                                    <i class="fas fa-arrow-up text-success me-2"></i>
                                                                                                                    <span>Δημοσίευση</span>
                                                                                                                </button>
                                                                                                            }
                                                                                                            else if (thesis.ThesisStatus == "Αποσυρμένη")
                                                                                                            {
                                                                                                                <!-- Edit option -->
                                                                                                                <button class="dropdown-item" @onclick="() => { OpenEditModalForThesisAsProfessor(thesis); ToggleProfessorThesisMenu(0); }">
                                                                                                                    <i class="fas fa-pencil-alt text-info me-2"></i>
                                                                                                                    <span>Επεξεργασία</span>
                                                                                                                </button>

                                                                                                                <!-- Publish option -->
                                                                                                                <button class="dropdown-item" @onclick='async () => { await ChangeThesisStatusAsProfessor(thesis.Id, "Δημοσιευμένη"); ToggleProfessorThesisMenu(0); }'>
                                                                                                                    <i class="fas fa-arrow-up text-success me-2"></i>
                                                                                                                    <span>Δημοσίευση</span>
                                                                                                                </button>

                                                                                                                <!-- Unpublish option -->
                                                                                                                <button class="dropdown-item" @onclick='async () => { await ChangeThesisStatusAsProfessor(thesis.Id, "Μη Δημοσιευμένη"); ToggleProfessorThesisMenu(0); }'>
                                                                                                                    <i class="fas fa-arrow-down text-warning me-2"></i>
                                                                                                                    <span>Αποδημοσίευση</span>
                                                                                                                </button>
                                                                                                            }
                                                                                                        </div>
                                                                                                    }
                                                                                                </div>

                                                                                                <!-- Loading Modal for Delete Professor Thesis -->
                                                                                                @if (showLoadingModalForDeleteProfessorThesis)
                                                                                                {
                                                                                                    <div class="loading-modal">
                                                                                                        <div class="loading-modal-content">
                                                                                                            <div class="loading-spinner"></div>
                                                                                                            <p>Διαγραφή Διπλωματικής Εργασίας...</p>
                                                                                                            <div class="progress-bar">
                                                                                                                <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                }
                                                                                            </td>
                                                                                        </tr>

                                                                                        <!-- Interested Students Section - Connected to the main row -->
                                                                                        @if (expandedTheses.ContainsKey(thesis.RNGForThesisUploaded) && expandedTheses[thesis.RNGForThesisUploaded])
                                                                                        {
                                                                                            <tr style="background-color: #e8f4f8; border-left: 4px solid #0d6efd;">
                                                                                                <td colspan="@(isBulkEditModeForProfessorTheses ? "6" : "5")" style="padding: 0; border: 1px solid #0d6efd;">
                                                                                                    <div style="background: linear-gradient(135deg, #e8f4f8 0%, #d1ecf1 100%); padding: 15px; border-radius: 0 0 5px 5px;">
                                                                                                        <!-- Loading State for Applicants -->
                                                                                                        @if (isLoadingProfessorThesisApplicants && loadingProfessorThesisId == thesis.RNGForThesisUploaded)
                                                                                                        {
                                                                                                            <div class="text-center" style="padding: 40px;">
                                                                                                                <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                                                                                                                    <span class="sr-only">Φόρτωση...</span>
                                                                                                                </div>
                                                                                                                <p style="color: #0d6efd; font-weight: bold; margin-top: 15px; font-size: 16px;">
                                                                                                                    Φόρτωση αιτούντων...
                                                                                                                </p>
                                                                                                            </div>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                           <!-- BULK ACTIONS SECTION FOR PROFESSOR THESIS APPLICANTS -->
                                                                                                            @if (professorThesisApplicantsMap.ContainsKey(thesis.RNGForThesisUploaded) && 
                                                                                                                professorThesisApplicantsMap[thesis.RNGForThesisUploaded].Any())
                                                                                                            {
                                                                                                                <div class="row mb-3">
                                                                                                                    <div class="col-md-12">
                                                                                                                        <!-- Bulk Edit Button for Professor Thesis Applicants - Show when NOT in bulk edit mode -->
                                                                                                                        @if (!isBulkEditModeForProfessorThesisApplicants)
                                                                                                                        {
                                                                                                                            <div class="mb-2" style="text-align: left; margin-left: -15px;">
                                                                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                        @onclick="() => EnableBulkEditModeForProfessorThesisApplicants(thesis.RNGForThesisUploaded.ToString())"
                                                                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                                    <i class="fas fa-edit" style="margin-right: 8px;"></i>Μαζική Επεξεργασία Αιτούντων Διπλωματικής
                                                                                                                                </button>
                                                                                                                            </div>
                                                                                                                        }

                                                                                                                        <!-- Bulk Action Controls - Show when in bulk edit mode -->
                                                                                                                        @if (isBulkEditModeForProfessorThesisApplicants)
                                                                                                                        {
                                                                                                                            <div class="mb-2" style="text-align: left; margin-left: -15px;">
                                                                                                                                <div class="d-flex gap-2 align-items-center flex-wrap">
                                                                                                                                    <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                            @onclick='() => ShowEmailConfirmationModalForProfessorThesisApplicants("accept")'
                                                                                                                                            disabled="@(selectedProfessorThesisApplicantIds.Count == 0)"
                                                                                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                                        <i class="fas fa-check me-2"></i>Μαζική Αποδοχή
                                                                                                                                    </button>
                                                                                                                                    <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                            @onclick='() => ShowEmailConfirmationModalForProfessorThesisApplicants("reject")'
                                                                                                                                            disabled="@(selectedProfessorThesisApplicantIds.Count == 0)"
                                                                                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                                        <i class="fas fa-times me-2"></i>Μαζική Απόρριψη
                                                                                                                                    </button>
                                                                                                                                    <button class="modern-button" style="background-color: #6c757d; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                            @onclick="CancelBulkEditForProfessorThesisApplicants"
                                                                                                                                            onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                                                                            onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                                                                        <i class="fas fa-times me-2"></i>Ακύρωση
                                                                                                                                    </button>
                                                                                                                                </div>

                                                                                                                                <!-- Badges section - All badges together -->
                                                                                                                                <div class="mt-2 d-flex gap-2 align-items-center flex-wrap">
                                                                                                                                    <!-- Selected count badge -->
                                                                                                                                    @if (selectedProfessorThesisApplicantIds.Count > 0)
                                                                                                                                    {
                                                                                                                                        <span class="badge bg-primary">
                                                                                                                                            Επιλεγμένες Αιτήσεις: @selectedProfessorThesisApplicantIds.Count
                                                                                                                                        </span>
                                                                                                                                    }

                                                                                                                                    <!-- Total and Accepted badges -->
                                                                                                                                    <span class="badge badge-primary" style="background-color: #0d6efd; padding: 5px 10px; border-radius: 15px;">
                                                                                                                                        Σύνολο Αιτήσεων: @(professorThesisApplicantsMap.ContainsKey(thesis.RNGForThesisUploaded) ? professorThesisApplicantsMap[thesis.RNGForThesisUploaded].Count().ToString() : "0")
                                                                                                                                    </span>
                                                                                                                                    <span class="badge badge-info" style="background-color: #17a2b8; padding: 5px 10px; border-radius: 15px;">
                                                                                                                                        Αποδεκτοί: @acceptedApplicantsCountPerProfessorThesis.GetValueOrDefault(thesis.RNGForThesisUploaded, 0)/@availableSlotsPerProfessorThesis.GetValueOrDefault(thesis.RNGForThesisUploaded, thesis.OpenSlots_ProfessorThesis)
                                                                                                                                    </span>
                                                                                                                                </div>

                                                                                                                                <!-- Instruction text - ALWAYS show when in bulk edit mode -->
                                                                                                                                <div class="mt-2">
                                                                                                                                    <div class="alert alert-info" style="background-color: #e7f3ff; border: 1px solid #b3d9ff; color: #004085; border-radius: 6px; padding: 8px 12px;">
                                                                                                                                        <i class="fas fa-info-circle me-2"></i>
                                                                                                                                        <strong>Επιλέξτε Αιτήσεις στον Πίνακα</strong>
                                                                                                                                    </div>
                                                                                                                                </div>
                                                                                                                            </div>
                                                                                                                        }
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            }
                                                                                                            <!-- END BULK ACTIONS SECTION -->


                                                                                                            @if (professorThesisApplicantsMap.ContainsKey(thesis.RNGForThesisUploaded) && 
                                                                                                                professorThesisApplicantsMap[thesis.RNGForThesisUploaded].Any())
                                                                                                            {
                                                                                                                <div class="table-responsive">
                                                                                                                    <table class="table table-striped">
                                                                                                                        <thead>
                                                                                                                            <tr style="background-color: #cce7ff; border: 1px solid #0d6efd;">
                                                                                                                                @if (isBulkEditModeForProfessorThesisApplicants)
                                                                                                                                {
                                                                                                                                    <th style="border: 1px solid #0d6efd; width: 40px;">
                                                                                                                                        #
                                                                                                                                    </th>
                                                                                                                                }
                                                                                                                                <th style="border: 1px solid #0d6efd;">
                                                                                                                                    <i class="fa-solid fa-user fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                    Προφίλ
                                                                                                                                </th>
                                                                                                                                <th style="border: 1px solid #0d6efd;">
                                                                                                                                    <i class="fa-solid fa-signature fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                    Όνομα
                                                                                                                                </th>
                                                                                                                                <th style="border: 1px solid #0d6efd;">
                                                                                                                                    <i class="fa-solid fa-signature fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                    Επώνυμο
                                                                                                                                </th>
                                                                                                                                <th style="border: 1px solid #0d6efd;">
                                                                                                                                    <i class="fa-solid fa-calendar-plus fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                    Ημερομηνία Αίτησης
                                                                                                                                </th>
                                                                                                                                <th style="border: 1px solid #0d6efd;">
                                                                                                                                    <i class="fa-solid fa-graduation-cap fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                    Έτος Φοίτησης
                                                                                                                                </th>
                                                                                                                                <th style="border: 1px solid #0d6efd;">
                                                                                                                                    <i class="fa-solid fa-phone fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                    Τηλέφωνο
                                                                                                                                </th>
                                                                                                                                <th style="border: 1px solid #0d6efd;">
                                                                                                                                    <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                    Email
                                                                                                                                </th>
                                                                                                                                <th style="border: 1px solid #0d6efd;">
                                                                                                                                    <i class="fa-solid fa-hand fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                    Ενέργεια
                                                                                                                                </th>
                                                                                                                                <th style="border: 1px solid #0d6efd;">
                                                                                                                                    <i class="fa-solid fa-hourglass-half fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                    Κατάσταση Αίτησης
                                                                                                                                </th>
                                                                                                                            </tr>
                                                                                                                        </thead>
                                                                                                                        <tbody>
                                                                                                                            @if (studentDataCache == null)
                                                                                                                            {
                                                                                                                                <tr>
                                                                                                                                    <td colspan="9" class="text-center" style="border: 1px solid #0d6efd;">
                                                                                                                                        <div class="spinner-border text-primary" role="status">
                                                                                                                                            <span class="sr-only">Φόρτωση...</span>
                                                                                                                                        </div>
                                                                                                                                        <p>Φόρτωση δεδομένων φοιτητών...</p>
                                                                                                                                    </td>
                                                                                                                                </tr>
                                                                                                                            }
                                                                                                                            else
                                                                                                                            {
                                                                                                                                @foreach (var applicant in professorThesisApplicantsMap[thesis.RNGForThesisUploaded])
                                                                                                                                {
                                                                                                                                    var student = studentDataCache.TryGetValue(applicant.StudentEmailAppliedForProfessorThesis.ToLower(), out var s) ? s : null;
                                                                                                                                    var status = applicant.ProfessorThesisStatusAppliedAtStudentSide ?? "N/A";
                                                                                                                                    var professorStatus = applicant.ProfessorThesisStatusAppliedAtProfessorSide ?? "N/A";

                                                                                                                                    <tr style="background-color: @(professorStatus == "Έχει γίνει Αποδοχή" ? "lightgreen" :
                                                                                                                                                                    professorStatus == "Έχει Απορριφθεί" ? "lightcoral" :
                                                                                                                                                                    professorStatus == "Αποσύρθηκε από τον φοιτητή" ? "lightyellow" : "transparent")">
                                                                                                                                        @if (isBulkEditModeForProfessorThesisApplicants)
                                                                                                                                        {
                                                                                                                                            <td style="border: 1px solid #0d6efd; text-align: center;">
                                                                                                                                                <div class="disabled-checkbox-container">
                                                                                                                                                    <input type="checkbox" 
                                                                                                                                                           @onchange="@((e) => ToggleProfessorThesisApplicantSelection(applicant.Id, applicant.StudentUniqueIDAppliedForProfessorThesis, e))" 
                                                                                                                                                           checked="@selectedProfessorThesisApplicantIds.Contains((applicant.Id, applicant.StudentUniqueIDAppliedForProfessorThesis))"
                                                                                                                                                           disabled="@(professorStatus != "Σε Επεξεργασία")"
                                                                                                                                                           class="@(professorStatus != "Σε Επεξεργασία" ? "disabled-checkbox" : "")" />
                                                                                                                                                </div>
                                                                                                                                            </td>
                                                                                                                                        }
                                                                                                                                        <td style="border: 1px solid #0d6efd;">
                                                                                                                                            <a href="#" @onclick="() => ShowStudentDetailsInNameAsHyperlinkForProfessorThesis(applicant.StudentUniqueIDAppliedForProfessorThesis, applicant.Id)" 
                                                                                                                                               title="Προφίλ Υποψήφιου Σπουδαστή" style="color: #0d6efd; text-decoration: none;">
                                                                                                                                                <i class="fas fa-eye icon-button text-dark"></i>
                                                                                                                                                @if (student == null)
                                                                                                                                                {
                                                                                                                                                    <span class="badge badge-warning ml-1">Δε βρέθηκε</span>
                                                                                                                                                }
                                                                                                                                            </a>
                                                                                                                                        </td>
                                                                                                                                        <td style="border: 1px solid #0d6efd;">@(student?.Name ?? "Δε βρέθηκε")</td>
                                                                                                                                        <td style="border: 1px solid #0d6efd;">@(student?.Surname ?? "Δε βρέθηκε")</td>
                                                                                                                                        <td style="border: 1px solid #0d6efd;">@applicant.DateTimeStudentAppliedForProfessorThesis.ToString("dd/MM/yyyy HH:mm")</td>
                                                                                                                                        <td style="border: 1px solid #0d6efd;">@(student?.StudyYear ?? "-")</td>
                                                                                                                                        <td style="border: 1px solid #0d6efd;">
                                                                                                                                            <i class="fas fa-phone-alt"></i> @(student?.Telephone ?? "-")
                                                                                                                                        </td>
                                                                                                                                        <td style="border: 1px solid #0d6efd;">
                                                                                                                                            <i class="fas fa-envelope"></i> @applicant.StudentEmailAppliedForProfessorThesis
                                                                                                                                        </td>
                                                                                                                                        <td style="border: 1px solid #0d6efd;">
                                                                                                                                            @if (status == "Σε Επεξεργασία")
                                                                                                                                            {
                                                                                                                                                <div style="display: flex; gap: 10px; justify-content: center;">
                                                                                                                                                    <span @onclick="() => ConfirmAndAcceptProfessorThesis(applicant.Id, applicant.StudentUniqueIDAppliedForProfessorThesis)" 
                                                                                                                                                          title="Αποδοχή Αίτησης" style="cursor: pointer;">
                                                                                                                                                        <i class="fas fa-check action-icon accept-icon"></i>
                                                                                                                                                    </span>

                                                                                                                                                    <span @onclick="() => ConfirmAndRejectProfessorThesis(applicant.Id, applicant.StudentUniqueIDAppliedForProfessorThesis)" 
                                                                                                                                                          title="Απόρριψη Αίτησης" style="cursor: pointer;">
                                                                                                                                                        <i class="fas fa-times action-icon reject-icon"></i>
                                                                                                                                                    </span>
                                                                                                                                                </div>
                                                                                                                                            }
                                                                                                                                            else
                                                                                                                                            {
                                                                                                                                                <span class="text">@status</span>
                                                                                                                                            }
                                                                                                                                        </td>
                                                                                                                                        <td style="border: 1px solid #0d6efd;">
                                                                                                                                            @if (professorStatus == "Έχει γίνει Αποδοχή")
                                                                                                                                            {
                                                                                                                                                <span style="color: green; font-weight: bold;">Έχει γίνει Αποδοχή</span>
                                                                                                                                            }
                                                                                                                                            else if (professorStatus == "Έχει Απορριφθεί")
                                                                                                                                            {
                                                                                                                                                <span style="color: red; font-weight: bold;">Έχει Απορριφθεί</span>
                                                                                                                                            }
                                                                                                                                            else
                                                                                                                                            {
                                                                                                                                                <span>@professorStatus</span>
                                                                                                                                            }
                                                                                                                                        </td>
                                                                                                                                    </tr>
                                                                                                                                }
                                                                                                                            }
                                                                                                                        </tbody>
                                                                                                                    </table>
                                                                                                                </div>
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                <div class="text-center" style="padding: 20px;">
                                                                                                                    <i class="fas fa-users fa-2x" style="color: #6c757d; margin-bottom: 10px;"></i>
                                                                                                                    <p style="color: #6c757d; font-weight: bold; margin: 0;">
                                                                                                                        Δεν Υπάρχουν Αιτούντες για αυτήν την Διπλωματική Εργασία Ακόμη
                                                                                                                    </p>
                                                                                                                </div>
                                                                                                            }
                                                                                                        }
                                                                                                    </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                        }

                                                                                        <!-- Interested Companies Section - Connected to the main row -->
                                                                                        @if (expandedProfessorThesesForCompanyInterest.ContainsKey(thesis.RNGForThesisUploaded) && expandedProfessorThesesForCompanyInterest[thesis.RNGForThesisUploaded])
                                                                                        {
                                                                                            <tr style="background-color: #f0f8ff; border-left: 4px solid #4682b4;">
                                                                                                <td colspan="@(isBulkEditModeForProfessorTheses ? "6" : "5")" style="padding: 0; border: 1px solid #4682b4;">
                                                                                                    <div style="background: linear-gradient(135deg, #f0f8ff 0%, #e6f3ff 100%); padding: 15px; border-radius: 0 0 5px 5px;">
                                                                                                        <!-- Loading State for Company Interest -->
                                                                                                        @if (isLoadingProfessorThesisCompanies && loadingProfessorThesisCompanyId == thesis.RNGForThesisUploaded)
                                                                                                        {
                                                                                                            <div class="text-center" style="padding: 40px;">
                                                                                                                <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                                                                                                                    <span class="sr-only">Φόρτωση...</span>
                                                                                                                </div>
                                                                                                                <p style="color: #4682b4; font-weight: bold; margin-top: 15px; font-size: 16px;">
                                                                                                                    Φόρτωση στοιχείων εταιρείας...
                                                                                                                </p>
                                                                                                            </div>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                           

                                                                                                            @if (thesis.IsCompanyInteresetedInProfessorThesis && thesis.CompanyInterested != null)
                                                                                                            {
                                                                                                                <div class="table-responsive">
                                                                                                                    <table class="table table-striped">
                                                                                                                        <thead>
                                                                                                                            <tr style="background-color: #d6eaff; border: 1px solid #4682b4;">
                                                                                                                                <th style="border: 1px solid #4682b4;">
                                                                                                                                    <i class="fa-solid fa-industry fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                    Εταιρεία
                                                                                                                                </th>
                                                                                                                                <th style="border: 1px solid #4682b4;">
                                                                                                                                    <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                    Email
                                                                                                                                </th>
                                                                                                                            </tr>
                                                                                                                        </thead>
                                                                                                                        <tbody>
                                                                                                                            <tr>
                                                                                                                                <td style="border: 1px solid #4682b4;">
                                                                                                                                    <a href="#" @onclick="() => ShowCompanyDetailsAtProfessorThesisInterestFromHyperlinkCompanyName(thesis)" 
                                                                                                                                       title="Προβολή Στοιχείων Εταιρείας" style="color: #4682b4; text-decoration: none;">
                                                                                                                                        @(thesis.CompanyInterested.CompanyName ?? "Άγνωστη Εταιρεία")
                                                                                                                                    </a>
                                                                                                                                </td>
                                                                                                                                <td style="border: 1px solid #4682b4;">
                                                                                                                                    <i class="fas fa-envelope"></i> @thesis.CompanyInterested.CompanyEmail
                                                                                                                                </td>
                                                                                                                            </tr>
                                                                                                                        </tbody>
                                                                                                                    </table>
                                                                                                                </div>
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                <div class="text-center" style="padding: 20px;">
                                                                                                                    <i class="fas fa-industry fa-2x" style="color: #6c757d; margin-bottom: 10px;"></i>
                                                                                                                    <p style="color: #6c757d; font-weight: bold; margin: 0;">
                                                                                                                        Καμία Εταιρεία δεν έχει εκδηλώσει ενδιαφέρον ακόμη
                                                                                                                    </p>
                                                                                                                </div>
                                                                                                            }
                                                                                                        }
                                                                                                    </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                        }
                                                                                    }
                                                                                }
                                                                                else if (!isLoadingUploadedThesesAsProfessor)
                                                                                {
                                                                                    <tr>
                                                                                        <td colspan="@(isBulkEditModeForProfessorTheses && FilteredThesesAsProfessor != null && FilteredThesesAsProfessor.Any() ? "6" : "5")" class="text-center" style="border: 1px solid black;">
                                                                                            <div class="empty-state">
                                                                                                <i class="fas fa-file-alt fa-3x mb-3" style="color: #6c757d;"></i>
                                                                                                <h5 style="color: #2d3748; margin-bottom: 10px;">Δεν υπάρχουν Διπλωματικές Εργασίες</h5>
                                                                                            </div>
                                                                                        </td>
                                                                                    </tr>
                                                                                }
                                                                            </tbody>
                                                                        </table>
            
                                                                        @if (FilteredThesesAsProfessor != null && FilteredThesesAsProfessor.Any())
                                                                        {
                                                                            <br/>
                                                                            <!-- Pagination Controls -->
                                                                            <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                                <!-- First Page (<<) -->
                                                                                <span class="pagination-item @(currentPageForProfessorTheses == 1 ? "disabled" : "")" 
                                                                                      @onclick="@(() => GoToFirstPageForProfessorTheses())">
                                                                                    &lt;&lt;
                                                                                </span>
            
                                                                                <!-- Previous Page (<) -->
                                                                                <span class="pagination-item @(currentPageForProfessorTheses == 1 ? "disabled" : "")" 
                                                                                      @onclick="@(() => PreviousPageForProfessorTheses())">
                                                                                    &lt;
                                                                                </span>
            
                                                                                <!-- Page Numbers -->
                                                                                @foreach (var pageNum in GetVisiblePagesForProfessorTheses())
                                                                                {
                                                                                    @if (pageNum == -1)
                                                                                    {
                                                                                        <span class="pagination-ellipsis">...</span>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span class="pagination-item @(pageNum == currentPageForProfessorTheses ? "active" : "")" 
                                                                                              @onclick="@(() => GoToPageForProfessorTheses(pageNum))">
                                                                                            @pageNum
                                                                                        </span>
                                                                                    }
                                                                                }
            
                                                                                <!-- Next Page (>) -->
                                                                                <span class="pagination-item @(currentPageForProfessorTheses == totalPagesForProfessorTheses ? "disabled" : "")" 
                                                                                      @onclick="@(() => NextPageForProfessorTheses())">
                                                                                    &gt;
                                                                                </span>
            
                                                                                <!-- Last Page (>>) -->
                                                                                <span class="pagination-item @(currentPageForProfessorTheses == totalPagesForProfessorTheses ? "disabled" : "")" 
                                                                                      @onclick="@(() => GoToLastPageForProfessorTheses())">
                                                                                    &gt;&gt;
                                                                                </span>
            
                                                                                <!-- Page counter -->
                                                                                <span class="ms-3">Σελίδα @currentPageForProfessorTheses από @totalPagesForProfessorTheses</span>
                                                                            </div>
                                                                            <br/>
                                                                        }
                                                                    </div>
                                                                </div>
                                                                <br/>
                                                                <br/>
                                                            }      
                                                            
                                                            <!-- Slot Warning Modal for Professor Theses - NEW CODE -->
                                                            @if (showSlotWarningModalForProfessorThesis)
                                                            {
                                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5); z-index: 1060;">
                                                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); border: 2px solid #2d3748;">
                                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #FFFFFF;">
                                                                                <h5 class="modal-title" style="color: #2d3748; font-weight: 600; font-size: 1.25rem;">
                                                                                    <i class="fas fa-exclamation-triangle me-2"></i>Προσοχή - Όριο Slots Διπλωματικής
                                                                                </h5>
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                        @onclick="CloseSlotWarningModalForProfessorThesis"
                                                                                        onmouseover="this.style.backgroundColor='#2d3748'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                </button>
                                                                            </div>
                                                                            <div class="modal-body" style="padding: 20px;">
                                                                                <div class="alert alert-warning" style="border-radius: 8px; margin: 0;">
                                                                                    <div class="d-flex align-items-center">
                                                                                        <i class="fas fa-exclamation-circle fa-2x me-3" style="color: #2d3748;"></i>
                                                                                        <div>
                                                                                            <h6 style="color: #2d3748; margin-bottom: 8px; font-weight: bold;">Υπέρβαση Διαθέσιμων Θέσεων Διπλωματικής</h6>
                                                                                            <p style="color: #2d3748; margin: 0; line-height: 1.5;">@slotWarningMessageForProfessorThesis</p>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #FFFFFF;">
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                        @onclick="CloseSlotWarningModalForProfessorThesis"
                                                                                        onmouseover="this.style.backgroundColor='#2d3748'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-times me-1"></i>Κλείσιμο
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            }

                                                            <!-- Bulk Action Modal for Professor Theses -->
                                                            @if (showBulkActionModalForProfessorTheses)
                                                            {
                                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                    <i class="fas fa-cogs me-2"></i>Μαζική Επεξεργασία Διπλωματικών
                                                                                </h5>
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                        @onclick="CloseBulkActionModalForProfessorTheses"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                </button>
                                                                            </div>
                                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                <div class="list-group">
                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold; color: #2d3748;">Επιλεγμένες Διπλωματικές</label>
                                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-list-check" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                            <span>@selectedProfessorThesisIds.Count Διπλωματικές</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold; color: #2d3748;">Επιλέξτε Ενέργεια</label>
                                                                                        <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; border: none;">
                                                                                            <div class="form-check mb-2">
                                                                                                <input class="form-check-input" type="radio" name="bulkActionProfessorTheses" 
                                                                                                       id="actionStatusProfessorTheses" value="status" @onchange="@((e) => bulkActionForProfessorTheses = "status")" 
                                                                                                       style="cursor: pointer; margin-right: 8px;" />
                                                                                                <label class="form-check-label" for="actionStatusProfessorTheses" style="cursor: pointer; color: #2d3748;">
                                                                                                    <i class="fas fa-arrows-up-down me-1" style="color: #4682B4;"></i>
                                                                                                    Αλλαγή Κατάστασης
                                                                                                </label>
                                                                                            </div>
                                                                                            <div class="form-check">
                                                                                                <input class="form-check-input" type="radio" name="bulkActionProfessorTheses" 
                                                                                                       id="actionCopyProfessorTheses" value="copy" @onchange="@((e) => bulkActionForProfessorTheses = "copy")" 
                                                                                                       style="cursor: pointer; margin-right: 8px;" />
                                                                                                <label class="form-check-label" for="actionCopyProfessorTheses" style="cursor: pointer; color: #2d3748;">
                                                                                                    <i class="fas fa-copy me-1" style="color: #4682B4;"></i>
                                                                                                    Αντιγραφή Διπλωματικών
                                                                                                </label>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>

                                                                                    @if (bulkActionForProfessorTheses == "status")
                                                                                    {
                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold; color: #2d3748;">Νέα Κατάσταση</label>
                                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; padding: 0;">
                                                                                                <select class="form-select" @bind="newStatusForBulkActionForProfessorTheses" style="border: none; background: transparent; box-shadow: none;">
                                                                                                    <option value="Δημοσιευμένη">Δημοσιευμένη</option>
                                                                                                    <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένη</option>
                                                                                                    <option value="Αποσυρμένη">Αποσυρμένη</option>
                                                                                                </select>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                </div>
                                                                            </div>
                                                                            <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                                <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                        @onclick="CloseBulkActionModalForProfessorTheses"
                                                                                        onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                        onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                    <i class="fas fa-times me-1"></i>Ακύρωση
                                                                                </button>
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                        @onclick="ExecuteBulkActionForProfessorTheses" 
                                                                                        disabled="@string.IsNullOrEmpty(bulkActionForProfessorTheses)"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-play me-1"></i>Εκτέλεση
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            }                                            
                                                            
                                                            <!-- Email Confirmation Modal for Professor Thesis Applicants -->
                                                            @if (showEmailConfirmationModalForProfessorThesisApplicants)
                                                            {
                                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                    <i class="fas fa-envelope me-2"></i>Αποστολή Email Διπλωματικής
                                                                                </h5>
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                        @onclick="CloseEmailConfirmationModalForProfessorThesisApplicants"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                </button>
                                                                            </div>
                                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                <div class="list-group">
                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold; color: #2d3748;">Επιλεγμένες Αιτήσεις</label>
                                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-list-check" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                            <span>@selectedProfessorThesisApplicantIds.Count αιτήσεις</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold; color: #2d3748;">Ενέργεια</label>
                                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas @(pendingBulkActionForProfessorThesisApplicants == "accept" ? "fa-check text-success" : "fa-times text-danger") me-2"></i>
                                                                                            <span>@(pendingBulkActionForProfessorThesisApplicants == "accept" ? "Μαζική Αποδοχή" : "Μαζική Απόρριψη")</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold; color: #2d3748;">Αποστολή Email Ειδοποιήσεων</label>
                                                                                        <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; border: none;">
                                                                                            <div class="form-check mb-2">
                                                                                                <input class="form-check-input" type="radio" name="emailOptionProfessorThesis" 
                                                                                                       id="sendEmailsProfessorThesis" value="true" @onchange="@((e) => sendEmailsForBulkProfessorThesisAction = true)" 
                                                                                                       checked="@sendEmailsForBulkProfessorThesisAction"
                                                                                                       style="cursor: pointer; margin-right: 8px;" />
                                                                                                <label class="form-check-label" for="sendEmailsProfessorThesis" style="cursor: pointer; color: #2d3748;">
                                                                                                    <i class="fas fa-envelope me-1" style="color: #4682B4;"></i>
                                                                                                    Να σταλούν Email στους Φοιτητές και στον Καθηγητή
                                                                                                </label>
                                                                                            </div>
                                                                                            <div class="form-check">
                                                                                                <input class="form-check-input" type="radio" name="emailOptionProfessorThesis" 
                                                                                                       id="dontSendEmailsProfessorThesis" value="false" @onchange="@((e) => sendEmailsForBulkProfessorThesisAction = false)" 
                                                                                                       checked="@(!sendEmailsForBulkProfessorThesisAction)"
                                                                                                       style="cursor: pointer; margin-right: 8px;" />
                                                                                                <label class="form-check-label" for="dontSendEmailsProfessorThesis" style="cursor: pointer; color: #2d3748;">
                                                                                                    <i class="fas fa-envelope-slash me-1" style="color: #6c757d;"></i>
                                                                                                    Να μην σταλούν Email (μόνο ενημέρωση κατάστασης)
                                                                                                </label>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="alert @(sendEmailsForBulkProfessorThesisAction ? "alert-info" : "alert-warning")" style="border-radius: 8px;">
                                                                                        <i class="fas @(sendEmailsForBulkProfessorThesisAction ? "fa-info-circle" : "fa-exclamation-triangle") me-2"></i>
                                                                                        @if (sendEmailsForBulkProfessorThesisAction)
                                                                                        {
                                                                                            <strong>Πληροφορία:</strong> 
                                                                                            <span>Θα σταλούν @selectedProfessorThesisApplicantIds.Count email @(pendingBulkActionForProfessorThesisApplicants == "accept" ? "αποδοχής" : "απόρριψης") στους φοιτητές και email ειδοποίησης στον καθηγητή.</span>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <strong>Προσοχή:</strong> 
                                                                                            <span>Η ενέργεια θα εφαρμοστεί μόνο στην εφαρμογή. Δεν θα σταλούν email ειδοποιήσεων. Οι φοιτητές θα δουν την αλλαγή κατάστασης όταν συνδεθούν.</span>
                                                                                        }
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                                <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                        @onclick="CloseEmailConfirmationModalForProfessorThesisApplicants"
                                                                                        onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                        onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                    <i class="fas fa-times me-1"></i>Ακύρωση
                                                                                </button>
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                        @onclick="ExecuteBulkActionForProfessorThesisApplicants" 
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-play me-1"></i>Εκτέλεση
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            }

                                                            <!-- SEARCH COMPANY THESES AS PROFESSOR -->
                                                            <div class="mb-3 row-dark-gray mt-4">
                                                                <div class="d-flex justify-content-between align-items-center" @onclick="ToggleToSearchForUploadedCompanyThesesAsProfessor" style="cursor: pointer;">
                                                                    <label class="form-label" style="color: #FFF8DC;">• Αναζήτηση Διπλωματικών Από Εταιρείες •</label>
                                                                    <button class="btn btn-link" @onclick="ToggleToSearchForUploadedCompanyThesesAsProfessor" @onclick:stopPropagation="true">
                                                                        @if (isUploadedCompanyThesesVisibleAsProfessor)
                                                                        {
                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                        }
                                                                    </button>
                                                                </div>
                                                            </div>

                                                            @if (isUploadedCompanyThesesVisibleAsProfessor)
                                                            {
                                                                <!-- Search Form -->
                                                                <div class="row mb-3">
                                                                    <!-- Company Name Field with Autocomplete -->
                                                                    <div class="col-md-4 position-relative">
                                                                        <label for="searchCompanyNameToFindThesesAsProfessor" class="fw-bold">Όνομα Εταιρείας</label>
                                                                        <input 
                                                                            type="text" 
                                                                            id="searchCompanyNameToFindThesesAsProfessor"
                                                                            class="form-control" 
                                                                            placeholder="Εισάγετε όνομα εταιρείας" 
                                                                            @bind="searchCompanyNameToFindThesesAsProfessor" 
                                                                            @oninput="HandleCompanyNameInput" />
    
                                                                        <!-- Suggestions Dropdown -->
                                                                        <ul class="list-group position-absolute" 
                                                                            style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                            hidden="@(!companyNameSuggestions.Any())">
                                                                            @foreach (var suggestion in companyNameSuggestions)
                                                                            {
                                                                                <li class="list-group-item list-group-item-action" 
                                                                                    @onclick="() => SelectCompanyNameSuggestion(suggestion)">
                                                                                    @suggestion
                                                                                </li>
                                                                            }
                                                                        </ul>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label for="searchThesisTitleToFindThesesAsProfessor"><strong>Τίτλος Διπλωματικής</strong></label>
                                                                        <input type="text" id="searchThesisTitleToFindThesesAsProfessor" class="form-control" @bind="searchThesisTitleToFindThesesAsProfessor" placeholder="Εισάγετε τίτλο" />
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label for="searchSupervisorToFindThesesAsProfessor"><strong>Ονοματεπώνυμο Επιβλέποντα</strong></label>
                                                                        <input type="text" id="searchSupervisorToFindThesesAsProfessor" class="form-control" @bind="searchSupervisorToFindThesesAsProfessor" placeholder="Εισάγετε όνομα επιβλέποντα" />
                                                                    </div>                                                                        
                                                                    <div class="col-md-4">
                                                                        <label for="searchDepartmentToFindThesesAsProfessor"><strong>Τμήμα</strong></label>
                                                                        <input type="text" id="searchDepartmentToFindThesesAsProfessor" class="form-control" @bind="searchDepartmentToFindThesesAsProfessor" placeholder="Εισάγετε τμήμα" />
                                                                    </div>
                                                                    <!-- Skills Field with Autocomplete -->
                                                                    <div class="col-md-4 position-relative">
                                                                        <label for="searchSkillsToFindThesesAsProfessor" class="fw-bold">Δεξιότητες</label>
                                                                        <input 
                                                                            type="text" 
                                                                            id="searchSkillsToFindThesesAsProfessor"
                                                                            class="form-control" 
                                                                            placeholder="Εισάγετε δεξιότητες" 
                                                                            @bind="searchSkillsInputToFindThesesAsProfessor" 
                                                                            @oninput="HandleSkillsInputToFindThesesAsProfessor" />
    
                                                                        <!-- Suggestions Dropdown -->
                                                                        <ul class="list-group position-absolute" 
                                                                            style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                            hidden="@(!skillSuggestionsToFindThesesAsProfessor.Any())">
                                                                            @foreach (var suggestion in skillSuggestionsToFindThesesAsProfessor)
                                                                            {
                                                                                <li class="list-group-item list-group-item-action" 
                                                                                    @onclick="() => SelectSkillSuggestionToFindThesesAsProfessor(suggestion)">
                                                                                    @suggestion
                                                                                </li>
                                                                            }
                                                                        </ul>

                                                                        <!-- Selected Skills -->
                                                                        <div class="mt-3 selected-skills-container">
                                                                            @if (selectedSkillsToFindThesesAsProfessor.Any())
                                                                            {
                                                                                <ul class="list-group selected-skills-list">
                                                                                    @foreach (var skill in selectedSkillsToFindThesesAsProfessor)
                                                                                    {
                                                                                        <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                                            @skill
                                                                                            <button class="btn btn-danger btn-sm" @onclick="() => RemoveSelectedSkillToFindThesesAsProfessor(skill)">
                                                                                                <i class="fas fa-times"></i>
                                                                                            </button>
                                                                                        </li>
                                                                                    }
                                                                                </ul>
                                                                            }
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label for="searchStartingDateToFindThesesAsProfessor"><strong>Ξεκινάει Από</strong></label>
                                                                        <input type="date" id="searchStartingDateToFindThesesAsProfessor" class="form-control" @bind="searchStartingDateToFindThesesAsProfessor" />
                                                                    </div>
                                                                </div>


                                                                <div class="row mb-3">
                                                                    <div class="col-md-12">
                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="SearchCompanyThesesAsProfessor">
                                                                            <i class="fa-brands fa-searchengin" style="margin-right: 8px;"></i>Αναζήτηση
                                                                        </button>
                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="ClearSearchFieldsForSearchCompanyThesesAsProfessor">
                                                                            <i class="fa-solid fa-broom" style="margin-right: 8px;"></i>Εκκαθάριση
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                <br/>
                                                                <br/>


                                                                
                                                               @if (searchPerformedToFindThesesAsProfessor)
                                                               {
                                                                    @if (companyThesesResultsToFindThesesAsProfessor != null && companyThesesResultsToFindThesesAsProfessor.Any())
                                                                    {
                                                                        <div class="row mb-3">
                                                                            <div class="col-md-2">
                                                                                <label style="color: #2d3748; font-weight: bold; font-size: 15px;">Αποτελέσματα ανά Σελίδα</label>
                                                                                <div class="input-group" style="max-width: 65px;">
                                                                                    <select class="form-control form-control-sm" 
                                                                                            @onchange="OnPageSizeChange_SearchForCompanyThesesAsProfessor" 
                                                                                            aria-label="Items per page">
                                                                                        @foreach (var option in companyThesesPageSize_SearchForCompanyThesesAsProfessor)
                                                                                        {
                                                                                            <option value="@option" selected="@(CompanyThesesPerPage == option)">@option</option>
                                                                                        }
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <td colspan="9" style="padding: 0;">
                                                                                        <div style="display: flex; justify-content: space-between; align-items: center; height: 24px; line-height: 24px; width: 100%;">
                                                                                             <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd;"></i>
                                                                                                <label class="form-label" style="color: #0d6efd; font-weight: bold; font-size: 18px; margin: 0;">Αποτέλεσμα Αναζήτησης</label>
                                                                                             <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd;"></i>
                                                                                         </div>
                                                                                    </td>
                                                                                </tr>
                                                                                <tr style="background-color: lightgray; border: 2px solid black;">
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-industry fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Εταιρεία
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-font fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Τίτλος Διπλωματικής
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-calendar-plus fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Ημερομηνία Δημιουργίας
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-circle-info fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Επισκόπηση
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-heart fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Ένδειξη Ενδιαφέροντος
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-hourglass-half fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Κατάσταση
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>
                                                                                <tbody>
                                                                                    @foreach (var thesis in GetPaginatedCompanyTheses_AsProfessor())
                                                                                    {
                                                                                        // Determine row background color
                                                                                        string rowColor = thesis.IsProfessorInterestedInCompanyThesisStatus switch
                                                                                        {
                                                                                            "Έχετε Αποδεχτεί" => "lightgreen",
                                                                                            _ => "transparent"
                                                                                        };

                                                                                        <tr style="background-color: @rowColor;">
                                                                                            <td>
                                                                                                <a href="#" @onclick="() => ShowCompanyDetailsFromHyperlinkNameToTheProfessor(thesis.CompanyEmailUsedToUploadThesis)">
                                                                                                    @(thesis.Company?.CompanyName ?? "Άγνωστη Εταιρεία")
                                                                                                </a>
                                                                                            </td>
                                                                                            <td>@thesis.CompanyThesisTitle</td>
                                                                                            <td>@thesis.CompanyThesisUploadDateTime.ToShortDateString()</td>                             
                                                                                            <td style="text-align: center;">
                                                                                                <i class="fa fa-eye" aria-hidden="true" style="cursor: pointer; color: blue;" @onclick="() => ShowThesisDetails(thesis)"></i>
                                                                                            </td>
                                                                                            <td style="text-align: center;">
                                                                                                @if (thesis.IsProfessorInteresetedInCompanyThesis)
                                                                                                {
                                                                                                    // Check if the CURRENT professor is the one who showed interest
                                                                                                    if (thesis.ProfessorEmailInterestedInCompanyThesis == CurrentUserEmail)
                                                                                                    {
                                                                                                        if (thesis.IsProfessorInterestedInCompanyThesisStatus == "Έχετε Αποδεχτεί")
                                                                                                        {
                                                                                                            <span>Ολοκληρώθηκε</span>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <span>Έχετε Εκδηλώσει Ενδιαφέρον</span>
                                                                                                        }
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        // Another professor has shown interest - show "Not Available"
                                                                                                        <span style="color: black;">Μη Διαθέσιμο</span>
                                                                                                    }
                                                                                                }
                                                                                                else if (thesis.IsProfessorInterestedInCompanyThesisStatus == "Δεν έχει γίνει Αποδοχή")
                                                                                                {
                                                                                                    <i class="fas fa-check" @onclick="() => MarkInterestInThesisCompanyThesisAsProfessor(thesis)" style="cursor: pointer;"></i>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <span>Αναμονή Αποδοχής</span>; 
                                                                                                }
                                                                                            </td>
                                                                                            <td>
                                                                                                @if (thesis.IsProfessorInteresetedInCompanyThesis)
                                                                                                {
                                                                                                    if (thesis.ProfessorEmailInterestedInCompanyThesis == CurrentUserEmail)
                                                                                                    {
                                                                                                        @thesis.IsProfessorInterestedInCompanyThesisStatus
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <span style="display: block; text-align: center;">-</span>
                                                                                                    }
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @thesis.IsProfessorInterestedInCompanyThesisStatus
                                                                                                }
                                                                                            </td>
                                                                                        </tr>
                                                                                    }
                                                                            </tbody>
                                                                        </table>
                                                                        <!-- Pagination Controls -->
                                                                        <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                            <span class="pagination-item @(currentPage_CompanyTheses == 1 ? "disabled" : "")"
                                                                                  @onclick="GoToFirstPage_CompanyTheses">
                                                                                &lt;&lt;
                                                                            </span>

                                                                            <span class="pagination-item @(currentPage_CompanyTheses == 1 ? "disabled" : "")"
                                                                                  @onclick="PreviousPage_CompanyTheses">
                                                                                &lt;
                                                                            </span>

                                                                            @foreach (var pageNum in GetVisiblePages_CompanyTheses_AsProfessor())
                                                                            {
                                                                                if (pageNum == -1)
                                                                                {
                                                                                    <span class="pagination-ellipsis">...</span>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span class="pagination-item @(pageNum == currentPage_CompanyTheses ? "active" : "")"
                                                                                          @onclick="@(() => GoToPage_CompanyTheses(pageNum))">
                                                                                        @pageNum
                                                                                    </span>
                                                                                }
                                                                            }

                                                                            <span class="pagination-item @(currentPage_CompanyTheses == totalPages_CompanyTheses ? "disabled" : "")"
                                                                                  @onclick="NextPage_CompanyTheses">
                                                                                &gt;
                                                                            </span>

                                                                            <span class="pagination-item @(currentPage_CompanyTheses == totalPages_CompanyTheses ? "disabled" : "")"
                                                                                  @onclick="GoToLastPage_CompanyTheses">
                                                                                &gt;&gt;
                                                                            </span>

                                                                            <span class="ms-3">
                                                                                Σελίδα @currentPage_CompanyTheses από @totalPages_CompanyTheses
                                                                            </span>
                                                                        </div>

                                                                        <br/>
                                                                        <br/>
                                                                    }
                                                                    else
                                                                    {
                                                                        <div class="alert alert-warning d-flex align-items-center" role="alert">
                                                                          <i class="fas fa-exclamation-triangle me-2"></i>
                                                                          <div>Δεν βρέθηκε κάποιο αποτέλεσμα που να πληρεί τα κριτήρια της Αναζήτησης σας.</div>
                                                                        </div>
                                                                        <br/>
                                                                        <br/>
                                                                    }
                                                               }
                                                            
                                                            }                                                           
                                                        </div>  

                                                        <!-- Loading Modal for Professor Interest in Company Thesis -->
                                                        @if (showLoadingModalWhenMarkInterestInCompanyThesisAsProfessor)
                                                        {
                                                            <div class="loading-modal">
                                                                <div class="loading-modal-content">
                                                                    <div class="loading-spinner"></div>
                                                                    <p>Ένδειξη ενδιαφέροντος για Διπλωματική εργασία εταιρείας...</p>
                                                                    <div class="progress-bar">
                                                                        <div class="progress-bar-fill" style="width: @loadingProgressWhenMarkInterestInCompanyThesisAsProfessor%"></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }

                                                                <div class="tab-pane  fade" id="professorinternships" role="tabpanel" aria-labelledby="professorinternships-tab">
                                                                    <div class="mb-3 row-dark-gray">
                                                                        <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityForUploadProfessorInternship" style="cursor: pointer;">
                                                                            <label class="form-label" style="color: #FFF8DC;">• Δημιουργία Θέσης Πρακτικής Άσκησης •</label>
                                                                            <button class="btn btn-link" @onclick="ToggleFormVisibilityForUploadProfessorInternship" @onclick:stopPropagation="true">
                                                                                @if (isProfessorInternshipFormVisible)
                                                                                {
                                                                                    <span>&#8722;</span> <!-- Minus sign -->
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span>&#43;</span> <!-- Plus sign -->
                                                                                }
                                                                            </button>
                                                                        </div>
                                                                    </div>

                                                                    @if (isProfessorInternshipFormVisible)
                                                                    {
                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label for="professorInternshipType"><strong>Τύπος Πρακτικής</strong><span style="color: red;"> *</span></label>
                                                                                <div class="input-group">
                                                                                    <select id="professorInternshipType" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(professorInternship.ProfessorInternshipType) ? "shake error" : "")" 
                                                                                            @bind="professorInternship.ProfessorInternshipType">
                                                                                        <option value="">-- Επιλέξτε Τύπο Πρακτικής --</option>
                                                                                        <option value="Full-Time">Πλήρους Απασχόλησης</option>
                                                                                        <option value="Part-Time">Μερικής Απασχόλησης</option>
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            @if (showErrorMessage && string.IsNullOrWhiteSpace(professorInternship.ProfessorInternshipType))
                                                                            {
                                                                                <div class="text-danger mt-1">Απαιτείται επιλογή Τύπου Πρακτικής.</div>
                                                                            }
                                                                        </div>

                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label for="professorInternshipESPA"><strong>Χρηματοδότηση</strong><span style="color: red;"> *</span></label>
                                                                                <div class="input-group">
                                                                                    <select id="professorInternshipESPA" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(professorInternship.ProfessorInternshipESPA) ? "shake error" : "")" 
                                                                                            @bind="professorInternship.ProfessorInternshipESPA">
                                                                                        <option value="">-- Επιλέξτε Χρηματοδότηση --</option>
                                                                                        <option value="ESPA-Funding">Μέσω ΕΣΠΑ</option>
                                                                                        <option value="Same-Funding">Ιδίου Φορεά</option>
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            @if (showErrorMessage && string.IsNullOrWhiteSpace(professorInternship.ProfessorInternshipESPA))
                                                                            {
                                                                                <div class="text-danger mt-1">Απαιτείται επιλογή Τύπου Χρηματοδότησης.</div>
                                                                            }
                                                                        </div>

                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                 <label for="editForeas">Φορέας</label> <span style="font-style: italic; color: gray;"> (Προαιρετικό)</span>
                                                                                 <select id="editForeas" class="form-control" @bind="professorInternship.ProfessorInternshipForeas">
                                                                                          @foreach (var foreas in ForeasType)
                                                                                          {
                                                                                            <option value="@foreas">@foreas</option>
                                                                                          }
                                                                                 </select>
                                                                            </div>  
                                                                        </div>
                                                                        
                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label for="ProfessorInternshipCompanyToCooperate">Εταιρείας Συνεργασίας<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                                                <div class="input-group">
                                                                                    <select id="ProfessorInternshipCompanyToCooperate" class="form-control" @bind="selectedCompanyId">
                                                                                        <option value="">-- Χωρίς Προτίμηση --</option>
                                                                                        @foreach (var company in companies)
                                                                                        {
                                                                                            <option value="@company.Id">
                                                                                                @($"{company.CompanyName}")
                                                                                            </option>
                                                                                        }
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label for="ProfessorInternshipActivePeriod"><strong>Διαθέσιμη Από</strong><span style="color: red;"> *</span></label>
                                                                                <input type="date" id="ProfessorInternshipActivePeriod" class="form-control @(showErrorMessage && professorInternship.ProfessorInternshipActivePeriod.Date <= DateTime.Today ? "shake error" : "")" 
                                                                                       @bind="professorInternship.ProfessorInternshipActivePeriod" />
                                                                            </div>
                                                                            @if (showErrorMessage && professorInternship.ProfessorInternshipActivePeriod.Date <= DateTime.Today)
                                                                            {
                                                                                <div class="text-danger mt-1">Η ημερομηνία πρέπει να είναι μεταγενέστερη της σημερινής ημερομηνίας.</div>
                                                                            }
                                                                        </div>

                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label for="ProfessorInternshipFinishEstimation"><strong>Ολοκλήρωση Μέχρι</strong><span style="color: red;"> *</span></label>
                                                                                <input type="date" id="ProfessorInternshipFinishEstimation" class="form-control @(showErrorMessage && professorInternship.ProfessorInternshipFinishEstimation.Date <= professorInternship.ProfessorInternshipActivePeriod.Date ? "shake error" : "")" 
                                                                                       @bind="professorInternship.ProfessorInternshipFinishEstimation" />
                                                                            </div>
                                                                            @if (showErrorMessage && professorInternship.ProfessorInternshipFinishEstimation.Date <= professorInternship.ProfessorInternshipActivePeriod.Date)
                                                                            {
                                                                                <div class="text-danger mt-1">Η ημερομηνία λήξης πρέπει να είναι μεταγενέστερη της ημερομηνίας έναρξης</div>
                                                                            }
                                                                        </div>

                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4 position-relative">
                                                                                <label for="ProfessorInternshipTitle"><strong>Τίτλος Πρακτικής</strong><span style="color: red;"> *</span></label>
                                                                                <input type="text" id="ProfessorInternshipTitle" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(professorInternship.ProfessorInternshipTitle) ? "shake error" : "")"
                                                                                       @bind="professorInternship.ProfessorInternshipTitle" @oninput="CheckCharacterLimitInInternshipFieldUploadAsProfessor" maxlength="120" />
                                                                                <small class="character-limit light-cadetblue-text">@remainingCharactersInInternshipFieldUploadAsProfessor/120</small>
                                                                            </div>
                                                                            @if (showErrorMessage && string.IsNullOrWhiteSpace(professorInternship.ProfessorInternshipTitle))
                                                                            {
                                                                                <div class="text-danger mt-1">Απαιτείται Τίτλος Πρακτικής.</div>
                                                                            }
                                                                        </div>

                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label><strong>Υπεύθυνος Επικοινωνίας</strong><span style="color: red;"> *</span></label>
                                                                                <input type="text" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(professorInternship.ProfessorInternshipContactPerson) ? "shake error" : "")"
                                                                                       @bind="professorInternship.ProfessorInternshipContactPerson" />
                                                                            </div>
                                                                        </div>

                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label for="PositionContactPerson">
                                                                                    <strong>Email Υπευθύνου</strong>
                                                                                    <span style="color: red;">*</span>
                                                                                </label>
                                                                                <input type="email" id="PositionContactPerson" 
                                                                                       class="form-control @(showErrorMessageforUploadinginternshipsAsProfessor && !IsValidEmailForProfessorInternships(professorInternship.ProfessorEmailUsedToUploadInternship) ? "shake error" : "")" 
                                                                                       @bind="professorInternship.ProfessorEmailUsedToUploadInternship" 
                                                                                       placeholder="example@mail.com" />
                                                                                @if (showErrorMessageforUploadinginternshipsAsProfessor && !IsValidEmailForProfessorInternships(professorInternship.ProfessorEmailUsedToUploadInternship))
                                                                                {
                                                                                    <small style="color: red;">Παρακαλώ εισάγετε ένα έγκυρο email.</small>
                                                                                }
                                                                            </div>
                                                                        </div>

                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label><strong>Τηλέφωνο Υπεύθυνου</strong></label>
                                                                                <div class="input-group">
                                                                                    <div class="input-group-prepend">
                                                                                        <span class="input-group-textfortelephone">+30</span>
                                                                                    </div>
                                                                                    <input type="tel" class="form-control"
                                                                                           @bind="professorInternship.ProfessorInternshipContactTelephonePerson" />
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                         <!-- Region Dropdown -->
                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label for="ProfessorInternshipPerifereiaLocation"><strong>Περιφέρεια</strong><span style="color: red;"> *</span></label>
                                                                                <div class="input-group">
                                                                                    <select id="ProfessorInternshipPerifereiaLocation" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(professorInternship.ProfessorInternshipPerifereiaLocation) ? "shake error" : "")" @bind="professorInternship.ProfessorInternshipPerifereiaLocation">
                                                                                        <option value="">-- Επιλέξτε Περιφέρεια --</option>
                                                                                        @foreach (var region in Regions)
                                                                                        {
                                                                                            <option value="@region">@region</option>
                                                                                        }
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            @if (showErrorMessage && string.IsNullOrWhiteSpace(professorInternship.ProfessorInternshipPerifereiaLocation))
                                                                            {
                                                                                <div class="text-danger mt-1">Απαιτείται επιλογή Περιφέρειας.</div>
                                                                            }
                                                                        </div>

                                                                        <!-- Town Dropdown -->
                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label for="ProfessorInternshipDimosLocation"><strong>Δήμος</strong><span style="color: red;"> *</span></label>
                                                                                <div class="input-group">
                                                                                    <select id="ProfessorInternshipDimosLocation" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(professorInternship.ProfessorInternshipDimosLocation) ? "shake error" : "")" @bind="professorInternship.ProfessorInternshipDimosLocation">
                                                                                        <option value="">-- Επιλέξτε Δήμο --</option>
                                                                                        @foreach (var town in GetTownsForRegion(professorInternship.ProfessorInternshipPerifereiaLocation))
                                                                                        {
                                                                                            <option value="@town">@town</option>
                                                                                        }
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            @if (showErrorMessage && string.IsNullOrWhiteSpace(professorInternship.ProfessorInternshipDimosLocation))
                                                                            {
                                                                                <div class="text-danger mt-1">Απαιτείται επιλογή δήμου.</div>
                                                                            }
                                                                        </div>

                                                                        <!-- Ταχυδρομικός Κώδικας Τοποθεσίας Καθηγητή -->
                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label for="ProfessorInternshipPostalCodeLocation">Ταχυδρομικός Κώδικας Τοποθεσίας<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                                                <input type="text" id="ProfessorInternshipPostalCodeLocation" class="form-control" @bind="professorInternship.ProfessorInternshipPostalCodeLocation" placeholder="Ταχυδρομικός Κώδικας" />
                                                                            </div>
                                                                        </div>

                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label><strong>Προσφορά Μεταφοράς</strong><span style="color: red;"> *</span></label>
                                                                                <div class="form-check">
                                                                                    <input type="radio" id="ProfessorInternshipTransportOfferYes" class="form-check-input" name="ProfessorInternshipTransportOffer" value="true" checked="@(professorInternship.ProfessorInternshipTransportOffer ? "checked" : "")" @onchange="() => UpdateTransportOfferForProfessorInternship(true)" />
                                                                                    <label for="CompanyInternshipTransportOfferYes" class="form-check-label">Ναι</label>
                                                                                </div>
                                                                                <div class="form-check">
                                                                                    <input type="radio" id="ProfessorInternshipTransportOfferYes" class="form-check-input" name="ProfessorInternshipTransportOffer" value="false" checked="@(professorInternship.ProfessorInternshipTransportOffer  ? "" : "checked")" @onchange="() => UpdateTransportOfferForProfessorInternship(false)" />
                                                                                    <label for="ProfessorInternshipTransportOfferYes" class="form-check-label">Όχι</label>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <!-- Professor Internship Areas -->
                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px; flex-wrap: wrap;">
                                                                                    <label style="margin: 0; display: flex; align-items: center; gap: 4px;">
                                                                                        <strong>Τομείς Πρακτικής</strong>
                                                                                        <span style="color: red;">*</span>
                                                                                    </label>
            
                                                                                    <button type="button" 
                                                                                            @onclick="ToggleCheckboxesForProfessorInternship"
                                                                                            class="toggle-all-areas-btn @(showErrorMessage && !HasAnySelectionForProfessorInternship() ? "shake error" : "")"
                                                                                            style="border: 1px solid #1565c0; background: white; border-radius: 6px; padding: 4px 10px; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; color: #1565c0; font-size: 0.85em; transition: all 0.2s;">
                                                                                        <span>👆</span>
                                                                                        <span>Προβολή τομέων</span>
                                                                                    </button>
                                                                                </div>

                                                                                @if (showCheckboxesForProfessorInternship)
                                                                                {
                                                                                    <div class="checkbox-container">
                                                                                        @if (Areas == null || !Areas.Any())
                                                                                        {
                                                                                            <p>Φορτώνει...</p>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            @foreach (var area in Areas)
                                                                                            {
                                                                                                <div class="area-container" style="margin-bottom: 8px; border: 2px solid #1565c0; border-radius: 6px; padding: 8px; background-color: #f8f9fa;">
                                                                                                    <div class="form-check area-header" style="display: flex; align-items: center; gap: 8px;">
                                                                                                        <input type="checkbox"
                                                                                                               id="professorinternship_area_@area.Id"
                                                                                                               class="form-check-input"
                                                                                                               @onchange="(e) => OnAreaCheckedChangedForProfessorInternship(e, area)"
                                                                                                               checked="@IsAreaSelectedForProfessorInternship(area)" />
                                                                                                        <label class="form-check-label area-label @(showErrorMessage && !HasAnySelectionForProfessorInternship() ? "shake error" : "")" 
                                                                                                               for="professorinternship_area_@area.Id"
                                                                                                               style="cursor: pointer; font-weight: bold; flex-grow: 1; color: #1565c0;">
                                                                                                            @area.AreaName
                                                                                                        </label>
                                                                                                        <button type="button"
                                                                                                                @onclick="@(() => ToggleSubFieldsForProfessorInternship(area))"
                                                                                                                @onclick:stopPropagation="true"
                                                                                                                class="expand-btn"
                                                                                                                style="border: 1px solid #1565c0; background: white; border-radius: 4px; padding: 4px 8px; cursor: pointer; display: flex; align-items: center; gap: 4px; font-size: 0.8em; color: #1565c0; transition: all 0.2s;">
                                                                                                            <span>Υποτομείς</span>
                                                                                                            <span class="expand-icon" style="font-size: 10px; transition: transform 0.2s; transform: @(ExpandedAreasForProfessorInternship.Contains(area.Id) ? "rotate(90deg)" : "rotate(0deg)")">▶</span>
                                                                                                        </button>
                                                                                                    </div>
                            
                                                                                                    @if (ExpandedAreasForProfessorInternship.Contains(area.Id))
                                                                                                    {
                                                                                                        <div class="subfields-container" style="margin-top: 12px; margin-left: 28px; padding: 12px; background: white; border: 1px solid #e0e0e0; border-radius: 4px;">
                                                                                                            <div style="font-size: 0.85em; color: #666; margin-bottom: 8px; font-weight: 500;">
                                                                                                                Επιλέξτε υποτομείς:
                                                                                                            </div>
                                                                                                            @if (!string.IsNullOrEmpty(area.AreaSubFields))
                                                                                                            {
                                                                                                                var subFields = area.AreaSubFields.Split(',').Select(s => s.Trim()).ToList();
                                                                                                                @foreach (var subField in subFields)
                                                                                                                {
                                                                                                                    <div class="form-check subfield-checkbox" style="margin-bottom: 6px;">
                                                                                                                        <input type="checkbox"
                                                                                                                               id="professorinternship_subfield_@(area.Id)_@(subField)"
                                                                                                                               class="form-check-input"
                                                                                                                               @onchange="(e) => OnSubFieldCheckedChangedForProfessorInternship(e, area, subField)"
                                                                                                                               checked="@IsSubFieldSelectedForProfessorInternship(area, subField)" />
                                                                                                                        <label class="form-check-label" for="professorinternship_subfield_@(area.Id)_@(subField)" style="font-weight: normal; font-size: 0.9em;">
                                                                                                                            @subField
                                                                                                                        </label>
                                                                                                                    </div>
                                                                                                                }
                                                                                                            }
                                                                                                        </div>
                                                                                                    }
                                                                                                </div>
                                                                                            }
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>
                                                                            @if (showErrorMessage && !HasAnySelectionForProfessorInternship())
                                                                            {
                                                                                <div class="text-danger mt-1">Πρέπει να επιλέξετε τουλάχιστον 1 Τομέα Πρακτικής ή Υποτομέα.</div>
                                                                            }
                                                                        </div>                                                             

                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4 position-relative">
                                                                                <label for="ProfessorInternshipDescription"><strong>Περιγραφή Πρακτικής</strong><span style="color: red;"> *</span></label>
                                                                                <textarea id="ProfessorInternshipDescription" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(professorInternship.ProfessorInternshipDescription) ? "shake error" : "")"
                                                                                          @bind="professorInternship.ProfessorInternshipDescription"
                                                                                          @oninput="CheckCharacterLimitInInternshipDescriptionUploadAsProfessor"
                                                                                          maxlength="1000"
                                                                                          placeholder="Περιγραφή Πρακτικής"></textarea>
                                                                                <small class="character-limit light-cadetblue-text">@remainingCharactersInInternshipDescriptionUploadAsProfessor/1000</small>
                                                                            </div>
                                                                            @if (showErrorMessage && string.IsNullOrWhiteSpace(professorInternship.ProfessorInternshipDescription))
                                                                            {
                                                                                <div class="text-danger mt-1">Απαιτείται περιγραφή της πρακτικής.</div>
                                                                            }
                                                                        </div>

                                                                        <!-- Open Slots Field -->
                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label for="professorInternshipOpenSlots">
                                                                                    <strong>Διαθέσιμες Θέσεις</strong>
                                                                                    <span style="color: red;">*</span>
                                                                                </label>
                                                                                <input type="number" 
                                                                                       id="professorInternshipOpenSlots" 
                                                                                       class="form-control @(showErrorMessage && professorInternship.OpenSlots_ProfessorInternship < 3 ? "shake error" : "")" 
                                                                                       @bind="professorInternship.OpenSlots_ProfessorInternship" 
                                                                                       min="3" 
                                                                                       step="1" />
                                                                                @if (showErrorMessage && professorInternship.OpenSlots_ProfessorInternship < 3)
                                                                                {
                                                                                    <div class="text-danger mt-1">Ο αριθμός των διαθέσιμων θέσεων πρέπει να είναι τουλάχιστον 3.</div>
                                                                                }
                                                                                <small class="form-text text-muted">Αριθμός ανοιχτών θέσεων για αυτή την πρακτική άσκηση (ελάχιστο 3)</small>
                                                                            </div>
                                                                        </div>

                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label for="ProfessorInternshipAttachment">Συνημμένο Αρχείο Πρακτικής<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                                                <InputFile id="ProfessorInternshipAttachment" class="form-control" OnChange="HandleFileUploadForProfessorInternships" />
                                                                                <small class="form-text text-muted">Όριο 10MB - Μόνο αρχεία PDF</small>
                                                                                @if (!string.IsNullOrEmpty(ProfessorInternshipAttachmentErrorMessage))
                                                                                {
                                                                                    <div class="text-danger mt-2">@ProfessorInternshipAttachmentErrorMessage</div>
                                                                                }
                                                                            </div>
                                                                        </div>

                                                                                                                                               

                                                                        <!-- SAVE INTERNSHIP AS PROFESSOR -->
                                                                        <div class="mb-3">
                                                                            <button class="modern-button"
                                                                                                    style="background-color: #818589; color: white; display: inline-flex; align-items: center;"
                                                                                    @onclick="HandleSaveClickToSaveProfessorInternship">
                                                                                <i class="fa-regular fa-floppy-disk" style="margin-right: 8px;"></i>
                                                                                Προσωρινή Αποθήκευση Πρακτικής
                                                                            </button>
                                                                            <button class="modern-button"
                                                                                    style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;"
                                                                                    @onclick="HandlePublishClickToSaveProfessorInternship">
                                                                                <i class="fa-solid fa-floppy-disk" style="margin-right: 8px;"></i>
                                                                                Δημοσίευση Πρακτικής
                                                                            </button>
                                                                        </div>
                                                                        <!-- Loading Modal for Professor Internship -->
                                                                        @if (showLoadingModalForProfessorInternship)
                                                                        {
                                                                            <div class="loading-modal">
                                                                                <div class="loading-modal-content">
                                                                                    <div class="loading-spinner"></div>
                                                                                    <p>Αποθήκευση Πρακτικής Άσκησης...</p>
                                                                                    <div class="progress-bar">
                                                                                        <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        }

                                                                    }


                                                    <div id="show-my-uploaded-internships-as-professor"></div>

                                                                    <!-- VIEW UPLOADED INTERNSHIPS AS PROFESSOR -->
                                                                    <div class="mb-3 row-dark-gray">
                                                                        <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityToShowMyActiveInternshipsAsProfessor" style="cursor: pointer;">
                                                                            <label class="form-label" style="color: #FFF8DC;">
                                                                                @if (isLoadingInternshipsHistoryAsProfessor)
                                                                                {
                                                                                    <span>
                                                                                        <i class="fas fa-spinner fa-spin me-2"></i>
                                                                                        Φόρτωση Ιστορικού...
                                                                                    </span>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span>• Ιστορικό Θέσεων Πρακτικής Άσκησης •</span>
                                                                                }
                                                                            </label>
                                                                            <button class="btn btn-link" @onclick="ToggleFormVisibilityToShowMyActiveInternshipsAsProfessor" @onclick:stopPropagation="true">
                                                                                @if (isShowActiveInternshipsAsProfessorFormVisible && !isLoadingInternshipsHistoryAsProfessor)
                                                                                {
                                                                                    <span>&#8722;</span> <!-- Minus sign -->
                                                                                }
                                                                                else if (!isLoadingInternshipsHistoryAsProfessor)
                                                                                {
                                                                                    <span>&#43;</span> <!-- Plus sign -->
                                                                                }
                                                                            </button>
                                                                        </div>
                                                                    </div>

                                                                    @if (isShowActiveInternshipsAsProfessorFormVisible)
                                                                    {
                                                                        <div class="row mb-3">
                                                                            <div class="col-md-2">
                                                                                <label for="statusFilterProfessor" style="color: #2d3748;"><strong>Φίλτρο Εμφάνισης</strong></label>
                                                                                <div class="input-group">
                                                                                    <select id="statusFilterProfessor" class="form-control form-control-sm" 
                                                                                            @onchange="HandleStatusFilterChangeForProfessorInternships">
                                                                                        <option value="Όλα">Όλες</option>
                                                                                        <option value="Δημοσιευμένη">Δημοσιευμένες</option>
                                                                                        <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένες</option>
                                                                                        <option value="Αποσυρμένη">Αποσυρμένες</option>
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-2">
                                                                                <label style="color: #2d3748;"><strong>Αποτελέσματα ανά Σελίδα</strong></label>
                                                                                <div class="input-group" style="max-width: 65px;">
                                                                                    <select class="form-control form-control-sm" 
                                                                                            @onchange="OnPageSizeChange_SeeMyUploadedInternshipsAsProfessor" 
                                                                                            aria-label="Items per page">
                                                                                        @foreach (var option in pageSizeOptions_SeeMyUploadedInternshipsAsProfessor)
                                                                                        {
                                                                                            <option value="@option" selected="@(itemsPerPage_ProfessorInternships == option)">@option</option>
                                                                                        }
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-2">
                                                                                @if (selectedStatusFilterForProfessorInternships == "Όλα")
                                                                                {
                                                                                    <span><strong>Σύνολο: </strong>@totalProfessorInternshipsCount</span>
                                                                                }
                                                                                @if (selectedStatusFilterForProfessorInternships == "Δημοσιευμένη")
                                                                                {
                                                                                    <span><strong>Σύνολο: </strong>@publishedProfessorInternshipsCount</span>
                                                                                }
                                                                                else if (selectedStatusFilterForProfessorInternships == "Μη Δημοσιευμένη")
                                                                                {
                                                                                    <span><strong>Σύνολο: </strong>@unpublishedProfessorInternshipsCount</span>
                                                                                }
                                                                                else if (selectedStatusFilterForProfessorInternships == "Αποσυρμένη")
                                                                                {
                                                                                    <span><strong>Σύνολο: </strong>@withdrawnProfessorInternshipsCount</span>
                                                                                }
                                                                            </div>
                                                                        </div>

                                                                        <!-- Bulk Edit Section for Professor Internships - Only show when there are internships -->
                                                                        @if (professorInternships != null && professorInternships.Any())
                                                                        {
                                                                            <div class="row mb-3">
                                                                                <div class="col-md-12">
                                                                                    <!-- Bulk Edit Button - Show when NOT in bulk edit mode -->
                                                                                    @if (!isBulkEditModeForProfessorInternships)
                                                                                    {
                                                                                        <div class="mb-2" style="margin-left: -10px;">
                                                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                    @onclick="EnableBulkEditModeForProfessorInternships"
                                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                <i class="fas fa-edit" style="margin-right: 8px;"></i>Μαζική Επεξεργασία Θέσεων Πρακτικής
                                                                                            </button>
                                                                                        </div>
                                                                                    }

                                                                                    <!-- Bulk Action Controls - Show when in bulk edit mode -->
                                                                                    @if (isBulkEditModeForProfessorInternships)
                                                                                    {
                                                                                        <div class="mb-2" style="margin-left: -10px;">
                                                                                            <div class="d-flex gap-2 align-items-center flex-wrap">
                                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                        @onclick='() => ExecuteBulkStatusChangeForProfessorInternships("Δημοσιευμένη")'
                                                                                                        disabled="@(selectedProfessorInternshipIds.Count == 0)"
                                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                    <i class="fas fa-arrow-up me-2"></i>Αλλαγή σε Δημοσιευμένη
                                                                                                </button>
                                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                        @onclick='() => ExecuteBulkStatusChangeForProfessorInternships("Μη Δημοσιευμένη")'
                                                                                                        disabled="@(selectedProfessorInternshipIds.Count == 0)"
                                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                    <i class="fas fa-arrow-down me-2"></i>Αλλαγή σε Μη Δημοσιευμένη
                                                                                                </button>
                                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                        @onclick='() => ExecuteBulkStatusChangeForProfessorInternships("Αποσυρμένη")'
                                                                                                        disabled="@(selectedProfessorInternshipIds.Count == 0)"
                                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                    <i class="fas fa-times me-2"></i>Αλλαγή σε Αποσυρμένη
                                                                                                </button>
                                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                        @onclick="ExecuteBulkCopyForProfessorInternships"
                                                                                                        disabled="@(selectedProfessorInternshipIds.Count == 0)"
                                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                    <i class="fas fa-copy me-2"></i>Κλωνοποίηση
                                                                                                </button>
                                                                                                <button class="modern-button" style="background-color: #6c757d; color: white; display: inline-flex; align-items: center;" 
                                                                                                        @onclick="CancelBulkEditForProfessorInternships"
                                                                                                        onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                                        onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                                    <i class="fas fa-times me-2"></i>Ακύρωση
                                                                                                </button>
                                                                                            </div>

                                                                                            <!-- Selected count badge -->
                                                                                            @if (selectedProfessorInternshipIds.Count > 0)
                                                                                            {
                                                                                                <div class="mt-2">
                                                                                                    <span class="badge bg-primary">
                                                                                                        Επιλεγμένες Πρακτικές: @selectedProfessorInternshipIds.Count
                                                                                                    </span>
                                                                                                </div>
                                                                                            }

                                                                                            <!-- Instruction text - ALWAYS show when in bulk edit mode -->
                                                                                            <div class="mt-2">
                                                                                                <div class="alert alert-info" style="background-color: #e7f3ff; border: 1px solid #b3d9ff; color: #004085; border-radius: 6px; padding: 8px 12px;">
                                                                                                    <i class="fas fa-info-circle me-2"></i>
                                                                                                    <strong>Επιλέξτε Πρακτικές Ασκήσεις στον Πίνακα</strong>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }

                                                                                    <!-- Add the legend here - right before the table -->
                                                                                    <div class="d-flex justify-content-end mb-2">
                                                                                        <div class="status-legend" style="display: flex; align-items: center; gap: 15px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 6px; padding: 6px 12px;">
                                                                                            <div style="display: flex; align-items: center; gap: 8px;">
                                                                                                <div style="display: flex; align-items: center;">
                                                                                                    <div style="width: 16px; height: 16px; background-color: lightblue; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                                                    <span>Δημοσιευμένη</span>
                                                                                                </div>
                                                                                                <div style="display: flex; align-items: center;">
                                                                                                    <div style="width: 16px; height: 16px; background-color: lightcoral; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                                                    <span>Μη Δημοσιευμένη</span>
                                                                                                </div>
                                                                                                <div style="display: flex; align-items: center;">
                                                                                                    <div style="width: 16px; height: 16px; background-color: lightyellow; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                                                    <span>Αποσυρμένη</span>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>

                                                                                </div>
                                                                            </div>
                                                                        }

                                                                        <div style="max-width: auto; margin-left: 0;">
                                                                            <div class="table-responsive">
                                                                                <table class="table table-striped">
                                                                                    <thead>
                                                                                        <tr style="border: 2px solid black; background-color: lightgray;">
                                                                                            @if (isBulkEditModeForProfessorInternships && professorInternships != null && professorInternships.Any())
                                                                                            {
                                                                                                <th style="border: 2px solid black; width: 40px;">
                                                                                                    #
                                                                                                </th>
                                                                                            }
                                                                                            <th style="border: 2px solid black;">
                                                                                                <i class="fa-solid fa-key fa-sm" style="color: #0d6efd; margin-right: 8px;"></i>
                                                                                                ID
                                                                                            </th>
                                                                                            <th style="border: 2px solid black;">
                                                                                                <i class="fa-solid fa-font fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                Τίτλος
                                                                                            </th>
                                                                                            <th style="border: 2px solid black;">
                                                                                                <i class="fa-solid fa-arrows-up-down fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                Κατάσταση Θέσης
                                                                                            </th>
                                                                                            <th style="border: 2px solid black;">
                                                                                                <i class="fa-solid fa-calendar-day fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                Δημιουργία Θέσης
                                                                                            </th>
                                                                                            <th style="border: 2px solid black;">
                                                                                                <i class="fa-solid fa-location-dot fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                Τόπος Άσκησης
                                                                                            </th>
                                                                                            <th style="border: 2px solid black;">
                                                                                                <i class="fa-solid fa-hand fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                Ενέργειες
                                                                                            </th>
                                                                                        </tr>
                                                                                    </thead>
                                                                                    <tbody>
                                                                                        @if (isLoadingInternshipsHistoryAsProfessor)
                                                                                        {
                                                                                            <tr>
                                                                                                <td colspan="@(isBulkEditModeForProfessorInternships && professorInternships != null && professorInternships.Any() ? "7" : "6")" class="text-center" style="border: 1px solid black;">
                                                                                                    <div class="empty-state">
                                                                                                        <i class="fas fa-spinner fa-spin fa-3x mb-3" style="color: #0d6efd;"></i>
                                                                                                        <h5 style="color: #2d3748; margin-bottom: 10px;">Φόρτωση Πρακτικών Ασκήσεων...</h5>
                                                                                                    </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                        }
                                                                                        else if (professorInternships != null && professorInternships.Any())
                                                                                        {
                                                                                            @foreach (var internship in GetPaginatedProfessorInternships().Where(i => selectedStatusFilterForProfessorInternships == "Όλα" || i.ProfessorUploadedInternshipStatus == selectedStatusFilterForProfessorInternships))
                                                                                            {
                                                                                                <!-- Main Internship Row -->
                                                                                                <tr style="background-color: @(internship.ProfessorUploadedInternshipStatus == "Δημοσιευμένη" ? "lightblue" : (internship.ProfessorUploadedInternshipStatus == "Μη Δημοσιευμένη" ? "lightcoral" : "lightyellow")); border: 2px solid black;">
                                                                                                    @if (isBulkEditModeForProfessorInternships)
                                                                                                    {
                                                                                                        <td style="border: 1px solid black; text-align: center;">
                                                                                                            <input type="checkbox" 
                                                                                                                   @onchange="@((e) => ToggleProfessorInternshipSelection(internship.Id, e))" 
                                                                                                                   checked="@selectedProfessorInternshipIds.Contains(internship.Id)" />
                                                                                                        </td>
                                                                                                    }
                                                                                                    <td style="color: #2d3748; border: 1px solid black;">
                                                                                                        @internship.RNGForInternshipUploadedAsProfessor_HashedAsUniqueID
                                                                                                    </td>
                                                                                                    <td style="border: 1px solid black; cursor: pointer;" 
                                                                                                        @onclick="() => ToggleProfessorInternshipExpanded(internship.RNGForInternshipUploadedAsProfessor)" 
                                                                                                        title="Κλικ για εμφάνιση αιτούντων">
                                                                                                        @internship.ProfessorInternshipTitle
                                                                                                    </td>
                                                                                                    <td style="border: 1px solid black;">@internship.ProfessorUploadedInternshipStatus</td>
                                                                                                    <td style="border: 1px solid black;">@internship.ProfessorInternshipUploadDate</td>
                                                                                                    <td style="border: 1px solid black;">@internship.ProfessorInternshipDimosLocation</td>
                                                                                                    <td style="border: 1px solid black; position: relative;" class="actions-cell">
                                                                                                        <div class="dropdown">
                                                                                                            <!-- Options menu button with ellipsis-h icon -->
                                                                                                            <button class="btn btn-action btn-menu" 
                                                                                                                    @onclick="() => ToggleProfessorInternshipMenu(internship.Id)" 
                                                                                                                    title="Ενέργειες"
                                                                                                                    @onclick:stopPropagation="true">
                                                                                                                <i class="fas fa-ellipsis-h icon-button"></i>
                                                                                                            </button>

                                                                                                            <!-- Dropdown menu -->
                                                                                                            @if (activeProfessorInternshipMenuId == internship.Id)
                                                                                                            {
                                                                                                                <!-- Invisible backdrop that covers entire screen -->
                                                                                                                <div class="dropdown-backdrop" @onclick="() => ToggleProfessorInternshipMenu(0)"></div>

                                                                                                                <div class="dropdown-menu show" @onclick:stopPropagation="true">
                                                                                                                    <!-- Delete option -->
                                                                                                                    <button class="dropdown-item" @onclick="() => { DeleteProfessorInternship(internship.Id); ToggleProfessorInternshipMenu(0); }">
                                                                                                                        <i class="fas fa-trash me-2" style="color: #f56565;"></i>
                                                                                                                        <span>Διαγραφή</span>
                                                                                                                    </button>

                                                                                                                    <!-- View details option -->
                                                                                                                    <button class="dropdown-item" @onclick="() => { ShowProfessorInternshipDetails(internship); ToggleProfessorInternshipMenu(0); }">
                                                                                                                        <i class="fas fa-eye me-2" style="color: #63b3ed;"></i>
                                                                                                                        <span>Προβολή</span>
                                                                                                                    </button>

                                                                                                                    <!-- Download attachment option (only if attachment exists) -->
                                                                                                                    @if (internship.ProfessorInternshipAttachment != null && internship.ProfessorInternshipAttachment.Length > 0)
                                                                                                                    {
                                                                                                                        <button class="dropdown-item" @onclick="() => { DownloadAttachmentForProfessorInternships(internship.Id); ToggleProfessorInternshipMenu(0); }">
                                                                                                                            <i class="fas fa-download me-2" style="color: #48bb78;"></i>
                                                                                                                            <span>Λήψη Αρχείου</span>
                                                                                                                        </button>
                                                                                                                    }

                                                                                                                    <!-- View applicants option -->
                                                                                                                    <button class="dropdown-item" @onclick="() => { ToggleProfessorInternshipExpanded(internship.RNGForInternshipUploadedAsProfessor); ToggleProfessorInternshipMenu(0); }" 
                                                                                                                            disabled="@isLoadingProfessorInternshipApplicants">
                                                                                                                        <i class="fa-solid fa-graduation-cap me-2" style="color: #0d6efd;"></i>
                                                                                                                        <span>
                                                                                                                            @if (isLoadingProfessorInternshipApplicants && loadingProfessorInternshipId == internship.RNGForInternshipUploadedAsProfessor)
                                                                                                                            {
                                                                                                                                <i class="fas fa-spinner fa-spin"></i>
                                                                                                                            }
                                                                                                                            Αιτούντες
                                                                                                                        </span>
                                                                                                                    </button>

                                                                                                                    <!-- Status change options -->
                                                                                                                    @if (internship.ProfessorUploadedInternshipStatus != "Δημοσιευμένη")
                                                                                                                    {
                                                                                                                        <!-- Edit option (only for non-published) -->
                                                                                                                        <button class="dropdown-item" @onclick="() => { EditProfessorInternshipDetails(internship); ToggleProfessorInternshipMenu(0); }">
                                                                                                                            <i class="fas fa-pencil-alt me-2" style="color: #8b5cf6;"></i>
                                                                                                                            <span>Επεξεργασία</span>
                                                                                                                        </button>

                                                                                                                        <!-- Publish option -->
                                                                                                                        <button class="dropdown-item" @onclick='async () => { await UpdateInternshipStatusAsProfessor(internship.Id, "Δημοσιευμένη"); ToggleProfessorInternshipMenu(0); }'>
                                                                                                                            <i class="fas fa-arrow-up me-2" style="color: #68d391;"></i>
                                                                                                                            <span>Δημοσίευση</span>
                                                                                                                        </button>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <!-- Withdraw option (only for published) -->
                                                                                                                        <button class="dropdown-item" @onclick='async () => { await UpdateInternshipStatusAsProfessor(internship.Id, "Αποσυρμένη"); ToggleProfessorInternshipMenu(0); }'>
                                                                                                                            <i class="fas fa-times me-2" style="color: #f56565;"></i>
                                                                                                                            <span>Απόσυρση</span>
                                                                                                                        </button>
                                                                                                                    }

                                                                                                                    @if (internship.ProfessorUploadedInternshipStatus != "Μη Δημοσιευμένη")
                                                                                                                    {
                                                                                                                        <!-- Unpublish option -->
                                                                                                                        <button class="dropdown-item" @onclick='() => { ChangeProfessorInternshipStatusToUnpublished(internship.Id); ToggleProfessorInternshipMenu(0); }'>
                                                                                                                            <i class="fas fa-arrow-down me-2" style="color: #f6e05e;"></i>
                                                                                                                            <span>Αποδημοσίευση</span>
                                                                                                                        </button>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            }
                                                                                                        </div>

                                                                                                        <!-- Loading Modal for Delete Professor Internship -->
                                                                                                        @if (showLoadingModalForDeleteProfessorInternship)
                                                                                                        {
                                                                                                            <div class="loading-modal">
                                                                                                                <div class="loading-modal-content">
                                                                                                                    <div class="loading-spinner"></div>
                                                                                                                    <p>Διαγραφή Πρακτικής Άσκησης...</p>
                                                                                                                    <div class="progress-bar">
                                                                                                                        <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        }
                                                                                                    </td>
                                                                                                </tr>

                                                                                                <!-- Applicants Section - Connected to the main row -->
                                                                                                @if (expandedProfessorInternships.ContainsKey(internship.RNGForInternshipUploadedAsProfessor) && expandedProfessorInternships[internship.RNGForInternshipUploadedAsProfessor])
                                                                                                {
                                                                                                    <tr style="background-color: #e8f4f8; border-left: 4px solid #0d6efd;">
                                                                                                        <td colspan="@(isBulkEditModeForProfessorInternships ? "7" : "6")" style="padding: 0; border: 1px solid #0d6efd;">
                                                                                                            <div style="background: linear-gradient(135deg, #e8f4f8 0%, #d1ecf1 100%); padding: 15px; border-radius: 0 0 5px 5px;">
                                                                                                                <!-- Loading State for Applicants -->
                                                                                                                @if (isLoadingProfessorInternshipApplicants && loadingProfessorInternshipId == internship.RNGForInternshipUploadedAsProfessor)
                                                                                                                {
                                                                                                                    <div class="text-center" style="padding: 40px;">
                                                                                                                        <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                                                                                                                            <span class="sr-only">Φόρτωση...</span>
                                                                                                                        </div>
                                                                                                                        <p style="color: #0d6efd; font-weight: bold; margin-top: 15px; font-size: 16px;">
                                                                                                                            Φόρτωση αιτούντων...
                                                                                                                        </p>
                                                                                                                    </div>
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                    <!-- BULK ACTIONS SECTION FOR PROFESSOR INTERNSHIP APPLICANTS -->
                                                                                                                    @if (professorInternshipApplicantsMap.ContainsKey(internship.RNGForInternshipUploadedAsProfessor) && professorInternshipApplicantsMap[internship.RNGForInternshipUploadedAsProfessor].Any())
                                                                                                                    {
                                                                                                                        <div class="row mb-3">
                                                                                                                            <div class="col-md-12">
                                                                                                                                <!-- Bulk Edit Button for Professor Internship Applicants - Show when NOT in bulk edit mode -->
                                                                                                                                @if (!isBulkEditModeForProfessorInternshipApplicants)
                                                                                                                                {
                                                                                                                                    <div class="mb-2" style="text-align: left; margin-left: -15px;">
                                                                                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                                @onclick="() => EnableBulkEditModeForProfessorInternshipApplicants(internship.RNGForInternshipUploadedAsProfessor.ToString())"
                                                                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                                            <i class="fas fa-edit" style="margin-right: 8px;"></i>Μαζική Επεξεργασία Αιτούντων Πρακτικής
                                                                                                                                        </button>
                                                                                                                                    </div>
                                                                                                                                }

                                                                                                                                <!-- Bulk Action Controls - Show when in bulk edit mode -->
                                                                                                                                @if (isBulkEditModeForProfessorInternshipApplicants)
                                                                                                                                {
                                                                                                                                    <div class="mb-2" style="text-align: left; margin-left: -15px;">
                                                                                                                                        <div class="d-flex gap-2 align-items-center flex-wrap">
                                                                                                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                                    @onclick='() => ShowEmailConfirmationModalForProfessorInternshipApplicants("accept")'
                                                                                                                                                    disabled="@(selectedProfessorInternshipApplicantIds.Count == 0)"
                                                                                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                                                <i class="fas fa-check me-2"></i>Μαζική Αποδοχή
                                                                                                                                            </button>
                                                                                                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                                    @onclick='() => ShowEmailConfirmationModalForProfessorInternshipApplicants("reject")'
                                                                                                                                                    disabled="@(selectedProfessorInternshipApplicantIds.Count == 0)"
                                                                                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                                                <i class="fas fa-times me-2"></i>Μαζική Απόρριψη
                                                                                                                                            </button>
                                                                                                                                            <button class="modern-button" style="background-color: #6c757d; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                                    @onclick="CancelBulkEditForProfessorInternshipApplicants"
                                                                                                                                                    onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                                                                                    onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                                                                                <i class="fas fa-times me-2"></i>Ακύρωση
                                                                                                                                            </button>
                                                                                                                                        </div>

                                                                                                                                        <!-- Badges section - All badges together -->
                                                                                                                                        <div class="mt-2 d-flex gap-2 align-items-center flex-wrap">
                                                                                                                                            <!-- Selected count badge -->
                                                                                                                                            @if (selectedProfessorInternshipApplicantIds.Count > 0)
                                                                                                                                            {
                                                                                                                                                <span class="badge bg-primary">
                                                                                                                                                    Επιλεγμένες Αιτήσεις: @selectedProfessorInternshipApplicantIds.Count
                                                                                                                                                </span>
                                                                                                                                            }

                                                                                                                                            <!-- Total and Accepted badges -->
                                                                                                                                            <span class="badge badge-primary" style="background-color: #0d6efd; padding: 5px 10px; border-radius: 15px;">
                                                                                                                                                Σύνολο Αιτήσεων: @(professorInternshipApplicantsMap.ContainsKey(internship.RNGForInternshipUploadedAsProfessor) ? professorInternshipApplicantsMap[internship.RNGForInternshipUploadedAsProfessor].Count().ToString() : "0")
                                                                                                                                            </span>
                                                                                                                                            <span class="badge badge-info" style="background-color: #17a2b8; padding: 5px 10px; border-radius: 15px;">
                                                                                                                                                Αποδεκτοί: @acceptedApplicantsCountPerProfessorInternship.GetValueOrDefault(internship.RNGForInternshipUploadedAsProfessor, 0)/@availableSlotsPerProfessorInternship.GetValueOrDefault(internship.RNGForInternshipUploadedAsProfessor, internship.OpenSlots_ProfessorInternship)
                                                                                                                                            </span>
                                                                                                                                        </div>

                                                                                                                                        <!-- Instruction text - ALWAYS show when in bulk edit mode -->
                                                                                                                                        <div class="mt-2">
                                                                                                                                            <div class="alert alert-info" style="background-color: #e7f3ff; border: 1px solid #b3d9ff; color: #004085; border-radius: 6px; padding: 8px 12px;">
                                                                                                                                                <i class="fas fa-info-circle me-2"></i>
                                                                                                                                                <strong>Επιλέξτε Αιτήσεις στον Πίνακα</strong>
                                                                                                                                            </div>
                                                                                                                                        </div>
                                                                                                                                    </div>
                                                                                                                                }
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                    <!-- END BULK ACTIONS SECTION -->

                                                                                                                    @if (professorInternshipApplicantsMap.ContainsKey(internship.RNGForInternshipUploadedAsProfessor) && professorInternshipApplicantsMap[internship.RNGForInternshipUploadedAsProfessor].Any())
                                                                                                                    {
                                                                                                                        <div class="table-responsive">
                                                                                                                            <table class="table table-striped">
                                                                                                                                <thead>
                                                                                                                                    <tr style="background-color: #cce7ff; border: 1px solid #0d6efd;">
                                                                                                                                        @if (isBulkEditModeForProfessorInternshipApplicants)
                                                                                                                                        {
                                                                                                                                            <th style="border: 1px solid #0d6efd; width: 40px;">
                                                                                                                                                #
                                                                                                                                            </th>
                                                                                                                                        }
                                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                                            <i class="fa-solid fa-user fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                            Προφίλ
                                                                                                                                        </th>
                                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                                            <i class="fa-solid fa-signature fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                            Όνομα
                                                                                                                                        </th>
                                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                                            <i class="fa-solid fa-signature fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                            Επώνυμο
                                                                                                                                        </th>
                                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                                            <i class="fa-solid fa-calendar-plus fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                            Ημερομηνία Αίτησης
                                                                                                                                        </th>
                                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                                            <i class="fa-solid fa-graduation-cap fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                            Έτος Φοίτησης
                                                                                                                                        </th>
                                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                                            <i class="fa-solid fa-phone fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                            Τηλέφωνο
                                                                                                                                        </th>
                                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                                            <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                            Email
                                                                                                                                        </th>
                                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                                            <i class="fa-solid fa-hand fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                            Ενέργεια
                                                                                                                                        </th>
                                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                                            <i class="fa-solid fa-hourglass-half fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                            Κατάσταση Αίτησης
                                                                                                                                        </th>
                                                                                                                                    </tr>
                                                                                                                                </thead>
                                                                                                                                <tbody>
                                                                                                                                    @if (studentDataCache == null)
                                                                                                                                    {
                                                                                                                                        <tr>
                                                                                                                                            <td colspan="9" class="text-center" style="border: 1px solid #0d6efd;">
                                                                                                                                                <div class="spinner-border text-primary" role="status">
                                                                                                                                                    <span class="sr-only">Φόρτωση...</span>
                                                                                                                                                </div>
                                                                                                                                                <p>Φόρτωση δεδομένων φοιτητών...</p>
                                                                                                                                            </td>
                                                                                                                                        </tr>
                                                                                                                                    }
                                                                                                                                    else
                                                                                                                                    {
                                                                                                                                        @foreach (var applicant in professorInternshipApplicantsMap[internship.RNGForInternshipUploadedAsProfessor])
                                                                                                                                        {
                                                                                                                                            var student = studentDataCache.TryGetValue(applicant.StudentDetails.StudentEmailAppliedForProfessorInternship, out var s) ? s : null;
                                                                                                                                            var status = applicant.InternshipStatusAppliedAtTheStudentSide ?? "N/A";
                                                                                                                                            var professorStatus = applicant.InternshipStatusAppliedAtTheProfessorSide ?? "N/A";

                                                                                                                                            <tr style="background-color: @(professorStatus == "Επιτυχής" ? "lightgreen" :
                                                                                                                                                                            professorStatus == "Απορρίφθηκε" ? "lightcoral" :
                                                                                                                                                                            professorStatus == "Απορρίφθηκε (Απόσυρση Θέσεως Από Καθηγητή)" ? "coral" :
                                                                                                                                                                            professorStatus == "Αποσύρθηκε από τον φοιτητή" ? "lightyellow" : "transparent")">
                                                                                                                                                @if (isBulkEditModeForProfessorInternshipApplicants)
                                                                                                                                                {
                                                                                                                                                    <td style="border: 1px solid #0d6efd; text-align: center;">
                                                                                                                                                        <div class="disabled-checkbox-container">
                                                                                                                                                            <input type="checkbox" 
                                                                                                                                                                   @onchange="@((e) => ToggleProfessorInternshipApplicantSelection(applicant.RNGForProfessorInternshipApplied, applicant.StudentDetails.StudentUniqueIDAppliedForProfessorInternship, e))" 
                                                                                                                                                                   checked="@selectedProfessorInternshipApplicantIds.Contains((applicant.RNGForProfessorInternshipApplied, applicant.StudentDetails.StudentUniqueIDAppliedForProfessorInternship))"
                                                                                                                                                                   disabled="@(professorStatus != "Σε Επεξεργασία")"
                                                                                                                                                                   class="@(professorStatus != "Σε Επεξεργασία" ? "disabled-checkbox" : "")" />
                                                                                                                                                        </div>
                                                                                                                                                    </td>
                                                                                                                                                }
                                                                                                                                                <td style="border: 1px solid #0d6efd;">
                                                                                                                                                    <a href="#" @onclick="() => ShowStudentDetailsInNameAsHyperlink_StudentAppliedinternshipsAtProfessor(applicant.StudentDetails.StudentUniqueIDAppliedForProfessorInternship, applicant.Id)" 
                                                                                                                                                       title="Προφίλ Υποψήφιου Σπουδαστή" style="color: #0d6efd; text-decoration: none;">
                                                                                                                                                        <i class="fas fa-eye icon-button text-dark"></i>
                                                                                                                                                        @if (student == null)
                                                                                                                                                        {
                                                                                                                                                            <span class="badge badge-warning ml-1">Δε βρέθηκε</span>
                                                                                                                                                        }
                                                                                                                                                    </a>
                                                                                                                                                </td>
                                                                                                                                                <td style="border: 1px solid #0d6efd;">@(student?.Name ?? "Δε βρέθηκε")</td>
                                                                                                                                                <td style="border: 1px solid #0d6efd;">@(student?.Surname ?? "Δε βρέθηκε")</td>
                                                                                                                                                <td style="border: 1px solid #0d6efd;">@applicant.StudentDetails.DateTimeStudentAppliedForProfessorInternship.ToString("dd/MM/yyyy HH:mm")</td>
                                                                                                                                                <td style="border: 1px solid #0d6efd;">@(student?.StudyYear ?? "-")</td>
                                                                                                                                                <td style="border: 1px solid #0d6efd;">
                                                                                                                                                    <i class="fas fa-phone-alt"></i> @(student?.Telephone ?? "-")
                                                                                                                                                </td>
                                                                                                                                                <td style="border: 1px solid #0d6efd;">
                                                                                                                                                    <i class="fas fa-envelope"></i> @applicant.StudentDetails.StudentEmailAppliedForProfessorInternship
                                                                                                                                                </td>
                                                                                                                                                <td style="border: 1px solid #0d6efd;">
                                                                                                                                                    @if (status == "Σε Επεξεργασία")
                                                                                                                                                    {
                                                                                                                                                        <div style="display: flex; gap: 10px; justify-content: center;">
                                                                                                                                                            <span @onclick="() => ConfirmAndAcceptProfessorInternship(applicant.RNGForProfessorInternshipApplied, applicant.StudentDetails.StudentUniqueIDAppliedForProfessorInternship)" 
                                                                                                                                                                  title="Αποδοχή Αίτησης" style="cursor: pointer;">
                                                                                                                                                                <i class="fas fa-check action-icon accept-icon"></i>
                                                                                                                                                            </span>

                                                                                                                                                            <span @onclick="() => ConfirmAndRejectProfessorInternship(applicant.RNGForProfessorInternshipApplied, applicant.StudentDetails.StudentUniqueIDAppliedForProfessorInternship)" 
                                                                                                                                                                  title="Απόρριψη Αίτησης" style="cursor: pointer;">
                                                                                                                                                                <i class="fas fa-times action-icon reject-icon"></i>
                                                                                                                                                            </span>
                                                                                                                                                        </div>
                                                                                                                                                    }
                                                                                                                                                    else
                                                                                                                                                    {
                                                                                                                                                        <span class="text">@status</span>
                                                                                                                                                    }
                                                                                                                                                </td>
                                                                                                                                                <td style="border: 1px solid #0d6efd;">
                                                                                                                                                    @if (professorStatus == "Επιτυχής")
                                                                                                                                                    {
                                                                                                                                                        <span style="color: green; font-weight: bold;">Έχει γίνει Αποδοχή</span>
                                                                                                                                                    }
                                                                                                                                                    else if (professorStatus == "Απορρίφθηκε")
                                                                                                                                                    {
                                                                                                                                                        <span style="color: red; font-weight: bold;">Έχει Απορριφθεί</span>
                                                                                                                                                    }
                                                                                                                                                    else
                                                                                                                                                    {
                                                                                                                                                        <span>@professorStatus</span>
                                                                                                                                                    }
                                                                                                                                                </td>
                                                                                                                                            </tr>
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                </tbody>
                                                                                                                            </table>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <div class="text-center" style="padding: 20px;">
                                                                                                                            <i class="fas fa-users fa-2x" style="color: #6c757d; margin-bottom: 10px;"></i>
                                                                                                                            <p style="color: #6c757d; font-weight: bold; margin: 0;">
                                                                                                                                Δεν Υπάρχουν Αιτούντες για αυτήν την Πρακτική Άσκηση Ακόμη
                                                                                                                            </p>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                }
                                                                                                            </div>
                                                                                                        </td>
                                                                                                    </tr>
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                        else if (!isLoadingInternshipsHistoryAsProfessor)
                                                                                        {
                                                                                            <tr>
                                                                                                <td colspan="@(isBulkEditModeForProfessorInternships && professorInternships != null && professorInternships.Any() ? "7" : "6")" class="text-center" style="border: 1px solid black;">
                                                                                                    <div class="empty-state">
                                                                                                        <i class="fas fa-briefcase fa-3x mb-3" style="color: #6c757d;"></i>
                                                                                                        <h5 style="color: #2d3748; margin-bottom: 10px;">Δεν υπάρχουν Πρακτικές Ασκήσεις</h5>
                                                                                                    </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                        }
                                                                                    </tbody>
                                                                                </table>
            
                                                                                @if (professorInternships != null && professorInternships.Any())
                                                                                {
                                                                                    <br/>
                                                                                    <!-- Pagination Controls -->
                                                                                    <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                                        <span class="pagination-item @(currentPage_ProfessorInternships == 1 ? "disabled" : "")"
                                                                                              @onclick="GoToFirstPage_ProfessorInternships">
                                                                                            &lt;&lt;
                                                                                        </span>

                                                                                        <span class="pagination-item @(currentPage_ProfessorInternships == 1 ? "disabled" : "")"
                                                                                              @onclick="PreviousPage_ProfessorInternships">
                                                                                            &lt;
                                                                                        </span>

                                                                                        @foreach (var pageNum in GetVisiblePages_ProfessorInternships())
                                                                                        {
                                                                                            if (pageNum == -1)
                                                                                            {
                                                                                                <span class="pagination-ellipsis">...</span>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <span class="pagination-item @(pageNum == currentPage_ProfessorInternships ? "active" : "")"
                                                                                                      @onclick="@(() => GoToPage_ProfessorInternships(pageNum))">
                                                                                                    @pageNum
                                                                                                </span>
                                                                                            }
                                                                                        }

                                                                                        <span class="pagination-item @(currentPage_ProfessorInternships == totalPages_ProfessorInternships ? "disabled" : "")"
                                                                                              @onclick="NextPage_ProfessorInternships">
                                                                                            &gt;
                                                                                        </span>

                                                                                        <span class="pagination-item @(currentPage_ProfessorInternships == totalPages_ProfessorInternships ? "disabled" : "")"
                                                                                              @onclick="GoToLastPage_ProfessorInternships">
                                                                                            &gt;&gt;
                                                                                        </span>

                                                                                        <span class="ms-3">
                                                                                            Σελίδα @currentPage_ProfessorInternships από @totalPages_ProfessorInternships
                                                                                        </span>
                                                                                    </div>
                                                                                    <br/>
                                                                                }
                                                                            </div>
                                                                        </div>
                                                                        <br/>
                                                                        <br/>
                                                                    }

                                                                    <!-- Slot Warning Modal for Professor Internships - NEW CODE -->
                                                                    @if (showSlotWarningModalForProfessorInternship)
                                                                    {
                                                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5); z-index: 1060;">
                                                                            <div class="modal-dialog modal-dialog-centered" role="document">
                                                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); border: 2px solid #2d3748;">
                                                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #FFFFFF;">
                                                                                        <h5 class="modal-title" style="color: #2d3748; font-weight: 600; font-size: 1.25rem;">
                                                                                            <i class="fas fa-exclamation-triangle me-2"></i>Προσοχή - Όριο Slots Πρακτικής
                                                                                        </h5>
                                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                                @onclick="CloseSlotWarningModalForProfessorInternship"
                                                                                                onmouseover="this.style.backgroundColor='#2d3748'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                        </button>
                                                                                    </div>
                                                                                    <div class="modal-body" style="padding: 20px;">
                                                                                        <div class="alert alert-warning" style="border-radius: 8px; margin: 0;">
                                                                                            <div class="d-flex align-items-center">
                                                                                                <i class="fas fa-exclamation-circle fa-2x me-3" style="color: #2d3748;"></i>
                                                                                                <div>
                                                                                                    <h6 style="color: #2d3748; margin-bottom: 8px; font-weight: bold;">Υπέρβαση Διαθέσιμων Θέσεων Πρακτικής Άσκησης</h6>
                                                                                                    <p style="color: #2d3748; margin: 0; line-height: 1.5;">@slotWarningMessageForProfessorInternship</p>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #FFFFFF;">
                                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                                @onclick="CloseSlotWarningModalForProfessorInternship"
                                                                                                onmouseover="this.style.backgroundColor='#2d3748'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <i class="fas fa-times me-1"></i>Κλείσιμο
                                                                                        </button>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    }

                                                                    <!-- Bulk Action Modal for Professor Internships -->
                                                                    @if (showBulkActionModalForProfessorInternships)
                                                                    {
                                                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                            <div class="modal-dialog modal-dialog-centered" role="document">
                                                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                        <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                            <i class="fas fa-cogs me-2"></i>Μαζική Επεξεργασία Πρακτικών Ασκήσεων
                                                                                        </h5>
                                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                                @onclick="CloseBulkActionModalForProfessorInternships"
                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                        </button>
                                                                                    </div>
                                                                                    <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                        <div class="list-group">
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold; color: #2d3748;">Επιλεγμένες Πρακτικές</label>
                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-list-check" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                    <span>@selectedProfessorInternshipIds.Count πρακτικές</span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold; color: #2d3748;">Επιλέξτε Ενέργεια</label>
                                                                                                <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; border: none;">
                                                                                                    <div class="form-check mb-2">
                                                                                                        <input class="form-check-input" type="radio" name="bulkActionProfessorInternships" 
                                                                                                               id="actionStatusProfessorInternships" value="status" @onchange="@((e) => bulkActionForProfessorInternships = "status")" 
                                                                                                               style="cursor: pointer; margin-right: 8px;" />
                                                                                                        <label class="form-check-label" for="actionStatusProfessorInternships" style="cursor: pointer; color: #2d3748;">
                                                                                                            <i class="fas fa-arrows-up-down me-1" style="color: #4682B4;"></i>
                                                                                                            Αλλαγή Κατάστασης
                                                                                                        </label>
                                                                                                    </div>
                                                                                                    <div class="form-check">
                                                                                                        <input class="form-check-input" type="radio" name="bulkActionProfessorInternships" 
                                                                                                               id="actionCopyProfessorInternships" value="copy" @onchange="@((e) => bulkActionForProfessorInternships = "copy")" 
                                                                                                               style="cursor: pointer; margin-right: 8px;" />
                                                                                                        <label class="form-check-label" for="actionCopyProfessorInternships" style="cursor: pointer; color: #2d3748;">
                                                                                                            <i class="fas fa-copy me-1" style="color: #4682B4;"></i>
                                                                                                            Αντιγραφή Πρακτικών
                                                                                                        </label>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>

                                                                                            @if (bulkActionForProfessorInternships == "status")
                                                                                            {
                                                                                                <div class="form-group">
                                                                                                    <label style="font-weight: bold; color: #2d3748;">Νέα Κατάσταση</label>
                                                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; padding: 0;">
                                                                                                        <select class="form-select" @bind="newStatusForBulkActionForProfessorInternships" style="border: none; background: transparent; box-shadow: none;">
                                                                                                            <option value="Δημοσιευμένη">Δημοσιευμένη</option>
                                                                                                            <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένη</option>
                                                                                                            <option value="Αποσυρμένη">Αποσυρμένη</option>
                                                                                                        </select>
                                                                                                    </div>
                                                                                                </div>
                                                                                            }
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                                        <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                                @onclick="CloseBulkActionModalForProfessorInternships"
                                                                                                onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                                onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                            <i class="fas fa-times me-1"></i>Ακύρωση
                                                                                        </button>
                                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                                @onclick="ExecuteBulkActionForProfessorInternships" 
                                                                                                disabled="@string.IsNullOrEmpty(bulkActionForProfessorInternships)"
                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <i class="fas fa-play me-1"></i>Εκτέλεση
                                                                                        </button>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    }

                                                                    <!-- Email Confirmation Modal for Professor Internship Applicants -->
                                                                    @if (showEmailConfirmationModalForProfessorInternshipApplicants)
                                                                    {
                                                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                            <div class="modal-dialog modal-dialog-centered" role="document">
                                                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                        <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                            <i class="fas fa-envelope me-2"></i>Αποστολή Email Πρακτικής
                                                                                        </h5>
                                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                                @onclick="CloseEmailConfirmationModalForProfessorInternshipApplicants"
                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                        </button>
                                                                                    </div>
                                                                                    <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                        <div class="list-group">
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold; color: #2d3748;">Επιλεγμένες Αιτήσεις</label>
                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-list-check" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                    <span>@selectedProfessorInternshipApplicantIds.Count αιτήσεις</span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold; color: #2d3748;">Ενέργεια</label>
                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas @(pendingBulkActionForProfessorInternshipApplicants == "accept" ? "fa-check text-success" : "fa-times text-danger") me-2"></i>
                                                                                                    <span>@(pendingBulkActionForProfessorInternshipApplicants == "accept" ? "Μαζική Αποδοχή" : "Μαζική Απόρριψη")</span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold; color: #2d3748;">Αποστολή Email Ειδοποιήσεων</label>
                                                                                                <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; border: none;">
                                                                                                    <div class="form-check mb-2">
                                                                                                        <input class="form-check-input" type="radio" name="emailOptionProfessorInternship" 
                                                                                                               id="sendEmailsProfessorInternship" value="true" @onchange="@((e) => sendEmailsForBulkProfessorInternshipAction = true)" 
                                                                                                               checked="@sendEmailsForBulkProfessorInternshipAction"
                                                                                                               style="cursor: pointer; margin-right: 8px;" />
                                                                                                        <label class="form-check-label" for="sendEmailsProfessorInternship" style="cursor: pointer; color: #2d3748;">
                                                                                                            <i class="fas fa-envelope me-1" style="color: #4682B4;"></i>
                                                                                                            Να σταλούν Email στους Φοιτητές και στον Καθηγητή
                                                                                                        </label>
                                                                                                    </div>
                                                                                                    <div class="form-check">
                                                                                                        <input class="form-check-input" type="radio" name="emailOptionProfessorInternship" 
                                                                                                               id="dontSendEmailsProfessorInternship" value="false" @onchange="@((e) => sendEmailsForBulkProfessorInternshipAction = false)" 
                                                                                                               checked="@(!sendEmailsForBulkProfessorInternshipAction)"
                                                                                                               style="cursor: pointer; margin-right: 8px;" />
                                                                                                        <label class="form-check-label" for="dontSendEmailsProfessorInternship" style="cursor: pointer; color: #2d3748;">
                                                                                                            <i class="fas fa-envelope-slash me-1" style="color: #6c757d;"></i>
                                                                                                            Να μην σταλούν Email (μόνο ενημέρωση κατάστασης)
                                                                                                        </label>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>

                                                                                            <div class="alert @(sendEmailsForBulkProfessorInternshipAction ? "alert-info" : "alert-warning")" style="border-radius: 8px;">
                                                                                                <i class="fas @(sendEmailsForBulkProfessorInternshipAction ? "fa-info-circle" : "fa-exclamation-triangle") me-2"></i>
                                                                                                @if (sendEmailsForBulkProfessorInternshipAction)
                                                                                                {
                                                                                                    <strong>Πληροφορία:</strong> 
                                                                                                    <span>Θα σταλούν @selectedProfessorInternshipApplicantIds.Count email @(pendingBulkActionForProfessorInternshipApplicants == "accept" ? "αποδοχής" : "απόρριψης") στους φοιτητές και email ειδοποίησης στον καθηγητή.</span>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <strong>Προσοχή:</strong> 
                                                                                                    <span>Η ενέργεια θα εφαρμοστεί μόνο στην εφαρμογή. Δεν θα σταλούν email ειδοποιήσεων. Οι φοιτητές θα δουν την αλλαγή κατάστασης όταν συνδεθούν.</span>
                                                                                                }
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                                        <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                                @onclick="CloseEmailConfirmationModalForProfessorInternshipApplicants"
                                                                                                onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                                onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                            <i class="fas fa-times me-1"></i>Ακύρωση
                                                                                        </button>
                                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                                @onclick="ExecuteBulkActionForProfessorInternshipApplicants" 
                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <i class="fas fa-play me-1"></i>Εκτέλεση
                                                                                        </button>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    }

                                                                    @if (isModalVisibleToShowStudentDetailsAsProfessorFromTheirHyperlinkNameInProfessorInternships && selectedStudent != null)
                                                                    {
                                                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                        <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                            @selectedStudent?.Name @selectedStudent?.Surname
                                                                                        </h5>
                                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                                @onclick="CloseModalforHyperLinkTitleStudentName_StudentAppliedinternshipsAtProfessor"
                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                        </button>
                                                                                    </div>
                                                                                    <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                        <!-- Profile Picture -->
                                                                                        <div class="text-center mb-4">
                                                                                            @if (selectedStudent?.Image != null && selectedStudent.Image.Length > 0)
                                                                                            {
                                                                                                var base64Image = Convert.ToBase64String(selectedStudent.Image);
                                                                                                <img src="data:image/jpeg;base64,@base64Image" 
                                                                                                     alt="Φωτογραφία Προφίλ Σπουδαστή"
                                                                                                     style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <div style="width: 150px; height: 150px; border-radius: 50%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; margin: 0 auto; border: 3px solid #ddd;">
                                                                                                    <i class="fas fa-user" style="font-size: 3rem; color: #6c757d;"></i>
                                                                                                </div>
                                                                                                <p style="color: #6c757d; margin-top: 8px;">Δεν υπάρχει φωτογραφία Προφίλ</p>
                                                                                            }
                                                                                        </div>

                                                                                        <!-- Student Details -->
                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Αριθμός Μητρώου</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-id-card mr-2"></i>
                                                                                                <span>@selectedStudent?.RegNumber</span>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-university mr-2 text-primary"></i>
                                                                                                <span>@selectedStudent?.University</span>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Τμήμα</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-building mr-2"></i>
                                                                                                <span>@selectedStudent?.Department</span>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Επίπεδο Σπουδών</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-graduation-cap mr-2"></i>
                                                                                                <span>@selectedStudent?.LevelOfDegree</span>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Τεχνικές Ικανότητες</label>
                                                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedStudent?.Keywords</textarea>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Περιοχές Εξειδίκευσης</label>
                                                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedStudent?.AreasOfExpertise</textarea>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Ημερομηνία Εγγραφής</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-calendar-day mr-2"></i>
                                                                                                <span>@(DateTime.TryParse(selectedStudent?.EnrollmentDate, out var date) ? date.ToString("dd/MM/yyyy") : string.Empty)</span>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Επικοινωνία</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                                <span>@selectedStudent?.Email</span>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Τηλέφωνο</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-phone mr-2 text-success"></i>
                                                                                                <span>@selectedStudent?.Telephone</span>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Περιφέρεια (Μόνιμης Διαμονής)</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-map mr-2"></i>
                                                                                                <span>@selectedStudent?.PermanentRegion</span>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Πόλη (Μόνιμης Διαμονής)</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-city mr-2"></i>
                                                                                                <span>@selectedStudent?.PermanentTown</span>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Διεύθυνση</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-map-marker-alt mr-2 text-danger"></i>
                                                                                                @if (!string.IsNullOrEmpty(selectedStudent?.PermanentAddress))
                                                                                                {
                                                                                                    <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(selectedStudent.PermanentAddress)"
                                                                                                       target="_blank"
                                                                                                       class="text-primary text-decoration-underline">
                                                                                                        @selectedStudent.PermanentAddress
                                                                                                    </a>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <span style="color: #6c757d;">Δεν έχει οριστεί διεύθυνση</span>
                                                                                                }
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Προτιμώμενη Περιφέρεια</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-map-marked-alt mr-2"></i>
                                                                                                <span>@selectedStudent?.PreferedRegions</span>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Προτιμώμενη Πόλη</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-map-marker mr-2"></i>
                                                                                                <span>@selectedStudent?.PreferredTowns</span>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Διαθέτει Μέσο Μεταφοράς</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-car mr-2" style="color: @(selectedStudent?.Transport == true ? "#28a745" : "#dc3545");"></i>
                                                                                                <span style="color: @(selectedStudent?.Transport == true ? "#28a745" : "#dc3545"); font-weight: 500;">
                                                                                                    @(selectedStudent?.Transport == true ? "Ναι" : "Όχι")
                                                                                                </span>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Κατάσταση Πρακτικής</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-briefcase mr-2"></i>
                                                                                                <span>@selectedStudent?.InternshipStatus</span>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Κατάσταση Διπλωματικής</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-file-alt mr-2"></i>
                                                                                                <span>@selectedStudent?.ThesisStatus</span>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">LinkedIn Προφίλ</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fab fa-linkedin mr-2 text-primary"></i>
                                                                                                @if (!string.IsNullOrEmpty(selectedStudent?.LinkedInProfile))
                                                                                                {
                                                                                                    <a href="@selectedStudent.LinkedInProfile" target="_blank" 
                                                                                                       class="text-primary text-decoration-underline">
                                                                                                        @selectedStudent.LinkedInProfile
                                                                                                    </a>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <span style="color: #6c757d;">Δεν έχει οριστεί προφίλ LinkedIn ακόμη..</span>
                                                                                                }
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Προσωπική Ιστοσελίδα</label>
                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                <i class="fas fa-globe mr-2 text-info"></i>
                                                                                                @if (!string.IsNullOrEmpty(selectedStudent?.PersonalWebsite))
                                                                                                {
                                                                                                    <a href="@selectedStudent.PersonalWebsite" target="_blank" 
                                                                                                       class="text-primary text-decoration-underline">
                                                                                                        @selectedStudent.PersonalWebsite
                                                                                                    </a>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <span style="color: #6c757d;">Δεν έχει οριστεί ιστοσελίδα ακόμη..</span>
                                                                                                }
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold;">Βιογραφικό</label>
                                                                                            <div class="form-control d-flex align-items-center justify-content-between" style="border-radius: 8px; background-color: #f8f9fa; height: auto;">
                                                                                                <div class="d-flex align-items-center">
                                                                                                    <i class="fas fa-file-pdf mr-2 text-danger"></i>
                                                                                                    @if (selectedStudent?.Attachment != null)
                                                                                                    {
                                                                                                        <span style="color: #28a745;">Διαθέσιμο Βιογραφικό</span>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <span style="color: #6c757d;">Δεν Διατίθεται Βιογραφικό!</span>
                                                                                                    }
                                                                                                </div>
                                                                                                @if (selectedStudent?.Attachment != null)
                                                                                                {
                                                                                                    <div class="form-group">
                                                                                                        <label style="font-weight: bold;">Βιογραφικό</label>
                                                                                                        <div>
                                                                                                            @if (selectedStudent?.Attachment != null)
                                                                                                            {
                                                                                                                <button class="modern-button" @onclick="() => DownloadStudentCVForProfessorInternships(selectedStudent.Email)"
                                                                                                                        style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;"
                                                                                                                        onmouseover="this.style.backgroundColor='#4a5568'; this.style.transform='translateY(-1px)';" 
                                                                                                                        onmouseout="this.style.backgroundColor='#2d3748'; this.style.transform='translateY(0)';">
                                                                                                                    <i class="fas fa-download me-2"></i>Λήψη Βιογραφικού
                                                                                                                </button>
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                <span class="text-muted">Δεν Διατίθεται Βιογραφικό!</span>
                                                                                                            }
                                                                                                        </div>
                                                                                                    </div>
                                                                                                }
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="modal-footer">
                                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                                @onclick="CloseModalforHyperLinkTitleStudentName_StudentAppliedinternshipsAtProfessor"
                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                                        </button>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    }



                                                                        @if (isModalVisibleForProfessorInternships && currentProfessorInternship != null)
                                                                        {
                                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                                    <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                                        <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                            <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                                @currentProfessorInternship.ProfessorInternshipTitle
                                                                                            </h5>
                                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                                    @onclick="CloseModalForProfessorInternships"
                                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                            </button>
                                                                                        </div>
                                                                                        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                            <!-- Internship Description -->
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Περιγραφή</label>
                                                                                                <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; min-height: 100px; padding: 12px;">
                                                                                                    @currentProfessorInternship.ProfessorInternshipDescription
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- Internship Type -->
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Τύπος</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-tag mr-2"></i>
                                                                                                    <span>
                                                                                                        @if (currentProfessorInternship.ProfessorInternshipType == "Full-Time")
                                                                                                        {
                                                                                                            @:Πλήρους Απασχόλησης
                                                                                                        }
                                                                                                        else if (currentProfessorInternship.ProfessorInternshipType == "Part-Time")
                                                                                                        {
                                                                                                            @:Μερικής Απασχόλησης
                                                                                                        }
                                                                                                        else if (currentProfessorInternship.ProfessorInternshipType == "Part-Time_Full-Time")
                                                                                                        {
                                                                                                            @:Πλήρους ή Μερικής Απασχόλησης
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            @:—
                                                                                                        }
                                                                                                    </span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- Organization -->
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Φορέας</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-building mr-2"></i>
                                                                                                    <span>
                                                                                                        @(string.IsNullOrEmpty(currentProfessorInternship?.ProfessorInternshipForeas) 
                                                                                                          ? "Δεν έχει Καθοριστεί" 
                                                                                                          : currentProfessorInternship.ProfessorInternshipForeas)
                                                                                                    </span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- Contact Information -->
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Email Επικοινωνίας</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                                    <span>@currentProfessorInternship.ProfessorEmailUsedToUploadInternship</span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Τηλέφωνο Επικοινωνίας</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-phone mr-2 text-success"></i>
                                                                                                    <span>@currentProfessorInternship.ProfessorInternshipContactTelephonePerson</span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- Location Address -->
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Τοποθεσία Εκδήλωσης</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-map-marker-alt mr-2 text-danger"></i>
                                                                                                    @if (!string.IsNullOrEmpty(currentProfessorInternship.ProfessorInternshipAddress))
                                                                                                    {
                                                                                                        <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(currentProfessorInternship.ProfessorInternshipAddress)" 
                                                                                                           target="_blank"
                                                                                                           class="text-primary text-decoration-underline">
                                                                                                            @currentProfessorInternship.ProfessorInternshipAddress
                                                                                                        </a>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <span style="color: #6c757d;">Δεν έχει οριστεί τοποθεσία Εκδήλωσης ακόμη..</span>
                                                                                                    }
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- Location Information -->
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Περιφέρεια</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-map mr-2"></i>
                                                                                                    <span>@currentProfessorInternship.ProfessorInternshipPerifereiaLocation</span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Δήμος</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-map-marker-alt mr-2"></i>
                                                                                                    <span>@currentProfessorInternship.ProfessorInternshipDimosLocation</span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Ταχ. Κώδικας</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-envelope-open-text mr-2"></i>
                                                                                                    <span>@currentProfessorInternship.ProfessorInternshipPostalCodeLocation</span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- Transport Offer -->
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Προσφορά Μεταφορικού Μέσου</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-car mr-2" style="color: @(currentProfessorInternship.ProfessorInternshipTransportOffer ? "#28a745" : "#dc3545");"></i>
                                                                                                    <span style="color: @(currentProfessorInternship.ProfessorInternshipTransportOffer ? "#28a745" : "#dc3545"); font-weight: 500;">
                                                                                                        @(currentProfessorInternship.ProfessorInternshipTransportOffer ? "Ναι" : "Όχι")
                                                                                                    </span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- Areas -->
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Τομείς</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-th-large mr-2"></i>
                                                                                                    <span>@currentProfessorInternship.ProfessorInternshipAreas</span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- Dates Section -->
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Ξεκινάει Από</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-calendar mr-2 text-primary"></i>
                                                                                                    <span>@currentProfessorInternship.ProfessorInternshipActivePeriod.ToString("dd/MM/yyyy")</span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Εκτιμώμενη Ημερομηνία Ολοκλήρωσης</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-calendar-check mr-2 text-primary"></i>
                                                                                                    <span>@currentProfessorInternship.ProfessorInternshipFinishEstimation.ToString("dd/MM/yyyy")</span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- Cooperation Company -->
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Εταιρεία Συνεργασίας</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-handshake mr-2 text-primary"></i>
                                                                                                    <span>@currentProfessorInternship.ProfessorInternshipEKPASupervisor</span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- University Information -->
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-university mr-2 text-primary"></i>
                                                                                                    <span>@currentProfessorInternship.Professor.ProfUniversity</span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Τμήμα Πανεπιστημίου</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-building mr-2"></i>
                                                                                                    <span>@currentProfessorInternship.Professor.ProfDepartment</span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- Upload Date -->
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Ημερομηνία Καταχώρησης</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-calendar-plus mr-2"></i>
                                                                                                    <span>@currentProfessorInternship.ProfessorInternshipUploadDate.ToString("dd/MM/yyyy")</span>
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- UPDATED: Open Slots Field -->
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Διαθέσιμες Θέσεις</label>
                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; color: #007BFF;">
                                                                                                    <i class="fas fa-users" style="margin-right: 8px;"></i>
                                                                                                    <span>@currentProfessorInternship.OpenSlots_ProfessorInternship θέσεις</span>
                                                                                                </div>
                                                                                                <small class="form-text text-muted">Αριθμός ανοιχτών θέσεων για αυτή τη πρακτική άσκηση</small>
                                                                                            </div>

                                                                                            <!-- Status -->
                                                                                            <div class="form-group">
                                                                                                <label style="font-weight: bold;">Κατάσταση</label>
                                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                    <i class="fas fa-info-circle mr-2" style="color: @(currentProfessorInternship.ProfessorUploadedInternshipStatus == "Δημοσιευμένη" ? "#28a745" : 
                                                                                                       currentProfessorInternship.ProfessorUploadedInternshipStatus == "Αποσυρμένη" ? "#dc3545" : "#6c757d");"></i>
                                                                                                    <span style="color: @(currentProfessorInternship.ProfessorUploadedInternshipStatus == "Δημοσιευμένη" ? "#28a745" : 
                                                                                                          currentProfessorInternship.ProfessorUploadedInternshipStatus == "Αποσυρμένη" ? "#dc3545" : "#6c757d"); font-weight: 500;">
                                                                                                        @currentProfessorInternship.ProfessorUploadedInternshipStatus
                                                                                                    </span>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="modal-footer">
                                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                                    @onclick="CloseModalForProfessorInternships"
                                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                                            </button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        }


                                                                </div>
                                                                                                                             
                                                         
                                                    <div class="tab-pane fade" id="professorevent" role="tabpanel" aria-labelledby="professorevent-tab">  
                                                         <div class="mb-3 row-dark-gray">
                                                             <div class="calendar-section">
                                                                 <strong> - Ημερολόγιο Εκδηλώσεων - </strong>
                                                                 <div>
                                                                     <div class="calendar">
                                                                         <div class="calendar-header">
                                                                             <h2>@currentMonth.ToString("MMMM yyyy", CultureInfo.GetCultureInfo("el-GR"))</h2>
                                                                         </div>
                                                                         <div class="calendar-grid">
                                                                             <div class="day-header">Δ</div>
                                                                             <div class="day-header">Τ</div>
                                                                             <div class="day-header">Τ</div>
                                                                             <div class="day-header">Π</div>
                                                                             <div class="day-header">Π</div>
                                                                             <div class="day-header">Σ</div>
                                                                             <div class="day-header">Κ</div>

                                                                             @for (int i = 0; i < adjustedFirstDayOfMonth; i++)
                                                                             {
                                                                                 <div class="day-cell empty-cell"></div>
                                                                             }

                                                                             @for (int i = 1; i <= daysInCurrentMonth; i++)
                                                                             {
                                                                                 DateTime dayDate = new DateTime(currentMonth.Year, currentMonth.Month, i);
        
                                                                                 // Filter events by status "Δημοσιευμένη"
                                                                                 var companyEvents = eventsForDate.ContainsKey(i) 
                                                                                     ? eventsForDate[i].Where(e => e.CompanyEventStatus == "Δημοσιευμένη").ToList()
                                                                                     : new List<CompanyEvent>();
        
                                                                                 var professorEvents = eventsForDateForProfessors.ContainsKey(i)
                                                                                     ? eventsForDateForProfessors[i].Where(e => e.ProfessorEventStatus == "Δημοσιευμένη").ToList()
                                                                                     : new List<ProfessorEvent>();
        
                                                                                 bool hasPublishedEvent = companyEvents.Any() || professorEvents.Any();

                                                                                 string dayCellClass = "day-cell";

                                                                                 // Check if this day is today's date
                                                                                 if (dayDate.Date == DateTime.Today.Date)
                                                                                 {
                                                                                     dayCellClass += " today";
                                                                                 }

                                                                                 // Check if this day should be highlighted
                                                                                 if (i == highlightedDay)
                                                                                 {
                                                                                     dayCellClass += " highlighted";
                                                                                 }

                                                                                 // Add event-day class if this day has published events
                                                                                 if (hasPublishedEvent)
                                                                                 {
                                                                                     dayCellClass += " event-day";
                                                                                 }

                                                                                 <div class="@dayCellClass" @onclick="() => OnDateClicked(dayDate)">
                                                                                     <span>@i</span>
                                                                                     @if (hasPublishedEvent)
                                                                                     {
                                                                                         <div class="event-indicators">
                                                                                             @if (companyEvents.Any())
                                                                                             {
                                                                                                 <span class="indicator-pill pill-company">
                                                                                                     @companyEvents.Count Εταιρ.
                                                                                                 </span>
                                                                                             }
                                                                                             @if (professorEvents.Any())
                                                                                             {
                                                                                                 <span class="indicator-pill pill-professor">
                                                                                                     @professorEvents.Count Καθ.
                                                                                                 </span>
                                                                                             }
                                                                                         </div>
                                                                                     }
                                                                                 </div>
                                                                             }
                                                                         </div>

                                                                         <div class="pagination">
                                                                             <button @onclick="ShowPreviousMonth" class="btn">◀ Προηγ.</button>
                                                                             <button @onclick="ShowNextMonth" class="btn">Επομ. ▶</button>
                                                                         </div>

                                                                         <div class="calendar-legend">
                                                                             <div class="legend-item">
                                                                                 <span class="legend-color today-legend"></span>
                                                                                 <span>Σήμερα</span>
                                                                             </div>
                                                                             <div class="legend-item">
                                                                                 <span class="indicator-pill pill-company" style="width: 12px; height: 12px; padding:0; display:inline-block; margin-right:5px; vertical-align: middle;"></span>
                                                                                 <span>Εταιρείες</span>
                                                                             </div>
                                                                             <div class="legend-item">
                                                                                 <span class="indicator-pill pill-professor" style="width: 12px; height: 12px; padding:0; display:inline-block; margin-right:5px; vertical-align: middle;"></span>
                                                                                 <span>Καθηγητές</span>
                                                                             </div>
                                                                         </div>
                                                                     </div>
                                                             </div>
                                                         </div>
                                                     </div>


                                                            @if (isModalVisibleToShowEventsOnCalendarForEachClickedDay)
                                                            {
                                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                    <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
                                                                        <div class="modal-content"  style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); width: 100vw; max-width: none; margin: 0;">
                                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                <h5 class="modal-title" style="color: #2d3748; font-weight: 600; font-size: 1.25rem;">
                                                                                    <strong>Λεπτομέρειες Εκδήλωσης/σεων</strong>: 
                                                                                    <span style="color: #2d3748;">
                                                                                        @selectedDate?.ToString("dd MMMM yyyy", new System.Globalization.CultureInfo("el-GR"))
                                                                                    </span>
                                                                                </h5>
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                        @onclick="CloseModalForCompanyAndProfessorEventTitles"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                </button>
                                                                            </div>
                                                                            <div class="modal-body" style="max-height: 80vh; overflow-y: auto;">
                                                                                <!-- Filter Section -->
                                                                                @if (selectedEvent == null)
                                                                                {
                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Φιλτράρισμα Εκδηλώσεων</label>
                                                                                        <div class="input-group custom-width">
                                                                                            <select class=".form-control-calendarEventModal" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedEventFilter">
                                                                                                <option value="All">Όλες οι Εκδηλώσεις</option>
                                                                                                <option value="Company">Εκδηλώσεις Εταιρειών</option>
                                                                                                <option value="Professor">Εκδηλώσεις Καθηγητών</option>
                                                                                            </select>
                                                                                            <div class="input-group-append">
                                                                                                <span class="input-group-text"></span>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <br/>
                                                                                    @if (selectedEvent == null)
                                                                                    {
                                                                                        @if (filteredCompanyEvents.Count == 0 && filteredProfessorEvents.Count == 0)
                                                                                        {
                                                                                            <p>
                                                                                                "Δεν βρέθηκε καμία Εκδήλωση για αυτήν τη μέρα"
                                                                                            </p>
                                                                                            <p>
                                                                                                Η σημερινή ημερομηνία είναι: <strong>@DateTime.Today.ToString("dd MMMM , yyyy", new System.Globalization.CultureInfo("el-GR"))</strong>
                                                                                            </p>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <ul class="list-group">
                                                                                                @if (selectedEventFilter == "All" || selectedEventFilter == "Company" || selectedEventFilter == "Professor")
                                                                                                {
                                                                                                    <div class="table-responsive" style="max-height: 400px; overflow-y: auto;">
                                                                                                        <table class="table table-responsive" style="width: 100%; table-layout: auto; border-radius: 8px; overflow: hidden;">
                                                                                                            <thead>
                                                                                                                <tr>
                                                                                                                    <th class="text-center" style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">Διοργανωτής</th>
                                                                                                                    <th class="text-center" style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">Ημερομηνία</th>
                                                                                                                    <th class="text-center" style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">Ώρα</th>                                                                                                          
                                                                                                                    <th class="text-center" style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">Τίτλος</th>                                                                                                 
                                                                                                                    <th class="text-center" style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">Λεπτομέρειες</th>
                                                                                                                    @if (selectedEventFilter != "Professor")  
                                                                                                                    {
                                                                                                                        <th class="text-center" style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">Ένδειξη Ενδιαφέροντος</th>
                                                                                                                    }
                                                                                                                </tr>
                                                                                                            </thead>
                                                                                                            <tbody>
                                                                                                                @if (selectedEventFilter == "All" || selectedEventFilter == "Company")
                                                                                                                {
                                                                                                                    @foreach (var companyEvent in filteredCompanyEvents)
                                                                                                                    {
                                                                                                                        bool hasAlreadyExpressedInterest = dbContext.InterestInCompanyEventsAsProfessor
                                                                                                                            .Any(i => i.RNGForCompanyEventInterestAsProfessor == companyEvent.RNGForEventUploadedAsCompany 
                                                                                                                                    && i.ProfessorEmailShowInterestForCompanyEvent == CurrentUserEmail);

                                                                                                                        Console.WriteLine($"Interest found: {hasAlreadyExpressedInterest} for {companyEvent.CompanyEventTitle} with Professor Email {CurrentUserEmail}");
                            
                                                                                                                        <tr style="cursor:pointer; text-align: center; background-color: @(hasAlreadyExpressedInterest ? "lightgreen" : "transparent");">
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">@companyEvent.Company.CompanyName</td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">
                                                                                                                                @companyEvent.CompanyEventActiveDate.Date.ToString("dd MMMM", new System.Globalization.CultureInfo("el-GR"))
                                                                                                                            </td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">@companyEvent.CompanyEventTime</td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">@companyEvent.CompanyEventTitle</td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis; justify-content: center; align-items: center; height: 100%; vertical-align: middle;">
                                                                                                                                <i class="fas fa-eye" @onclick="() => ShowEventDetails(companyEvent)" style="cursor: pointer; font-size: 20px;"></i>
                                                                                                                            </td>
                                                                                                                            @if (selectedEventFilter != "Professor")  
                                                                                                                            {
                                                                                                                                <td style="max-width: 250px; text-align: center; vertical-align: middle;">
                                                                                                                                    @if (hasAlreadyExpressedInterest)
                                                                                                                                    {
                                                                                                                                        <span style="color: black; font-weight: bold;">Έχετε Εκδηλώσει Ενδιαφέρον</span>
                                                                                                                                    }
                                                                                                                                    else
                                                                                                                                    {
                                                                                                                                        <i class="fas fa-heart" @onclick="() => ShowInterestInCompanyEventAsProfessor(companyEvent)" 
                                                                                                                                           style="cursor: pointer; font-size: 20px; color: goldenrod;"></i>
                                                                                                                                    }
                                                                                                                                </td>
                                                                                                                            }
                                                                                                                        </tr>
                                                                                                                    }
                                                                                                                }

                                                                                                                @if (selectedEventFilter == "All" || selectedEventFilter == "Professor")
                                                                                                                {
                                                                                                                    @foreach (var professorEvent in filteredProfessorEvents)
                                                                                                                    {
                                                                                                                        <tr style="cursor:pointer; text-align: center;">
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">
                                                                                                                                @professorEvent.Professor?.ProfName @professorEvent.Professor?.ProfSurname
                                                                                                                            </td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">@professorEvent.ProfessorEventActiveDate.Date.ToString("dd MMMM", new System.Globalization.CultureInfo("el-GR"))</td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">@professorEvent.ProfessorEventTime</td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">@professorEvent.ProfessorEventTitle</td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis; justify-content: center; align-items: center; height: 100%; vertical-align: middle;">
                                                                                                                                <i class="fas fa-eye" @onclick="() => ShowEventDetails(professorEvent)" style="cursor: pointer; font-size: 20px;"></i>
                                                                                                                            </td>
                                                                                                                            @if (selectedEventFilter != "Professor")  
                                                                                                                            {
                                                                                                                                <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;"> - </td>
                                                                                                                            }
                                                                                                                        </tr>
                                                                                                                    }
                                                                                                                }
                                                                                                            </tbody>
                                                                                                        </table>
                                                                                                    </div>
                                                                                                }
                                                                                            </ul>
                                                                                        }
                                                                                    }

                                                                                    <div class="text-center mt-3">
                                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                                @onclick="CloseModalForCompanyAndProfessorEventTitles"
                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <i class="fas fa-times me-2"></i> Κλείσιμο
                                                                                        </button>
                                                                                    </div>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <!-- Display full details of the selected event -->
                                                                                    @if (selectedEvent is CompanyEvent companyEventDetails)
                                                                                    {
                                                                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                                            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                                        <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">@companyEventDetails.CompanyEventTitle</h5>
                                                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                                                @onclick="CloseEventDetails"
                                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                                        </button>
                                                                                                    </div>
                                                                                                    <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                                        @if (companyEventDetails.Company.CompanyLogo != null)
                                                                                                        {
                                                                                                            <div class="form-group text-center">
                                                                                                                <img src="data:image/png;base64,@Convert.ToBase64String(companyEventDetails.Company.CompanyLogo)" 
                                                                                                                     class="rounded-circle img-fluid" 
                                                                                                                     style="width: 150px; height: 150px; object-fit: cover;" 
                                                                                                                     alt="Company Logo" />
                                                                                                            </div>
                                                                                                        }

                                                                                                        <div class="list-group">
                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Όνομα Εταιρίας</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-industry" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                                    <span>@companyEventDetails.Company.CompanyName</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τίτλος Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventTitle" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Περιγραφή</label>
                                                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="3" readonly>@companyEventDetails.CompanyEventDescription</textarea>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ημερομηνία</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="far fa-calendar-alt" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                                    <span>@companyEventDetails.CompanyEventActiveDate.ToString("yyyy-MM-dd", new System.Globalization.CultureInfo("el-GR"))</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ώρα Εκδήλωσης</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="far fa-clock" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                                    <span>@companyEventDetails.CompanyEventTime.ToString(@"hh\:mm")</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τύπος Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventType" readonly />
                                                                                                            </div>

                                                                                                            @if (companyEventDetails.CompanyEventOtherOrganizerToBeVisible)
                                                                                                            {
                                                                                                                <div class="form-group">
                                                                                                                    <label style="font-weight: bold;">Άλλος Διοργανωτής</label>
                                                                                                                    <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventOtherOrganizer" readonly />
                                                                                                                </div>
                                                                                                            }

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Περιοχές Ενδιαφέροντος</label>
                                                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="3" readonly>@companyEventDetails.CompanyEventAreasOfInterest</textarea>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Κατάσταση Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventStatus" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Υπεύθυνος Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventResponsiblePerson" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Email Υπεύθυνου</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-envelope" style="color: #4682B4; margin-right: 8px;"></i>
                                                                                                                    @if (!string.IsNullOrEmpty(companyEventDetails.CompanyEventResponsiblePersonEmail))
                                                                                                                    {
                                                                                                                        <a href="mailto:@companyEventDetails.CompanyEventResponsiblePersonEmail" 
                                                                                                                           style="color: #007bff; text-decoration: underline; word-break: break-all;">
                                                                                                                            @companyEventDetails.CompanyEventResponsiblePersonEmail
                                                                                                                        </a>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <span style="color: #6c757d;">Δεν υπάρχει email</span>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τηλέφωνο Υπεύθυνου</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventResponsiblePersonTelephone" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τμήμα Εταιρίας</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventCompanyDepartment" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Διεύθυνση Email Εταιρίας</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-envelope" style="color: #4682B4; margin-right: 8px;"></i>
                                                                                                                    @if (!string.IsNullOrEmpty(companyEventDetails.CompanyEmailUsedToUploadEvent))
                                                                                                                    {
                                                                                                                        <a href="mailto:@companyEventDetails.CompanyEmailUsedToUploadEvent" 
                                                                                                                           style="color: #007bff; text-decoration: underline; word-break: break-all;">
                                                                                                                            @companyEventDetails.CompanyEmailUsedToUploadEvent
                                                                                                                        </a>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <span style="color: #6c757d;">Δεν υπάρχει email</span>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ημερομηνία Ανάρτησης Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;"
                                                                                                                       value="@companyEventDetails.CompanyEventUploadedDate.ToString("yyyy-MM-dd", new System.Globalization.CultureInfo("el-GR"))" 
                                                                                                                       readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Περιοχή Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventPerifereiaLocation" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Δήμος Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventDimosLocation" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τοποθεσία Εκδήλωσης</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                    @if (!string.IsNullOrEmpty(companyEventDetails.CompanyEventPlaceLocation))
                                                                                                                    {
                                                                                                                        <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(companyEventDetails.CompanyEventPlaceLocation)" 
                                                                                                                           target="_blank"
                                                                                                                           style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                            @companyEventDetails.CompanyEventPlaceLocation
                                                                                                                        </a>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <span style="color: #6c757d;">Δεν έχει οριστεί τοποθεσία Εκδήλωσης ακόμη..</span>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ταχυδρομικός Κώδικας Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventPostalCodeLocation" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Μεταφορά Στον Χώρο Εκδήλωσης</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; 
                                                                                                                     @(companyEventDetails.CompanyEventOfferingTransportToEventLocation.GetValueOrDefault() ? "color: #28a745;" : "color: #dc3545;")">
                                                                                                                    <i class="fas fa-car" style="margin-right: 8px;"></i>
                                                                                                                    <span>@(companyEventDetails.CompanyEventOfferingTransportToEventLocation.GetValueOrDefault() ? "Ναι" : "Όχι")</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            @if (companyEventDetails.CompanyEventOfferingTransportToEventLocation ?? false)
                                                                                                            {
                                                                                                                <div class="form-group">
                                                                                                                    <label style="font-weight: bold;">Σημεία Εκκίνησης για Μεταφορά</label>
                                                                                                                    @if (!string.IsNullOrWhiteSpace(companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent1))
                                                                                                                    {
                                                                                                                        <div class="form-group">
                                                                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                                <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                                <a href="https://www.google.com/maps/search/@Uri.EscapeDataString(companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent1)"
                                                                                                                                   target="_blank"
                                                                                                                                   style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                                    @companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent1
                                                                                                                                </a>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                    @if (!string.IsNullOrWhiteSpace(companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent2))
                                                                                                                    {
                                                                                                                        <div class="form-group">
                                                                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                                <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                                <a href="https://www.google.com/maps/search/@Uri.EscapeDataString(companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent2)"
                                                                                                                                   target="_blank"
                                                                                                                                   style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                                    @companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent2
                                                                                                                                </a>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                    @if (!string.IsNullOrWhiteSpace(companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent3))
                                                                                                                    {
                                                                                                                        <div class="form-group">
                                                                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                                <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                                <a href="https://www.google.com/maps/search/@Uri.EscapeDataString(companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent3)"
                                                                                                                                   target="_blank"
                                                                                                                                   style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                                    @companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent3
                                                                                                                                </a>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            }
                                                                                                            <div class="text-center mt-4">
                                                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                                                        @onclick="CloseEventDetails"
                                                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                    <i class="fas fa-arrow-left me-2"></i> Πίσω
                                                                                                                </button>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    else if (selectedEvent is ProfessorEvent professorEventDetails)
                                                                                    {
                                                                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                                            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                                        <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">@professorEventDetails.ProfessorEventTitle</h5>
                                                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                                                @onclick="CloseEventDetails"
                                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                                        </button>
                                                                                                    </div>
                                                                                                    <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                                        @if (professorEventDetails.Professor.ProfImage != null)
                                                                                                        {
                                                                                                            <div class="form-group text-center">
                                                                                                                <img src="data:image/png;base64,@Convert.ToBase64String(professorEventDetails.Professor.ProfImage)" 
                                                                                                                     class="rounded-circle img-fluid" 
                                                                                                                     style="width: 150px; height: 150px; object-fit: cover;" 
                                                                                                                     alt="Professor Image" />
                                                                                                            </div>
                                                                                                        }

                                                                                                        <div class="list-group">
                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ονοματεπώνυμο Διοργανωτή</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-user" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                                    <span>@professorEventDetails.Professor.ProfName @professorEventDetails.Professor.ProfSurname</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τίτλος Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventTitle" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Περιγραφή</label>
                                                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="3" readonly>@professorEventDetails.ProfessorEventDescription</textarea>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ημερομηνία</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="far fa-calendar-alt" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                                    <span>@professorEventDetails.ProfessorEventActiveDate.ToString("yyyy-MM-dd")</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ώρα Εκδήλωσης</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="far fa-clock" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                                    <span>@professorEventDetails.ProfessorEventTimeOnly.ToString("HH:mm")</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τύπος Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventType" readonly />
                                                                                                            </div>

                                                                                                            @if (professorEventDetails.ProfessorEventOtherOrganizerToBeVisible)
                                                                                                            {
                                                                                                                <div class="form-group">
                                                                                                                    <label style="font-weight: bold;">Άλλος Διοργανωτής</label>
                                                                                                                    <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventOtherOrganizer" readonly />
                                                                                                                </div>
                                                                                                            }

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Περιοχές Ενδιαφέροντος</label>
                                                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="3" readonly>@professorEventDetails.ProfessorEventAreasOfInterest</textarea>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Κατάσταση Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventStatus" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ονοματεπώνυμο Υπεύθυνου</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventResponsiblePerson" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Email Υπεύθυνου</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-envelope" style="color: #4682B4; margin-right: 8px;"></i>
                                                                                                                    @if (!string.IsNullOrEmpty(professorEventDetails.ProfessorEventResponsiblePersonEmail))
                                                                                                                    {
                                                                                                                        <a href="mailto:@professorEventDetails.ProfessorEventResponsiblePersonEmail" 
                                                                                                                           style="color: #007bff; text-decoration: underline; word-break: break-all;">
                                                                                                                            @professorEventDetails.ProfessorEventResponsiblePersonEmail
                                                                                                                        </a>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <span style="color: #6c757d;">Δεν υπάρχει email</span>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τηλέφωνο Υπεύθυνου</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventResponsiblePersonTelephone" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-university" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                                    <span>@professorEventDetails.Professor.ProfUniversity</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τμήμα Πανεπιστημίου</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventUniversityDepartment" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Email Καθηγητή</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-envelope" style="color: #4682B4; margin-right: 8px;"></i>
                                                                                                                    @if (!string.IsNullOrEmpty(professorEventDetails.Professor.ProfEmail))
                                                                                                                    {
                                                                                                                        <a href="mailto:@professorEventDetails.Professor.ProfEmail" 
                                                                                                                           style="color: #007bff; text-decoration: underline; word-break: break-all;">
                                                                                                                            @professorEventDetails.Professor.ProfEmail
                                                                                                                        </a>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <span style="color: #6c757d;">Δεν υπάρχει email</span>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Περιφέρεια</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventPerifereiaLocation" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Δήμος</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventDimosLocation" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τοποθεσία Εκδήλωσης</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                    @if (!string.IsNullOrEmpty(professorEventDetails.ProfessorEventPlaceLocation))
                                                                                                                    {
                                                                                                                        <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(professorEventDetails.ProfessorEventPlaceLocation)"
                                                                                                                           target="_blank"
                                                                                                                           style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                            @professorEventDetails.ProfessorEventPlaceLocation
                                                                                                                        </a>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <span style="color: #6c757d;">Δεν έχει οριστεί τοποθεσία Εκδήλωσης ακόμη..</span>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ταχυδρομικός Κώδικας Τοποθεσίας</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventPostalCodeLocation" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Μεταφορά Στον Χώρο Εκδήλωσης</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; 
                                                                                                                     @(professorEventDetails.ProfessorEventOfferingTransportToEventLocation.GetValueOrDefault() ? "color: #28a745;" : "color: #dc3545;")">
                                                                                                                    <i class="fas fa-car" style="margin-right: 8px;"></i>
                                                                                                                    <span>@(professorEventDetails.ProfessorEventOfferingTransportToEventLocation.GetValueOrDefault() ? "Ναι" : "Όχι")</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            @if (professorEventDetails.ProfessorEventOfferingTransportToEventLocation ?? false)
                                                                                                            {
                                                                                                                <div class="form-group">
                                                                                                                    <label style="font-weight: bold;">Σημεία Εκκίνησης για Μεταφορά</label>
                                                                                                                    @if (!string.IsNullOrWhiteSpace(professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent1))
                                                                                                                    {
                                                                                                                        <div class="form-group">
                                                                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                                <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                                <a href="https://www.google.com/maps/search/@Uri.EscapeDataString(professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent1)"
                                                                                                                                   target="_blank"
                                                                                                                                   style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                                    @professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent1
                                                                                                                                </a>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                    @if (!string.IsNullOrWhiteSpace(professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent2))
                                                                                                                    {
                                                                                                                        <div class="form-group">
                                                                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                                <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                                <a href="https://www.google.com/maps/search/@Uri.EscapeDataString(professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent2)"
                                                                                                                                   target="_blank"
                                                                                                                                   style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                                    @professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent2
                                                                                                                                </a>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                    @if (!string.IsNullOrWhiteSpace(professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent3))
                                                                                                                    {
                                                                                                                        <div class="form-group">
                                                                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                                <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                                <a href="https://www.google.com/maps/search/@Uri.EscapeDataString(professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent3)"
                                                                                                                                   target="_blank"
                                                                                                                                   style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                                    @professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent3
                                                                                                                                </a>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            }
                                                                                                            <div class="text-center mt-4">
                                                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                                                        @onclick="CloseEventDetails"
                                                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                    <i class="fas fa-arrow-left me-2"></i> Πίσω
                                                                                                                </button>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                }
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            }







                                                            <!-- ΔΗΜΙΟΥΡΓΙΑ ΕΚΔΗΛΩΣΗΣ ΩΣ PROFESSOR USER-->
                                                             <div class="mb-3 row-dark-gray">
                                                                <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityForUploadProfessorEvent" style="cursor: pointer;">
                                                                    <label class="form-label" style="color: #FFF8DC;">• Δημιουργία Εκδήλωσης •</label>
                                                                    <button class="btn btn-link" @onclick="ToggleFormVisibilityForUploadProfessorEvent" @onclick:stopPropagation="true">
                                                                        @if (isUploadProfessorEventFormVisible)
                                                                        {
                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                        }
                                                                    </button>
                                                                </div>
                                                            </div>
                                                            @if (isUploadProfessorEventFormVisible)
                                                            {

                                                                
                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventType">
                                                                                <strong>Τύπος Εκδήλωσης</strong>
                                                                                <span style="color: red;"> *</span>
                                                                            </label>
                                                                            <div class="input-group">
                                                                                <select id="ProfessorEventType" class="form-control @(showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventType) ? "shake error" : "")" @bind="professorEvent.ProfessorEventType">
                                                                                    <option value="">-- Επιλέξτε τύπο εκδήλωσης --</option>
                                                                                    <option value="Έκθεση">Έκθεση</option>
                                                                                    <option value="Hackathon">Hackathon</option>
                                                                                    <option value="Career Day">Career Day</option>
                                                                                    <option value="Seminar">Seminar</option>
                                                                                    <option value="Επίσκεψη">Επίσκεψη</option>
                                                                                    <option value="Άλλο">Άλλο</option>
                                                                                </select>
                                                                                <div class="input-group-append">
                                                                                    <span class="input-group-text">
                                                                                        <i class="fas fa-chevron-down"></i>
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        @if (showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventType))
                                                                        {
                                                                            <div class="text-danger mt-1">Απαιτείται επιλογή Τύπου Εκδήλωσης.</div>
                                                                        }
                                                                    </div>

                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventOtherOrganizerToBeVisible"><strong>Θέλετε να προσθέσετε άλλον διοργανωτή;</strong><span style="color: red;"> *</span></label>
                                                                            <div class="form-check">
                                                                                <input type="radio" id="true" name="ProfessorEventOtherOrganizerToBeVisible" class="form-check-input" 
                                                                                       value="true" @onclick="() => UpdateOrganizerVisibilityForProfessorEvents(true)" />
                                                                                <label class="form-check-label" for="true">Ναι</label>
                                                                            </div>
                                                                            <div class="form-check">
                                                                                <input type="radio" id="false" name="ProfessorEventOtherOrganizerToBeVisible" class="form-check-input" 
                                                                                       value="false" @onclick="() => UpdateOrganizerVisibilityForProfessorEvents(false)" />
                                                                                <label class="form-check-label" for="false">Όχι</label>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    @if (professorEvent.ProfessorEventOtherOrganizerToBeVisible)
                                                                    {
                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label for="ProfessorEventOtherOrganizer"><strong>Διοργανωτής</strong><span style="color: red;"> *</span></label>
                                                                                <div class="input-group">
                                                                                    <input type="text" class="form-control @(showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventOtherOrganizer) ? "shake error" : "")"
                                                                                           @bind="professorEvent.ProfessorEventOtherOrganizer" placeholder="Πληκτρολογείστε τον Διοργανωτή" />
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text">
                                                                                            <i class="fas fa-user"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    }

                                                                   

                                                                    <!-- Professor Event Areas -->
                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px; flex-wrap: wrap;">
                                                                                <label style="margin: 0; display: flex; align-items: center; gap: 4px;">
                                                                                    <strong>Περιοχές Ενδιαφέροντος</strong>
                                                                                    <span style="color: red;">*</span>
                                                                                </label>
            
                                                                                <button type="button" 
                                                                                        @onclick="ToggleCheckboxesForProfessorEvent"
                                                                                        class="toggle-all-areas-btn @(showErrorMessageForUploadingProfessorEvent && !HasAnySelectionForProfessorEvent() ? "shake error" : "")"
                                                                                        style="border: 1px solid #1565c0; background: white; border-radius: 6px; padding: 4px 10px; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; color: #1565c0; font-size: 0.85em; transition: all 0.2s;">
                                                                                    <span>👆</span>
                                                                                    <span>Προβολή περιοχών</span>
                                                                                </button>
                                                                            </div>

                                                                            @if (showCheckboxesForProfessorEvent)
                                                                            {
                                                                                <div class="checkbox-container">
                                                                                    @if (Areas == null || !Areas.Any())
                                                                                    {
                                                                                        <p>Φορτώνει...</p>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        @foreach (var area in Areas)
                                                                                        {
                                                                                            <div class="area-container" style="margin-bottom: 8px; border: 2px solid #1565c0; border-radius: 6px; padding: 8px; background-color: #f8f9fa;">
                                                                                                <div class="form-check area-header" style="display: flex; align-items: center; gap: 8px;">
                                                                                                    <input type="checkbox"
                                                                                                           id="professorevent_area_@area.Id"
                                                                                                           class="form-check-input"
                                                                                                           @onchange="(e) => OnAreaCheckedChangedForProfessorEvent(e, area)"
                                                                                                           checked="@IsAreaSelectedForProfessorEvent(area)" />
                                                                                                    <label class="form-check-label area-label @(showErrorMessageForUploadingProfessorEvent && !HasAnySelectionForProfessorEvent() ? "shake error" : "")" 
                                                                                                           for="professorevent_area_@area.Id"
                                                                                                           style="cursor: pointer; font-weight: bold; flex-grow: 1; color: #1565c0;">
                                                                                                        @area.AreaName
                                                                                                    </label>
                                                                                                    <button type="button"
                                                                                                            @onclick="@(() => ToggleSubFieldsForProfessorEvent(area))"
                                                                                                            @onclick:stopPropagation="true"
                                                                                                            class="expand-btn"
                                                                                                            style="border: 1px solid #1565c0; background: white; border-radius: 4px; padding: 4px 8px; cursor: pointer; display: flex; align-items: center; gap: 4px; font-size: 0.8em; color: #1565c0; transition: all 0.2s;">
                                                                                                        <span>Υποτομείς</span>
                                                                                                        <span class="expand-icon" style="font-size: 10px; transition: transform 0.2s; transform: @(ExpandedAreasForProfessorEvent.Contains(area.Id) ? "rotate(90deg)" : "rotate(0deg)")">▶</span>
                                                                                                    </button>
                                                                                                </div>
                            
                                                                                                @if (ExpandedAreasForProfessorEvent.Contains(area.Id))
                                                                                                {
                                                                                                    <div class="subfields-container" style="margin-top: 12px; margin-left: 28px; padding: 12px; background: white; border: 1px solid #e0e0e0; border-radius: 4px;">
                                                                                                        <div style="font-size: 0.85em; color: #666; margin-bottom: 8px; font-weight: 500;">
                                                                                                            Επιλέξτε υποτομείς:
                                                                                                        </div>
                                                                                                        @if (!string.IsNullOrEmpty(area.AreaSubFields))
                                                                                                        {
                                                                                                            var subFields = area.AreaSubFields.Split(',').Select(s => s.Trim()).ToList();
                                                                                                            @foreach (var subField in subFields)
                                                                                                            {
                                                                                                                <div class="form-check subfield-checkbox" style="margin-bottom: 6px;">
                                                                                                                    <input type="checkbox"
                                                                                                                           id="professorevent_subfield_@(area.Id)_@(subField)"
                                                                                                                           class="form-check-input"
                                                                                                                           @onchange="(e) => OnSubFieldCheckedChangedForProfessorEvent(e, area, subField)"
                                                                                                                           checked="@IsSubFieldSelectedForProfessorEvent(area, subField)" />
                                                                                                                    <label class="form-check-label" for="professorevent_subfield_@(area.Id)_@(subField)" style="font-weight: normal; font-size: 0.9em;">
                                                                                                                        @subField
                                                                                                                    </label>
                                                                                                                </div>
                                                                                                            }
                                                                                                        }
                                                                                                    </div>
                                                                                                }
                                                                                            </div>
                                                                                        }
                                                                                    }
                                                                                </div>
                                                                            }
                                                                        </div>
                                                                        @if (showErrorMessageForUploadingProfessorEvent && !HasAnySelectionForProfessorEvent())
                                                                        {
                                                                            <div class="text-danger mt-1">Πρέπει να επιλέξετε τουλάχιστον 1 Περιοχή Ενδιαφέροντος ή Υποτομέα.</div>
                                                                        }
                                                                    </div>



                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventTitle"><strong>Τίτλος Εκδήλωσης</strong><span style="color: red;"> *</span></label>
                                                                            <input type="text" id="ProfessorEventTitle" class="form-control @(showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventTitle) ? "shake error" : "")" @bind="professorEvent.ProfessorEventTitle" @oninput="CheckCharacterLimitInEventTitleField" maxlength="120" placeholder="Πληκτρολογείστε τον τίτλο της εκδήλωσης" />
                                                                            <small class="character-limit light-cadetblue-text">@remainingCharactersInEventTitleField/120</small>
                                                                        </div>
                                                                        @if (showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventTitle))
                                                                        {
                                                                            <div class="text-danger mt-1">Απαιτείται ο Τίτλος της Εκδήλωσης</div>
                                                                        }
                                                                    </div>

                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventDescription"><strong>Περιγραφή Εκδήλωσης</strong> <span style="color: red;"> *</span></label>
                                                                            <textarea id="ProfessorEventDescription" class="form-control @(showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventDescription) ? "shake error" : "")" @bind="professorEvent.ProfessorEventDescription" @oninput="CheckCharacterLimitInProfessorEventDescription" maxlength="1000" placeholder="Πληκτρολογείστε την Περιγραφή της Εκδήλωσής σας"></textarea>
                                                                            <small class="character-limit light-cadetblue-text">@remainingCharactersInProfessorEventDescription/1000</small>
                                                                        </div>
                                                                        @if (showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventDescription))
                                                                        {
                                                                            <div class="text-danger mt-1">Απαιτείται η Περιγραφή της Εκδήλωσης</div>
                                                                        }
                                                                    </div>

                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventResponsiblePerson">Υπεύθυνος Εκδήλωσης (Ονοματεπώνυμο)<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                                            <input type="text" id="ProfessorEventResponsiblePerson" class="form-control" @bind="professorEvent.ProfessorEventResponsiblePerson" />
                                                                        </div>
                                                                    </div>

                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventResponsiblePersonEmail">
                                                                                Email Υπεύθυνου
                                                                                <span style="font-style: italic; color: gray;"> (Προαιρετικό)</span>
                                                                            </label>
                                                                            <input type="email" id="ProfessorEventResponsiblePersonEmail" class="form-control" 
                                                                                   @bind="professorEvent.ProfessorEventResponsiblePersonEmail" 
                                                                                   placeholder="example@mail.com" />
                                                                        </div>
                                                                    </div>


                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventResponsiblePersonTelephone">Τηλέφωνο Υπεύθυνου<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                                            <div class="input-group">
                                                                                <div class="input-group-prepend">
                                                                                    <span class="input-group-textfortelephone">+30</span>
                                                                                </div>
                                                                                <input type="tel" id="ProfessorEventResponsiblePersonTelephone" class="form-control" 
                                                                                       @bind="professorEvent.ProfessorEventResponsiblePersonTelephone" placeholder="Τηλέφωνο Υπευθύνου" />
                                                                            </div>
                                                                        </div>
                                                                    </div>


                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventUniversity">Πανεπιστήμιο<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                                            <input type="text" id="ProfessorEventUniversity" class="form-control" @bind="professorEvent.Professor.ProfUniversity" />
                                                                        </div>
                                                                    </div>


                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventUniversityDepartment">Τμήμα Πανεπιστημίου<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                                            <input type="text" id="ProfessorEventUniversityDepartment" class="form-control" @bind="professorEvent.ProfessorEventUniversityDepartment" />
                                                                        </div>
                                                                    </div>

                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventDate">
                                                                                <strong>Ημερομηνία Εκδήλωσης</strong>
                                                                                <span style="color: red;">*</span>
                                                                            </label>
                                                                            <input type="date" id="ProfessorEventDate"
                                                                                   class="form-control @(showErrorMessageForUploadingProfessorEvent && professorEvent.ProfessorEventActiveDate.Date < DateTime.Today ? "shake error" : "")" 
                                                                                   value="@professorEvent.ProfessorEventActiveDate.ToString("yyyy-MM-dd")"
                                                                                   @onchange="HandleProfessorDateChange" />
        
                                                                            @if (showErrorMessageForUploadingProfessorEvent && professorEvent.ProfessorEventActiveDate.Date < DateTime.Today)
                                                                            {
                                                                                <div class="text-danger mt-1">Η ημερομηνία πρέπει να είναι μεταγενέστερη ή ίση με τη σημερινή ημερομηνία.</div>
                                                                            }
        
                                                                            @if (hasExistingEventsOnSelectedDateForProfessor)
                                                                            {
                                                                                <div class="text-info mt-1">
                                                                                    <i class="fas fa-info-circle"></i> Ενημέρωση: "Υπάρχουν ήδη <strong>@existingEventsCountToCheckAsProfessor</strong> εκδηλώσεις για αυτή την ημερομηνία."
                                                                                </div>
                                                                            }
                                                                        </div>
                                                                    </div>

                                                                    <!-- Region Dropdown -->
                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventPerifereiaLocation">
                                                                                <strong>Περιφέρεια</strong>
                                                                                <span style="color: red;">*</span>
                                                                            </label>
                                                                            <div class="input-group">
                                                                                <select id="ProfessorEventPerifereiaLocation" class="form-control @(showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventPerifereiaLocation) ? "shake error" : "")" @bind="professorEvent.ProfessorEventPerifereiaLocation">
                                                                                    <option value="">-- Επιλέξτε Περιφέρεια --</option>
                                                                                    @foreach (var region in Regions)
                                                                                    {
                                                                                        <option value="@region">@region</option>
                                                                                    }
                                                                                </select>
                                                                                <div class="input-group-append">
                                                                                    <span class="input-group-text">
                                                                                        <i class="fas fa-chevron-down"></i>
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        @if (showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventPerifereiaLocation))
                                                                        {
                                                                            <div class="text-danger mt-1">Απαιτείται η Περιφέρεια στην οποία θα πραγματοποιηθεί η Εκδήλωση</div>
                                                                        }
                                                                    </div>

                                                                    <!-- Town Dropdown -->
                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventDimosLocation">
                                                                                <strong>Δήμος</strong>
                                                                                <span style="color: red;">*</span>
                                                                            </label>
                                                                            <div class="input-group">
                                                                                <select id="ProfessorEventDimosLocation" class="form-control @(showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventDimosLocation) ? "shake error" : "")" @bind="professorEvent.ProfessorEventDimosLocation">
                                                                                    <option value="">-- Επιλέξτε Δήμο --</option>
                                                                                    @foreach (var town in GetTownsForRegion(professorEvent.ProfessorEventPerifereiaLocation))
                                                                                    {
                                                                                        <option value="@town">@town</option>
                                                                                    }
                                                                                </select>
                                                                                <div class="input-group-append">
                                                                                    <span class="input-group-text">
                                                                                        <i class="fas fa-chevron-down"></i>
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        @if (showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventDimosLocation))
                                                                        {
                                                                            <div class="text-danger mt-1">Απαιτείται o Δήμος στον οποίο θα πραγματοποιηθεί η Εκδήλωση</div>
                                                                        }
                                                                    </div>


                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventPlaceLocation"><strong>Τοποθεσία Εκδήλωσης</strong><span style="color: red;"> *</span></label>
                                                                            <input type="text" id="autocomplete" class="form-control @(showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventPlaceLocation) ? "shake error" : "")" @bind="professorEvent.ProfessorEventPlaceLocation" placeholder="Αναζήτηση χώρου εκδήλωσης " />
                                                                        </div>
                                                                        @if (showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventPlaceLocation))
                                                                        {
                                                                            <div class="text-danger mt-1">Απαιτείται Τοποθεσία/Διεύθυνση του χώρου Εκδήλωσης</div>
                                                                        }
                                                                    </div>

                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventTime">
                                                                                <strong>Ώρα Εκδήλωσης</strong>
                                                                                <span style="color: red;">*</span>
                                                                            </label>
                                                                            <input type="time" 
                                                                                   id="ProfessorEventTime" 
                                                                                   class="form-control @(showErrorMessageForUploadingProfessorEvent && (professorEvent.ProfessorEventTimeOnly == TimeOnly.MinValue || IsTimeInRestrictedRangeWhenUploadEventAsProfessor(professorEvent.ProfessorEventTimeOnly)) ? "shake error" : "")" 
                                                                                   @bind="professorEvent.ProfessorEventTimeOnly" 
                                                                                   min="06:00" 
                                                                                   max="22:00" />
                                                                        </div>
                                                                        @if (showErrorMessageForUploadingProfessorEvent && professorEvent.ProfessorEventTimeOnly == TimeOnly.MinValue)
                                                                        {
                                                                            <div class="text-danger mt-1">Η ώρα εκδήλωσης είναι υποχρεωτική.</div>
                                                                        }
                                                                        @if (showErrorMessageForUploadingProfessorEvent && IsTimeInRestrictedRangeWhenUploadEventAsProfessor(professorEvent.ProfessorEventTimeOnly))
                                                                        {
                                                                            <div class="text-danger mt-1">Η ώρα πρέπει να είναι μεταξύ 06:00 και 22:00.</div>
                                                                        }
                                                                    </div>
                                               
                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventPostalCodeLocation"><strong>Ταχυδρομικός Κώδικας</strong><span style="color: red;"> *</span></label>
                                                                            <input type="text" id="ProfessorEventPostalCodeLocation" class="form-control @(showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventPostalCodeLocation) ? "shake error" : "")" @bind="professorEvent.ProfessorEventPostalCodeLocation" placeholder="Πληκτρολογείστε τον ταχυδρομικό κώδικα" />
                                                                        </div>
                                                                        @if (showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventPostalCodeLocation))
                                                                        {
                                                                            <div class="text-danger mt-1">Απαιτείται Ταχυδρομικός Κώδικας.</div>
                                                                        }
                                                                    </div>

                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventOfferingTransportToEventLocation">
                                                                                <strong>Παροχή Μεταφοράς προς Χώρο Εκδήλωσης;</strong>
                                                                                <span style="color: red;"> *</span>
                                                                            </label>
                                                                            <select id="ProfessorEventOfferingTransportToEventLocation" 
                                                                                    class="form-control @(showErrorMessageForUploadingProfessorEvent && professorEvent.ProfessorEventOfferingTransportToEventLocation == null ? "shake error" : "")"
                                                                                    @onchange="OnTransportOptionChangeForProfessorEvent">
                                                                                <option value="">-- Επιλέξτε --</option>
                                                                                <option value="true">Ναι</option>
                                                                                <option value="false">Όχι</option>
                                                                            </select>
                                                                        </div>
                                                                        @if (showErrorMessageForUploadingProfessorEvent && professorEvent.ProfessorEventOfferingTransportToEventLocation == null)
                                                                        {
                                                                            <div class="text-danger mt-1">Απαιτείται Επιλογή Παροχής Μεταφοράς προς τον χώρο της Εκδήλωσης.</div>
                                                                        }
                                                                    </div>


                                                                    @if (professorEvent.ProfessorEventOfferingTransportToEventLocation == true)
                                                                    {
                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label for="ProfessorEventStartingPointLocationToTransportPeopleToEvent1">
                                                                                    <strong>Σημείο Εκκίνησης 1 για μεταφορά προς Εκδήλωση</strong> 
                                                                                    <span style="color: red;"> *</span>
                                                                                </label>
                                                                                <input type="text" id="autocomplete2" 
                                                                                       class="form-control @(showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventStartingPointLocationToTransportPeopleToEvent1) ? "shake error" : "")" 
                                                                                       @bind="professorEvent.ProfessorEventStartingPointLocationToTransportPeopleToEvent1" 
                                                                                       placeholder="Αναζήτηση 1ου σημείου εκκίνησης" />
                                                                            </div>
                                                                        </div>
                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label for="ProfessorEventStartingPointLocationToTransportPeopleToEvent2">
                                                                                    <strong>Σημείο Εκκίνησης 2 για μεταφορά προς Εκδήλωση</strong> 
                                                                                    <span style="color: red;"> *</span>
                                                                                </label>
                                                                                <input type="text" id="autocomplete3" 
                                                                                       class="form-control @(showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventStartingPointLocationToTransportPeopleToEvent2) ? "shake error" : "")" 
                                                                                       @bind="professorEvent.ProfessorEventStartingPointLocationToTransportPeopleToEvent2" 
                                                                                       placeholder="Αναζήτηση 2ου σημείου εκκίνησης" />
                                                                            </div>
                                                                        </div>
                                                                        <div class="row mb-3">
                                                                            <div class="col-md-4">
                                                                                <label for="ProfessorEventStartingPointLocationToTransportPeopleToEvent3">
                                                                                    <strong>Σημείο Εκκίνησης 3 για μεταφορά προς Εκδήλωση</strong> 
                                                                                    <span style="color: red;"> *</span>
                                                                                </label>
                                                                                <input type="text" id="autocomplete4" 
                                                                                       class="form-control @(showErrorMessageForUploadingProfessorEvent && string.IsNullOrWhiteSpace(professorEvent.ProfessorEventStartingPointLocationToTransportPeopleToEvent3) ? "shake error" : "")" 
                                                                                       @bind="professorEvent.ProfessorEventStartingPointLocationToTransportPeopleToEvent3" 
                                                                                       placeholder="Αναζήτηση 3ου σημείου εκκίνησης" />
                                                                            </div>
                                                                        </div>
                                                                    }

                                                                    <div class="row mb-3">
                                                                        <div class="col-md-4">
                                                                            <label for="ProfessorEventAttachmentFile">Επισύναψη Αρχείου<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                                            <InputFile id="ProfessorEventAttachmentFile" class="form-control" OnChange="UploadProfessorEventAttachmentFile" />
                                                                            <small class="form-text text-muted">Όριο 10MB</small>
                                                                            @if (!string.IsNullOrEmpty(ProfessorEventAttachmentErrorMessage))
                                                                            {
                                                                                <div class="text-danger mt-2">@ProfessorEventAttachmentErrorMessage</div>
                                                                            }
                                                                        </div>
                                                                    </div>


                                                                    <!-- Buttons to save the event -->
                                                                    <div class="mb-3">
                                                                        <button class="modern-button"
                                                                                style="background-color: #818589; color: white; display: inline-flex; align-items: center;"
                                                                                @onclick="HandleTemporarySaveProfessorEvent">
                                                                            <i class="fa-regular fa-floppy-disk" style="margin-right: 8px;"></i>
                                                                            Προσωρινή Αποθήκευση Εκδήλωσης
                                                                        </button>
                                                                        <button class="modern-button"
                                                                                style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;"
                                                                                @onclick="HandlePublishSaveProfessorEvent">
                                                                            <i class="fa-solid fa-floppy-disk" style="margin-right: 8px;"></i>
                                                                            Δημοσίευση Εκδήλωσης
                                                                        </button>
                                                                    </div>
                                                                    <!-- Loading Modal for Professor Event -->
                                                                    @if (showLoadingModalForProfessorEvent)
                                                                    {
                                                                        <div class="loading-modal">
                                                                            <div class="loading-modal-content">
                                                                                <div class="loading-spinner"></div>
                                                                                <p>Αποθήκευση Εκδήλωσης...</p>
                                                                                <div class="progress-bar">
                                                                                    <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    }
                                                                    @if (!isFormValidToSaveEventAsProfessor)
                                                                    {
                                                                            <div class="alert alert-danger" role="alert">
                                                                                Συμπληρώστε Όλα Τα Υποχρεωτικά Πεδία και Προσπαθήστε Ξανά
                                                                            </div>
                                                                    }
                                                                    <br />
                                                                    @if (!string.IsNullOrEmpty(saveEventAsProfessorMessage))
                                                                    {
                                                                            <div class="alert @(isSaveAnnouncementAsProfessorSuccessful ? "alert-success" : "alert-danger")" role="alert">
                                                                                    @saveEventAsProfessorMessage
                                                                            </div>
                                                                    }
                                                                    <br />
                                                            }


                                                            <!-- VIEW UPLOADED EVENTS AS PROFESSOR -->
                                                            <div class="mb-3 row-dark-gray">
                                                                <div class="d-flex justify-content-between align-items-center" @onclick="ToggleUploadedProfessorEventsVisibility" style="cursor: pointer;">
                                                                    <label class="form-label" style="color: #FFF8DC;">
                                                                        @if (isLoadingUploadedEventsAsProfessor)
                                                                        {
                                                                            <span>
                                                                                <i class="fas fa-spinner fa-spin me-2"></i>
                                                                                Φόρτωση Εκδηλώσεων...
                                                                            </span>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>• Οι Εκδηλώσεις μου •</span>
                                                                        }
                                                                    </label>
                                                                    <button class="btn btn-link" @onclick="ToggleUploadedProfessorEventsVisibility" @onclick:stopPropagation="true">
                                                                        @if (isUploadedEventsVisibleAsProfessor && !isLoadingUploadedEventsAsProfessor)
                                                                        {
                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                        }
                                                                        else if (!isLoadingUploadedEventsAsProfessor)
                                                                        {
                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                        }
                                                                    </button>
                                                                </div>
                                                            </div>
                                                            <br />
                                                            @if (isUploadedEventsVisibleAsProfessor)
                                                            {
                                                                <div class="row mb-3">
                                                                    <div class="col-md-2">
                                                                        <label for="statusFilterForAnnouncements" style="color: #2d3748;"><strong>Φίλτρο Εμφάνισης</strong></label>
                                                                        <div class="input-group">
                                                                            <select id="statusFilterForAnnouncements" class="form-control form-control-sm" 
                                                                                    @onchange="HandleStatusFilterChangeForProfessorEvents">
                                                                                <option value="Όλα">Όλες</option>
                                                                                <option value="Δημοσιευμένη">Δημοσιευμένες</option>
                                                                                <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένες</option>
                                                                            </select>
                                                                            <div class="input-group-append">
                                                                                <span class="input-group-text">
                                                                                    <i class="fas fa-chevron-down"></i>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-2">
                                                                        <label style="color: #2d3748;"><strong>Αποτελέσματα ανά Σελίδα</strong></label>
                                                                        <div class="input-group" style="max-width: 65px;">
                                                                            <select class="form-control form-control-sm" 
                                                                                    @onchange="OnPageSizeChange_SeeMyUploadedEventsAsProfessor" 
                                                                                    aria-label="Items per page">
                                                                                @foreach (var option in pageSizeOptions_SeeMyUploadedEventsAsProfessor)
                                                                                {
                                                                                    <option value="@option" selected="@(itemsPerPage_ProfessorEvents == option)">@option</option>
                                                                                }
                                                                            </select>
                                                                            <div class="input-group-append">
                                                                                <span class="input-group-text">
                                                                                    <i class="fas fa-chevron-down"></i>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-2">
                                                                        @if (selectedStatusFilterForEventsAsProfessor == "Όλα")
                                                                        {
                                                                            <span><strong>Σύνολο: </strong>@totalCountEventsAsProfessor</span>
                                                                        }
                                                                        else if (selectedStatusFilterForEventsAsProfessor == "Δημοσιευμένη")
                                                                        {
                                                                            <span><strong>Σύνολο: </strong>@publishedCountEventsAsProfessor</span>
                                                                        }
                                                                        else if (selectedStatusFilterForEventsAsProfessor == "Μη Δημοσιευμένη")
                                                                        {
                                                                            <span><strong>Σύνολο: </strong>@unpublishedCountEventsAsProfessor</span>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <!-- Bulk Edit Section for Professor Events - Only show when there are events -->
                                                                @if (FilteredProfessorEvents != null && FilteredProfessorEvents.Any())
                                                                {
                                                                    <div class="row mb-3">
                                                                        <div class="col-md-12">
                                                                            <!-- Bulk Edit Button - Show when NOT in bulk edit mode OR when in bulk edit mode but no events selected -->
                                                                            @if (!isBulkEditModeForProfessorEvents || (isBulkEditModeForProfessorEvents && selectedProfessorEventIds.Count == 0))
                                                                            {
                                                                                <div class="mb-2" style="margin-left: -10px;">
                                                                                    <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                            @onclick="EnableBulkEditModeForProfessorEvents"
                                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                        <i class="fas fa-edit" style="margin-right: 8px;"></i>Μαζική Επεξεργασία Εκδηλώσεων
                                                                                    </button>
                                                                                </div>
                                                                            }

                                                                            <!-- Instruction text when in bulk edit mode -->
                                                                            @if (isBulkEditModeForProfessorEvents)
                                                                            {
                                                                                <div class="mb-2">
                                                                                    <div class="alert alert-info" style="background-color: #e7f3ff; border: 1px solid #b3d9ff; color: #004085; border-radius: 6px; padding: 8px 12px;">
                                                                                        <i class="fas fa-info-circle me-2"></i>
                                                                                        <strong>Επιλέξτε Εκδηλώσεις στον Πίνακα</strong>
                                                                                    </div>
                                                                                </div>
                                                                            }

                                                                            <!-- Bulk Action Buttons - Show when events are selected -->
                                                                            @if (isBulkEditModeForProfessorEvents && selectedProfessorEventIds.Count > 0)
                                                                            {
                                                                                <div class="d-flex gap-2 align-items-center flex-wrap mb-2">
                                                                                    <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                            @onclick='() => ExecuteBulkStatusChangeForProfessorEvents("Δημοσιευμένη")'
                                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                        <i class="fas fa-arrow-up me-2"></i>Αλλαγή σε Δημοσιευμένη
                                                                                    </button>
                                                                                    <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                            @onclick='() => ExecuteBulkStatusChangeForProfessorEvents("Μη Δημοσιευμένη")'
                                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                        <i class="fas fa-arrow-down me-2"></i>Αλλαγή σε Μη Δημοσιευμένη
                                                                                    </button>
                                                                                    <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                            @onclick="ExecuteBulkCopyForProfessorEvents"
                                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                        <i class="fas fa-copy me-2"></i>Κλωνοποίηση
                                                                                    </button>
                                                                                    <button class="modern-button" style="background-color: #6c757d; color: white; display: inline-flex; align-items: center;" 
                                                                                            @onclick="CancelBulkEditForProfessorEvents"
                                                                                            onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                            onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                        <i class="fas fa-times me-2"></i>Ακύρωση
                                                                                    </button>
                                                                                </div>

                                                                                <!-- Selected count badge placed under the buttons -->
                                                                                <div class="mb-2">
                                                                                    <span class="badge bg-primary">
                                                                                        Επιλεγμένες Εκδηλώσεις: @selectedProfessorEventIds.Count
                                                                                    </span>
                                                                                </div>
                                                                            }

                                                                            <!-- Add the legend here - right before the table -->
                                                                            <div class="d-flex justify-content-end mb-2">
                                                                                <div class="status-legend" style="display: flex; align-items: center; gap: 15px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 6px; padding: 6px 12px;">
                                                                                    <div style="display: flex; align-items: center; gap: 8px;">
                                                                                        <div style="display: flex; align-items: center;">
                                                                                            <div style="width: 16px; height: 16px; background-color: lightblue; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                                            <span>Δημοσιευμένη</span>
                                                                                        </div>
                                                                                        <div style="display: flex; align-items: center;">
                                                                                            <div style="width: 16px; height: 16px; background-color: lightcoral; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                                            <span>Μη Δημοσιευμένη</span>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                }

                                                                <div style="max-width: auto; margin-left: 0;">
                                                                    <div class="table-responsive">
                                                                        <table class="table table-striped">
                                                                            <thead>
                                                                                <tr style="border: 2px solid black; background-color: lightgray;">
                                                                                    @if (isBulkEditModeForProfessorEvents && FilteredProfessorEvents != null && FilteredProfessorEvents.Any())
                                                                                    {
                                                                                        <th style="border: 2px solid black; width: 40px;">
                                                                                            #
                                                                                        </th>
                                                                                    }
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-key fa-sm" style="color: #0d6efd; margin-right: 8px;"></i>
                                                                                        Κωδικός Εκδήλωσης
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-font fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Τίτλος
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-align-left fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Περιγραφή
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-calendar-day fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Ημερομηνία Δημοσίευσης
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-hourglass-half fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Κατάσταση
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-hand fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Ενέργειες
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                @if (isLoadingUploadedEventsAsProfessor)
                                                                                {
                                                                                    <tr>
                                                                                        <td colspan="@(isBulkEditModeForProfessorEvents && FilteredProfessorEvents != null && FilteredProfessorEvents.Any() ? "7" : "6")" class="text-center" style="border: 1px solid black;">
                                                                                            <div class="empty-state">
                                                                                                <i class="fas fa-spinner fa-spin fa-3x mb-3" style="color: #0d6efd;"></i>
                                                                                                <h5 style="color: #2d3748; margin-bottom: 10px;">Φόρτωση Εκδηλώσεων...</h5>
                                                                                            </div>
                                                                                        </td>
                                                                                    </tr>
                                                                                }
                                                                                else if (FilteredProfessorEvents != null && FilteredProfessorEvents.Any())
                                                                                {
                                                                                    @foreach (var professorevent in GetPaginatedProfessorEvents())
                                                                                    {
                                                                                        <!-- Main Event Row -->
                                                                                        <tr style="background-color: @(professorevent.ProfessorEventStatus == "Δημοσιευμένη" ? "lightblue" : "lightcoral"); border: 2px solid black;">
                                                                                            @if (isBulkEditModeForProfessorEvents)
                                                                                            {
                                                                                                <td style="border: 1px solid black; text-align: center;">
                                                                                                    <input type="checkbox" 
                                                                                                           @onchange="@((e) => ToggleProfessorEventSelection(professorevent.Id, e))" 
                                                                                                           checked="@selectedProfessorEventIds.Contains(professorevent.Id)" />
                                                                                                </td>
                                                                                            }
                                                                                            <td style="color: #2d3748; border: 1px solid black;">
                                                                                                @professorevent.RNGForEventUploadedAsProfessor_HashedAsUniqueID
                                                                                            </td>
                                                                                            <td style="border: 1px solid black;">@professorevent.ProfessorEventTitle</td>
                                                                                            <td style="border: 1px solid black;">
                                                                                                @if (professorevent.ProfessorEventDescription.Length > 50) 
                                                                                                {
                                                                                                    @professorevent.ProfessorEventDescription.Substring(0, 50)
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    @professorevent.ProfessorEventDescription
                                                                                                }
                                                                                            </td>
                                                                                            <td style="border: 1px solid black;">@professorevent.ProfessorEventUploadedDate.ToString("dd/MM/yyyy")</td>
                                                                                            <td style="border: 1px solid black;">@professorevent.ProfessorEventStatus</td>
                                                                                            <td style="border: 1px solid black; position: relative;">
                                                                                                <div class="dropdown">
                                                                                                    <!-- Options menu button with 3 dots icon -->
                                                                                                    <button class="btn btn-action btn-menu" 
                                                                                                            @onclick="() => ToggleProfessorEventMenu(professorevent.Id)" 
                                                                                                            title="Ενέργειες"
                                                                                                            @onclick:stopPropagation="true">
                                                                                                        <i class="fas fa-ellipsis-h icon-button"></i>
                                                                                                    </button>

                                                                                                    <!-- Dropdown menu -->
                                                                                                    @if (activeProfessorEventMenuId == professorevent.Id)
                                                                                                    {
                                                                                                        <!-- Invisible backdrop that covers entire screen -->
                                                                                                        <div class="dropdown-backdrop" @onclick="() => ToggleProfessorEventMenu(0)"></div>

                                                                                                        <div class="dropdown-menu show" @onclick:stopPropagation="true">
                                                                                                            <!-- Delete option -->
                                                                                                            <button class="dropdown-item" @onclick="() => { DeleteProfessorEvent(professorevent.Id); ToggleProfessorEventMenu(0); }">
                                                                                                                <i class="fas fa-trash me-2" style="color: #f56565;"></i>
                                                                                                                <span>Διαγραφή</span>
                                                                                                            </button>

                                                                                                            <!-- Status change options -->
                                                                                                            @if (professorevent.ProfessorEventStatus == "Δημοσιευμένη")
                                                                                                            {
                                                                                                                <button class="dropdown-item" @onclick='async () => { await ChangeProfessorEventStatus(professorevent.Id, "Μη Δημοσιευμένη"); ToggleProfessorEventMenu(0); }'>
                                                                                                                    <i class="fas fa-arrow-down text-warning me-2"></i>
                                                                                                                    <span>Αποδημοσίευση</span>
                                                                                                                </button>
                                                                                                            }
                                                                                                            else if (professorevent.ProfessorEventStatus == "Μη Δημοσιευμένη")
                                                                                                            {
                                                                                                                <button class="dropdown-item" @onclick='async () => { await ChangeProfessorEventStatus(professorevent.Id, "Δημοσιευμένη"); ToggleProfessorEventMenu(0); }'>
                                                                                                                    <i class="fas fa-arrow-up text-success me-2"></i>
                                                                                                                    <span>Δημοσίευση</span>
                                                                                                                </button>

                                                                                                                <!-- Edit option (only for unpublished) -->
                                                                                                                <button class="dropdown-item" @onclick="() => { OpenEditModalForProfessorEvent(professorevent); ToggleProfessorEventMenu(0); }">
                                                                                                                    <i class="fas fa-pencil-alt text-info me-2"></i>
                                                                                                                    <span>Επεξεργασία</span>
                                                                                                                </button>
                                                                                                            }

                                                                                                            <!-- Interested Students option -->
                                                                                                            <button class="dropdown-item" @onclick="() => { ShowInterestedStudentsInProfessorEvent(professorevent.RNGForEventUploadedAsProfessor); ToggleProfessorEventMenu(0); }" 
                                                                                                                    disabled="@isLoadingInterestedStudentsForProfessorEvent">
                                                                                                                <i class="fa-solid fa-graduation-cap me-2" style="color: #0d6efd;"></i>
                                                                                                                <span>
                                                                                                                    @if (isLoadingInterestedStudentsForProfessorEvent && loadingProfessorEventRNGForStudents == professorevent.RNGForEventUploadedAsProfessor)
                                                                                                                    {
                                                                                                                        <i class="fas fa-spinner fa-spin"></i>
                                                                                                                    }
                                                                                                                    Ενδιαφερόμενοι Φοιτητές
                                                                                                                </span>
                                                                                                            </button>

                                                                                                            <!-- Interested Companies option -->
                                                                                                            <button class="dropdown-item" @onclick="() => { ShowInterestedCompaniesInProfessorEvent(professorevent.RNGForEventUploadedAsProfessor); ToggleProfessorEventMenu(0); }" 
                                                                                                                    disabled="@isLoadingInterestedCompaniesForProfessorEvent">
                                                                                                                <i class="fa-solid fa-industry me-2" style="color: #4682b4;"></i>
                                                                                                                <span>
                                                                                                                    @if (isLoadingInterestedCompaniesForProfessorEvent && loadingProfessorEventRNGForCompanies == professorevent.RNGForEventUploadedAsProfessor)
                                                                                                                    {
                                                                                                                        <i class="fas fa-spinner fa-spin"></i>
                                                                                                                    }
                                                                                                                    Ενδιαφερόμενες Εταιρείες
                                                                                                                </span>
                                                                                                            </button>
                                                                                                        </div>
                                                                                                    }
                                                                                                </div>

                                                                                                <!-- Loading Modal for Delete Professor Event -->
                                                                                                @if (showLoadingModalForDeleteProfessorEvent)
                                                                                                {
                                                                                                    <div class="loading-modal">
                                                                                                        <div class="loading-modal-content">
                                                                                                            <div class="loading-spinner"></div>
                                                                                                            <p>Διαγραφή Εκδήλωσης...</p>
                                                                                                            <div class="progress-bar">
                                                                                                                <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                }
                                                                                            </td>
                                                                                        </tr>

                                                                                        <!-- Interested Students Section - Connected to the main row -->
                                                                                        @if (selectedEventIdForStudentsWhenShowInterestForProfessorEvent == professorevent.RNGForEventUploadedAsProfessor)
                                                                                        {
                                                                                            <tr style="background-color: #e8f4f8; border-left: 4px solid #0d6efd;">
                                                                                                <td colspan="@(isBulkEditModeForProfessorEvents ? "7" : "6")" style="padding: 0; border: 1px solid #0d6efd;">
                                                                                                    <div style="background: linear-gradient(135deg, #e8f4f8 0%, #d1ecf1 100%); padding: 15px; border-radius: 0 0 5px 5px;">
                                                                                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                                                                                            <span class="badge badge-primary" style="background-color: #0d6efd; padding: 5px 10px; border-radius: 15px;">
                                                                                                                Σύνολο Ενδιαφερόμενων: @InterestedStudentsForProfessorEvent.Count
                                                                                                            </span>
                                                                                                        </div>

                                                                                                        @if (InterestedStudentsForProfessorEvent.Any())
                                                                                                        {
                                                                                                            <div class="table-responsive">
                                                                                                                <!-- Modern Download Button -->
                                                                                                                <button class="modern-button" @onclick="DownloadStudentListForInterestInProfessorEventAsProfessor" style="margin-bottom: 15px;">
                                                                                                                    <i class="fas fa-download"></i> Λήψη Λίστας Ενδιαφερόμενων Φοιτητών
                                                                                                                </button>

                                                                                                                <table class="table table-striped">
                                                                                                                    <thead>
                                                                                                                        <tr style="background-color: #cce7ff; border: 1px solid #0d6efd;">
                                                                                                                            <th style="border: 1px solid #0d6efd;">
                                                                                                                                <i class="fa-solid fa-user fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                Ονοματεπώνυμο
                                                                                                                            </th>
                                                                                                                            <th style="border: 1px solid #0d6efd;">
                                                                                                                                <i class="fa-solid fa-phone fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                Τηλέφωνο
                                                                                                                            </th>
                                                                                                                            <th style="border: 1px solid #0d6efd;">
                                                                                                                                <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                Email
                                                                                                                            </th>
                                                                                                                            <th style="border: 1px solid #0d6efd;">
                                                                                                                                <i class="fa-solid fa-bus fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                Χρειάζεται Μεταφορά
                                                                                                                            </th>
                                                                                                                            <th style="border: 1px solid #0d6efd;">
                                                                                                                                <i class="fa-solid fa-map-marker-alt fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                Σημείο Μεταφοράς
                                                                                                                            </th>
                                                                                                                        </tr>
                                                                                                                    </thead>
                                                                                                                    <tbody>
                                                                                                                        @if (studentDataCache == null)
                                                                                                                        {
                                                                                                                            <tr>
                                                                                                                                <td colspan="5" class="text-center" style="border: 1px solid #0d6efd;">
                                                                                                                                    <div class="spinner-border text-primary" role="status">
                                                                                                                                        <span class="sr-only">Φόρτωση...</span>
                                                                                                                                    </div>
                                                                                                                                    <p>Φόρτωση δεδομένων φοιτητών...</p>
                                                                                                                                </td>
                                                                                                                            </tr>
                                                                                                                        }
                                                                                                                        else
                                                                                                                        {
                                                                                                                            @foreach (var application in InterestedStudentsForProfessorEvent)
                                                                                                                            {
                                                                                                                                var student = studentDataCache.TryGetValue(application.StudentEmailShowInterestForEvent?.ToLower(), out var s) ? s : null;

                                                                                                                                <tr>
                                                                                                                                    <td style="border: 1px solid #0d6efd;">
                                                                                                                                        <a href="#" @onclick="() => ShowStudentDetailsAtProfessorEventInterest(application)" style="color: #0d6efd; text-decoration: none;">
                                                                                                                                            @(student != null ? $"{student.Name} {student.Surname}" : "Δε βρέθηκε")
                                                                                                                                        </a>
                                                                                                                                    </td>
                                                                                                                                    <td style="border: 1px solid #0d6efd;">
                                                                                                                                        <i class="fas fa-phone-alt"></i> @(student?.Telephone ?? "-")
                                                                                                                                    </td>
                                                                                                                                    <td style="border: 1px solid #0d6efd;">
                                                                                                                                        <i class="fas fa-envelope"></i> @application.StudentEmailShowInterestForEvent
                                                                                                                                    </td>
                                                                                                                                    <td style="border: 1px solid #0d6efd;">@application.StudentTransportNeedWhenShowInterestForProfessorEvent</td>
                                                                                                                                    <td style="border: 1px solid #0d6efd;">
                                                                                                                                        @if (application.StudentTransportNeedWhenShowInterestForProfessorEvent == "Όχι")
                                                                                                                                        {
                                                                                                                                            <span> - </span>
                                                                                                                                        }
                                                                                                                                        else if (!string.IsNullOrEmpty(application.StudentTransportChosenLocationWhenShowInterestForProfessorEvent))
                                                                                                                                        {
                                                                                                                                            <div class="d-flex align-items-center">
                                                                                                                                                <i class="fas fa-map-marker-alt text-danger mr-2"></i>
                                                                                                                                                <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(application.StudentTransportChosenLocationWhenShowInterestForProfessorEvent)"
                                                                                                                                                   target="_blank"
                                                                                                                                                   class="text-primary">
                                                                                                                                                    @application.StudentTransportChosenLocationWhenShowInterestForProfessorEvent
                                                                                                                                                </a>
                                                                                                                                            </div>
                                                                                                                                        }
                                                                                                                                        else
                                                                                                                                        {
                                                                                                                                            <span class="text-muted">N/A</span>
                                                                                                                                        }
                                                                                                                                    </td>
                                                                                                                                </tr>
                                                                                                                            }
                                                                                                                        }
                                                                                                                    </tbody>
                                                                                                                </table>
                                                                                                            </div>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <div class="text-center" style="padding: 20px;">
                                                                                                                <i class="fas fa-users fa-2x" style="color: #6c757d; margin-bottom: 10px;"></i>
                                                                                                                <p style="color: #6c757d; font-weight: bold; margin: 0;">
                                                                                                                    Δεν Υπάρχουν Ενδιαφερόμενοι Φοιτητές για αυτήν την Εκδήλωση Ακόμη
                                                                                                                </p>
                                                                                                            </div>
                                                                                                        }
                                                                                                    </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                        }

                                                                                        <!-- Interested Companies Section - Connected to the main row -->
                                                                                        @if (selectedEventIdForCompaniesWhenShowInterestForProfessorEvent == professorevent.RNGForEventUploadedAsProfessor)
                                                                                        {
                                                                                            <tr style="background-color: #f0f8ff; border-left: 4px solid #4682b4;">
                                                                                                <td colspan="@(isBulkEditModeForProfessorEvents ? "7" : "6")" style="padding: 0; border: 1px solid #4682b4;">
                                                                                                    <div style="background: linear-gradient(135deg, #f0f8ff 0%, #e6f3ff 100%); padding: 15px; border-radius: 0 0 5px 5px;">
                                                                                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                                                                                            <span class="badge badge-primary" style="background-color: #4682b4; padding: 5px 10px; border-radius: 15px;">
                                                                                                                Έδειξαν Ενδιαφέρον: @filteredCompanyInterestForProfessorEvents.Count
                                                                                                            </span>
                                                                                                        </div>

                                                                                                        @if (filteredCompanyInterestForProfessorEvents.Any())
                                                                                                        {
                                                                                                            <div class="table-responsive">
                                                                                                                <!-- Modern Download Button -->
                                                                                                                <button class="modern-button" @onclick="DownloadCompanyListForInterestInProfessorEventAsProfessor" style="margin-bottom: 15px;">
                                                                                                                    <i class="fas fa-download"></i> Λήψη Λίστας Ενδιαφερόμενων Εταιρειών
                                                                                                                </button>

                                                                                                                <table class="table table-striped">
                                                                                                                    <thead>
                                                                                                                        <tr style="background-color: #d6eaff; border: 1px solid #4682b4;">
                                                                                                                            <th style="border: 1px solid #4682b4;">
                                                                                                                                <i class="fa-solid fa-industry fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                Επωνυμία
                                                                                                                            </th>
                                                                                                                            <th style="border: 1px solid #4682b4;">
                                                                                                                                <i class="fa-solid fa-phone fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                Τηλέφωνο
                                                                                                                            </th>
                                                                                                                            <th style="border: 1px solid #4682b4;">
                                                                                                                                <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                Email
                                                                                                                            </th>
                                                                                                                            <th style="border: 1px solid #4682b4;">
                                                                                                                                <i class="fa-solid fa-users fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                Αριθμός Συμμετοχόντων
                                                                                                                            </th>
                                                                                                                            <th style="border: 1px solid #4682b4;">
                                                                                                                                <i class="fa-solid fa-calendar fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                                Ημερομηνία Δήλωσης
                                                                                                                            </th>
                                                                                                                        </tr>
                                                                                                                    </thead>
                                                                                                                    <tbody>
                                                                                                                        @foreach (var interest in filteredCompanyInterestForProfessorEvents)
                                                                                                                        {
                                                                                                                            var company = companyDataCache.TryGetValue(interest.CompanyEmailShowInterestForProfessorEvent, out var c) ? c : null;
                                                                                                                            <tr>
                                                                                                                                <td style="border: 1px solid #4682b4;">
                                                                                                                                    <a href="#" @onclick="() => ShowCompanyDetailsAtProfessorEventInterest(interest)" style="color: #4682b4; text-decoration: none;">
                                                                                                                                        @(company?.CompanyName ?? "N/A")
                                                                                                                                    </a>
                                                                                                                                </td>
                                                                                                                                <td style="border: 1px solid #4682b4;">@(company?.CompanyTelephone ?? "N/A")</td>
                                                                                                                                <td style="border: 1px solid #4682b4;">@interest.CompanyEmailShowInterestForProfessorEvent</td>
                                                                                                                                <td style="border: 1px solid #4682b4;">@interest.CompanyNumberOfPeopleToShowUpWhenShowInterestForProfessorEvent</td>
                                                                                                                                <td style="border: 1px solid #4682b4;">@interest.DateTimeCompanyShowInterestForProfessorEvent.ToString("dd/MM/yyyy HH:mm")</td>
                                                                                                                            </tr>
                                                                                                                        }
                                                                                                                    </tbody>
                                                                                                                </table>
                                                                                                            </div>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <div class="text-center" style="padding: 20px;">
                                                                                                                <i class="fas fa-industry fa-2x" style="color: #6c757d; margin-bottom: 10px;"></i>
                                                                                                                <p style="color: #6c757d; font-weight: bold; margin: 0;">
                                                                                                                    Δεν Υπάρχουν Ενδιαφερόμενες Εταιρείες για αυτήν την Εκδήλωση Ακόμη
                                                                                                                </p>
                                                                                                            </div>
                                                                                                        }
                                                                                                    </div>
                                                                                                </td>
                                                                                            </tr>
                                                                                        }
                                                                                    }
                                                                                }
                                                                                else if (!isLoadingUploadedEventsAsProfessor)
                                                                                {
                                                                                    <tr>
                                                                                        <td colspan="@(isBulkEditModeForProfessorEvents && FilteredProfessorEvents != null && FilteredProfessorEvents.Any() ? "7" : "6")" class="text-center" style="border: 1px solid black;">
                                                                                            <div class="empty-state">
                                                                                                <i class="fas fa-calendar-times fa-3x mb-3" style="color: #6c757d;"></i>
                                                                                                <h5 style="color: #2d3748; margin-bottom: 10px;">Δεν υπάρχουν Εκδηλώσεις</h5>
                                                                                            </div>
                                                                                        </td>
                                                                                    </tr>
                                                                                }
                                                                            </tbody>
                                                                        </table>
            
                                                                        @if (FilteredProfessorEvents != null && FilteredProfessorEvents.Any())
                                                                        {
                                                                            <br/>
                                                                            <!-- Pagination Controls -->
                                                                            <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                                <!-- First Page (<<) -->
                                                                                <span class="pagination-item @(currentPage_ProfessorEvents == 1 ? "disabled" : "")"
                                                                                      @onclick="GoToFirstPage_ProfessorEvents">
                                                                                    &lt;&lt;
                                                                                </span>

                                                                                <!-- Previous Page (<) -->
                                                                                <span class="pagination-item @(currentPage_ProfessorEvents == 1 ? "disabled" : "")"
                                                                                      @onclick="PreviousPage_ProfessorEvents">
                                                                                    &lt;
                                                                                </span>

                                                                                <!-- Page Numbers -->
                                                                                @foreach (var pageNum in GetVisiblePages_ProfessorEvents())
                                                                                {
                                                                                    if (pageNum == -1)
                                                                                    {
                                                                                        <span class="pagination-ellipsis">...</span>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span class="pagination-item @(pageNum == currentPage_ProfessorEvents ? "active" : "")"
                                                                                              @onclick="@(() => GoToPage_ProfessorEvents(pageNum))">
                                                                                            @pageNum
                                                                                        </span>
                                                                                    }
                                                                                }

                                                                                <!-- Next Page (>) -->
                                                                                <span class="pagination-item @(currentPage_ProfessorEvents == totalPages_ProfessorEvents ? "disabled" : "")"
                                                                                      @onclick="NextPage_ProfessorEvents">
                                                                                    &gt;
                                                                                </span>

                                                                                <!-- Last Page (>>) -->
                                                                                <span class="pagination-item @(currentPage_ProfessorEvents == totalPages_ProfessorEvents ? "disabled" : "")"
                                                                                      @onclick="GoToLastPage_ProfessorEvents">
                                                                                    &gt;&gt;
                                                                                </span>

                                                                                <!-- Page counter -->
                                                                                <span class="ms-3">
                                                                                    Σελίδα @currentPage_ProfessorEvents από @totalPages_ProfessorEvents
                                                                                </span>
                                                                            </div>
                                                                            <br/>
                                                                        }
                                                                    </div>
                                                                </div>
                                                                <br/>
                                                                <br/>
                                                            }

                                                            <!-- Bulk Action Modal for Professor Events -->
                                                            @if (showBulkActionModalForProfessorEvents)
                                                            {
                                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                    <i class="fas fa-cogs me-2"></i>Μαζική Επεξεργασία Εκδηλώσεων
                                                                                </h5>
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                        @onclick="CloseBulkActionModalForProfessorEvents"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                </button>
                                                                            </div>
                                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                <div class="list-group">
                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold; color: #2d3748;">Επιλεγμένες Εκδηλώσεις</label>
                                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-list-check" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                            <span>@selectedProfessorEventIds.Count εκδηλώσεις</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold; color: #2d3748;">Επιλέξτε Ενέργεια</label>
                                                                                        <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; border: none;">
                                                                                            <div class="form-check mb-2">
                                                                                                <input class="form-check-input" type="radio" name="bulkActionProfessorEvents" 
                                                                                                       id="actionStatusProfessorEvents" value="status" @onchange="@((e) => bulkActionForProfessorEvents = "status")" 
                                                                                                       style="cursor: pointer; margin-right: 8px;" />
                                                                                                <label class="form-check-label" for="actionStatusProfessorEvents" style="cursor: pointer; color: #2d3748;">
                                                                                                    <i class="fas fa-arrows-up-down me-1" style="color: #4682B4;"></i>
                                                                                                    Αλλαγή Κατάστασης
                                                                                                </label>
                                                                                            </div>
                                                                                            <div class="form-check">
                                                                                                <input class="form-check-input" type="radio" name="bulkActionProfessorEvents" 
                                                                                                       id="actionCopyProfessorEvents" value="copy" @onchange="@((e) => bulkActionForProfessorEvents = "copy")" 
                                                                                                       style="cursor: pointer; margin-right: 8px;" />
                                                                                                <label class="form-check-label" for="actionCopyProfessorEvents" style="cursor: pointer; color: #2d3748;">
                                                                                                    <i class="fas fa-copy me-1" style="color: #4682B4;"></i>
                                                                                                    Αντιγραφή Εκδηλώσεων
                                                                                                </label>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>

                                                                                    @if (bulkActionForProfessorEvents == "status")
                                                                                    {
                                                                                        <div class="form-group">
                                                                                            <label style="font-weight: bold; color: #2d3748;">Νέα Κατάσταση</label>
                                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; padding: 0;">
                                                                                                <select class="form-select" @bind="newStatusForBulkActionForProfessorEvents" style="border: none; background: transparent; box-shadow: none;">
                                                                                                    <option value="Δημοσιευμένη">Δημοσιευμένη</option>
                                                                                                    <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένη</option>
                                                                                                </select>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                </div>
                                                                            </div>
                                                                            <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                                <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                        @onclick="CloseBulkActionModalForProfessorEvents"
                                                                                        onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                        onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                    <i class="fas fa-times me-1"></i>Ακύρωση
                                                                                </button>
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                        @onclick="ExecuteBulkActionForProfessorEvents" 
                                                                                        disabled="@string.IsNullOrEmpty(bulkActionForProfessorEvents)"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-play me-1"></i>Εκτέλεση
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            }


                                                            <!-- Modal for editing professor event -->
                                                            @if (isEditModalVisibleForEventsAsProfessor)
                                                            {
                                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                <h5 class="modal-title" style="color: #007BFF; font-weight: 600; font-size: 1.25rem;">
                                                                                    Επεξεργασία Εκδήλωσης: @currentProfessorEvent.ProfessorEventTitle
                                                                                </h5>
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                        @onclick="CloseEditModalForProfessorEvent"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                </button>
                                                                            </div>
                                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                <!-- Event Title -->
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Τίτλος Εκδήλωσης</label>
                                                                                    <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentProfessorEvent.ProfessorEventTitle" />
                                                                                </div>

                                                                                <!-- Event Description -->
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Περιγραφή Εκδήλωσης</label>
                                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa; min-height: 120px;" @bind="currentProfessorEvent.ProfessorEventDescription"></textarea>
                                                                                </div>
                                                                            </div>
                                                                            <div class="modal-footer">
                                                                                <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s; margin-right: 8px;" 
                                                                                        @onclick="CloseEditModalForProfessorEvent"
                                                                                        onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                        onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                    <i class="fas fa-times me-2"></i> Ακύρωση
                                                                                </button>
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                        @onclick="() => UpdateProfessorEvent(currentProfessorEvent)"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-save me-2"></i> Αποθήκευση
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            }                                                                                       

                                                           
                                                    </div>


                                                            @if (isModalVisibleToShowProfessorThesisAsProfessor)
                                                            {
                                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                    @currentProfessorThesis.ThesisTitle
                                                                                </h5>
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                        @onclick="() => isModalVisibleToShowProfessorThesisAsProfessor = false"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                </button>
                                                                            </div>
                                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                <!-- Description -->
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Περιγραφή Διπλωματικής</label>
                                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="4">
                                                                                        @((string.IsNullOrWhiteSpace(currentProfessorThesis.ThesisDescription) ? "Δεν έχει διευκρινιστεί" : currentProfessorThesis.ThesisDescription))
                                                                                    </textarea>
                                                                                </div>

                                                                                <!-- Areas of Interest -->
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Τομείς Ενδιαφέροντος</label>
                                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">
                                                                                        @((string.IsNullOrWhiteSpace(currentProfessorThesis.ThesisAreas) ? "Δεν έχει διευκρινιστεί" : currentProfessorThesis.ThesisAreas.Replace(",", Environment.NewLine)))
                                                                                    </textarea>
                                                                                </div>

                                                                                <!-- Required Skills -->
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Απαιτούμενες Δεξιότητες</label>
                                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">
                                                                                        @((string.IsNullOrWhiteSpace(currentProfessorThesis.ThesisSkills) ? "Δεν έχει διευκρινιστεί" : currentProfessorThesis.ThesisSkills.Replace(",", Environment.NewLine)))
                                                                                    </textarea>
                                                                                </div>

                                                                                <!-- Professor Email -->
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Email Υπευθύνου</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                        <span>@(string.IsNullOrWhiteSpace(currentProfessorThesis.ProfessorEmailUsedToUploadThesis) ? "Δεν έχει διευκρινιστεί" : currentProfessorThesis.ProfessorEmailUsedToUploadThesis)</span>
                                                                                    </div>
                                                                                </div>

                                                                                <!-- Upload Date -->
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Ημερομηνία Ανάρτησης</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="far fa-calendar-alt mr-2 text-info"></i>
                                                                                        <span>@currentProfessorThesis.ThesisUploadDateTime.ToShortDateString()</span>
                                                                                    </div>
                                                                                </div>

                                                                                <!-- Start Date -->
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Ξεκινάει</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="far fa-calendar-alt mr-2 text-info"></i>
                                                                                        <span>@currentProfessorThesis.ThesisActivePeriod.ToShortDateString()</span>
                                                                                    </div>
                                                                                </div>

                                                                                <!-- ADDED: Open Slots Field -->
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Διαθέσιμες Θέσεις</label>
                                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; color: #007BFF;">
                                                                                        <i class="fas fa-users" style="margin-right: 8px;"></i>
                                                                                        <span>@currentProfessorThesis.OpenSlots_ProfessorThesis θέσεις</span>
                                                                                    </div>
                                                                                    <small class="form-text text-muted">Αριθμός ανοιχτών θέσεων για αυτή τη Διπλωματική εργασία</small>
                                                                                </div>

                                                                                <!-- Professor Department -->
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Τμήμα Καθηγητή</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-university mr-2 text-primary"></i>
                                                                                        <span>@(currentProfessorThesis.Professor?.ProfDepartment ?? "Δεν έχει διευκρινιστεί")</span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="modal-footer">
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                        @onclick="() => isModalVisibleToShowProfessorThesisAsProfessor = false"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            }

                                                            @if (isModalVisibleToShowCompanyDetailsAtProfessorThesisInterest && currentCompanyDetails != null)
                                                            {
                                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                    @currentCompanyDetails.CompanyNameENG
                                                                                </h5>
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                        @onclick="() => isModalVisibleToShowCompanyDetailsAtProfessorThesisInterest = false"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                </button>
                                                                            </div>
                                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                <!-- Company Logo -->
                                                                                <div class="text-center mb-4">
                                                                                    @if (currentCompanyDetails.CompanyLogo != null)
                                                                                    {
                                                                                        <img src="data:image/png;base64,@Convert.ToBase64String(currentCompanyDetails.CompanyLogo)" 
                                                                                             alt="Company Logo"
                                                                                             style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <div style="width: 150px; height: 150px; border-radius: 50%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; margin: 0 auto; border: 3px solid #ddd;">
                                                                                            <i class="fas fa-building" style="font-size: 3rem; color: #6c757d;"></i>
                                                                                        </div>
                                                                                    }
                                                                                </div>

                                                                                <!-- Company Details -->
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Σύντομη Ονομασία</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-tag mr-2"></i>
                                                                                        <span>@(!string.IsNullOrWhiteSpace(currentCompanyDetails.CompanyShortName) ? currentCompanyDetails.CompanyShortName : "Δεν έχει Καθοριστεί")</span>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Τύπος Εταιρείας</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-industry mr-2"></i>
                                                                                        <span>@currentCompanyDetails.CompanyType</span>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Email Εταιρείας</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                        <span>@currentCompanyDetails.CompanyEmail</span>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Ιστοσελίδα Εταιρείας</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-globe mr-2 text-info"></i>
                                                                                        @if (!string.IsNullOrWhiteSpace(currentCompanyDetails.CompanyWebsite))
                                                                                        {
                                                                                            <a href="@currentCompanyDetails.CompanyWebsite" target="_blank" 
                                                                                               class="text-primary text-decoration-underline">
                                                                                                @currentCompanyDetails.CompanyWebsite
                                                                                            </a>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span style="color: #6c757d;">Δεν υπάρχει</span>
                                                                                        }
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Περιγραφή Εταιρείας</label>
                                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@currentCompanyDetails.CompanyDescription</textarea>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Δραστηριότητα Εταιρείας</label>
                                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@currentCompanyDetails.CompanyActivity</textarea>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Περιοχές Ενδιαφέροντος</label>
                                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@currentCompanyDetails.CompanyAreas</textarea>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Χώρα</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-flag mr-2"></i>
                                                                                        <span>@currentCompanyDetails.CompanyCountry</span>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Περιφέρεια</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-map mr-2"></i>
                                                                                        <span>@currentCompanyDetails.CompanyRegions</span>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Πόλη</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-city mr-2"></i>
                                                                                        <span>@currentCompanyDetails.CompanyTown</span>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Διεύθυνση</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-map-marker-alt mr-2 text-danger"></i>
                                                                                        @if (!string.IsNullOrEmpty(currentCompanyDetails.CompanyLocation))
                                                                                        {
                                                                                            <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(currentCompanyDetails.CompanyLocation)"
                                                                                               target="_blank"
                                                                                               class="text-primary text-decoration-underline">
                                                                                                @currentCompanyDetails.CompanyLocation
                                                                                            </a>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span style="color: #6c757d;">Δεν έχει οριστεί διεύθυνση</span>
                                                                                        }
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Ταχυδρομικός Κώδικας</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-envelope-open-text mr-2"></i>
                                                                                        <span>@currentCompanyDetails.CompanyPC</span>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Τηλέφωνο Εταιρείας</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-phone mr-2 text-success"></i>
                                                                                        <span>@currentCompanyDetails.CompanyTelephone</span>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Ιστοσελίδα Ανακοινώσεων</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-bullhorn mr-2 text-info"></i>
                                                                                        @if (!string.IsNullOrWhiteSpace(currentCompanyDetails.CompanyWebsiteAnnouncements))
                                                                                        {
                                                                                            <a href="@currentCompanyDetails.CompanyWebsiteAnnouncements" target="_blank" 
                                                                                               class="text-primary text-decoration-underline">
                                                                                                @currentCompanyDetails.CompanyWebsiteAnnouncements
                                                                                            </a>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span style="color: #6c757d;">Δεν υπάρχει</span>
                                                                                        }
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Ιστοσελίδα Θέσεων Εργασίας</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-briefcase mr-2 text-info"></i>
                                                                                        @if (!string.IsNullOrWhiteSpace(currentCompanyDetails.CompanyWebsiteJobs))
                                                                                        {
                                                                                            <a href="@currentCompanyDetails.CompanyWebsiteJobs" target="_blank" 
                                                                                               class="text-primary text-decoration-underline">
                                                                                                @currentCompanyDetails.CompanyWebsiteJobs
                                                                                            </a>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span style="color: #6c757d;">Δεν υπάρχει</span>
                                                                                        }
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Υπεύθυνος Ανθρώπινου Δυναμικού</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-user-tie mr-2 text-primary"></i>
                                                                                        <span>@currentCompanyDetails.CompanyHRName @currentCompanyDetails.CompanyHRSurname</span>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Email Υπεύθυνου</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                        <span>@currentCompanyDetails.CompanyHREmail</span>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Τηλέφωνο Υπεύθυνου</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-phone mr-2 text-success"></i>
                                                                                        <span>@currentCompanyDetails.CompanyHRTelephone</span>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Επικεφαλής Τμήματος Έρευνας και Ανάπτυξης</label>
                                                                                    <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@currentCompanyDetails.RnD_HeadName" readonly />
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Υπεύθυνος Επικοινωνίας Τμήματος Έρευνας και Ανάπτυξης</label>
                                                                                    <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@currentCompanyDetails.RnD_ContactPersonFullName" readonly />
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Email Επικοινωνίας Υπευθύνου Τμήματος Έρευνας και Ανάπτυξης</label>
                                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-envelope" style="color: #4682B4; margin-right: 8px;"></i>
                                                                                        @if (!string.IsNullOrEmpty(currentCompanyDetails.RnD_ContactPersonEmail))
                                                                                        {
                                                                                            <a href="mailto:@currentCompanyDetails.RnD_ContactPersonEmail" 
                                                                                               style="color: #007bff; text-decoration: underline; word-break: break-all;">
                                                                                                @currentCompanyDetails.RnD_ContactPersonEmail
                                                                                            </a>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span style="color: #6c757d;">Δεν υπάρχει email</span>
                                                                                        }
                                                                                    </div>
                                                                                </div>

                                                                            </div>
                                                                            <div class="modal-footer">
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                        @onclick="() => isModalVisibleToShowCompanyDetailsAtProfessorThesisInterest = false"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            }

                                                                @if (isModalVisibleToShowStudentDetailsInNameAsHyperlinkForProfessorThesis && currentStudentDetails != null)
                                                                {
                                                                    <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                            <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                                <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                    <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                        @currentStudentDetails.Name @currentStudentDetails.Surname
                                                                                    </h5>
                                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                            @onclick="() => isModalVisibleToShowStudentDetailsInNameAsHyperlinkForProfessorThesis = false"
                                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                        <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                    </button>
                                                                                </div>
                                                                                <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                    <!-- Profile Picture -->
                                                                                    <div class="text-center mb-4">
                                                                                        @if (currentStudentDetails.Image != null && currentStudentDetails.Image.Length > 0)
                                                                                        {
                                                                                            var base64Image = Convert.ToBase64String(currentStudentDetails.Image);
                                                                                            <img src="data:image/jpeg;base64,@base64Image" 
                                                                                                 alt="Φωτογραφία Προφίλ Σπουδαστή"
                                                                                                 style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <div style="width: 150px; height: 150px; border-radius: 50%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; margin: 0 auto; border: 3px solid #ddd;">
                                                                                                <i class="fas fa-user" style="font-size: 3rem; color: #6c757d;"></i>
                                                                                            </div>
                                                                                        }
                                                                                    </div>

                                                                                    <!-- Student Details -->
                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Αριθμός Μητρώου</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-id-card mr-2"></i>
                                                                                            <span>@currentStudentDetails.RegNumber</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-university mr-2 text-primary"></i>
                                                                                            <span>@currentStudentDetails.University</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Τμήμα</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-building mr-2"></i>
                                                                                            <span>@currentStudentDetails.Department</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Επίπεδο Σπουδών</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-graduation-cap mr-2"></i>
                                                                                            <span>@currentStudentDetails.LevelOfDegree</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Έτος Σπουδών</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-calendar-alt mr-2"></i>
                                                                                            <span>@currentStudentDetails.StudyYear</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Ολοκληρωμένα ECTS</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-chart-bar mr-2"></i>
                                                                                            <span>@currentStudentDetails.CompletedECTS</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Αναμενόμενη Ημερομηνία Αποφοίτησης</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-calendar-check mr-2"></i>
                                                                                            <span>@currentStudentDetails.ExpectedGraduationDate.ToShortDateString()</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Τεχνικές Ικανότητες</label>
                                                                                        <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@currentStudentDetails.Keywords</textarea>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Περιοχές Εξειδίκευσης</label>
                                                                                        <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@currentStudentDetails.AreasOfExpertise</textarea>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Email</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                            <span>@currentStudentDetails.Email</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Τηλέφωνο</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-phone mr-2 text-success"></i>
                                                                                            <span>@currentStudentDetails.Telephone</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Περιφέρεια (Μόνιμης Διαμονής)</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-map mr-2"></i>
                                                                                            <span>@currentStudentDetails.PermanentRegion</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Πόλη (Μόνιμης Διαμονής)</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-city mr-2"></i>
                                                                                            <span>@currentStudentDetails.PermanentTown</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Διεύθυνση</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-map-marker-alt mr-2 text-danger"></i>
                                                                                            @if (!string.IsNullOrEmpty(currentStudentDetails.PermanentAddress))
                                                                                            {
                                                                                                <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(currentStudentDetails.PermanentAddress)"
                                                                                                   target="_blank"
                                                                                                   class="text-primary text-decoration-underline">
                                                                                                    @currentStudentDetails.PermanentAddress
                                                                                                </a>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <span style="color: #6c757d;">Δεν έχει οριστεί διεύθυνση</span>
                                                                                            }
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Προτιμώμενη Περιφέρεια</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-map-marked-alt mr-2"></i>
                                                                                            <span>@currentStudentDetails.PreferedRegions</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Προτιμώμενη Πόλη</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-map-marker mr-2"></i>
                                                                                            <span>@currentStudentDetails.PreferredTowns</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Διαθέτει Μέσο Μεταφοράς</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-car mr-2" style="color: @(currentStudentDetails.Transport == true ? "#28a745" : "#dc3545");"></i>
                                                                                            <span style="color: @(currentStudentDetails.Transport == true ? "#28a745" : "#dc3545"); font-weight: 500;">
                                                                                                @(currentStudentDetails.Transport == true ? "Ναι" : "Όχι")
                                                                                            </span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Κατάσταση Πρακτικής</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-briefcase mr-2"></i>
                                                                                            <span>@currentStudentDetails.InternshipStatus</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Κατάσταση Διπλωματικής</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-file-alt mr-2"></i>
                                                                                            <span>@currentStudentDetails.ThesisStatus</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">LinkedIn Προφίλ</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fab fa-linkedin mr-2 text-primary"></i>
                                                                                            @if (!string.IsNullOrEmpty(currentStudentDetails.LinkedInProfile))
                                                                                            {
                                                                                                <a href="@currentStudentDetails.LinkedInProfile" target="_blank" 
                                                                                                   class="text-primary text-decoration-underline">
                                                                                                    @currentStudentDetails.LinkedInProfile
                                                                                                </a>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <span style="color: #6c757d;">Δεν έχει οριστεί προφίλ LinkedIn ακόμη..</span>
                                                                                            }
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Προσωπική Ιστοσελίδα</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-globe mr-2 text-info"></i>
                                                                                            @if (!string.IsNullOrEmpty(currentStudentDetails.PersonalWebsite))
                                                                                            {
                                                                                                <a href="@currentStudentDetails.PersonalWebsite" target="_blank" 
                                                                                                   class="text-primary text-decoration-underline">
                                                                                                    @currentStudentDetails.PersonalWebsite
                                                                                                </a>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <span style="color: #6c757d;">Δεν έχει οριστεί ιστοσελίδα ακόμη..</span>
                                                                                            }
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Βιογραφικό</label>
                                                                                        <div>
                                                                                            @if (currentStudentDetails?.Attachment != null)
                                                                                            {
                                                                                                <button class="modern-button" @onclick="() => DownloadStudentCVForProfessorThesis(currentStudentDetails.Email)"
                                                                                                        style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;"
                                                                                                        onmouseover="this.style.backgroundColor='#4a5568'; this.style.transform='translateY(-1px)';" 
                                                                                                        onmouseout="this.style.backgroundColor='#2d3748'; this.style.transform='translateY(0)';">
                                                                                                    <i class="fas fa-download me-2"></i>Λήψη Βιογραφικού
                                                                                                </button>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <span class="text-muted">Δεν Διατίθεται Βιογραφικό!</span>
                                                                                            }
                                                                                        </div>
                                                                                    </div>

                                                                                </div>
                                                                                <div class="modal-footer">
                                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                            @onclick="() => isModalVisibleToShowStudentDetailsInNameAsHyperlinkForProfessorThesis = false"
                                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                        <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                }




                                                               
                                                                @if(isExpandedModalVisibleToSeeCompanyDetailsAsProfessor && selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor != null)
                                                                {
                                                                    <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                            <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                                <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                    <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                        @selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyNameENG
                                                                                    </h5>
                                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                            @onclick="() => isExpandedModalVisibleToSeeCompanyDetailsAsProfessor = false"
                                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                        <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                    </button>
                                                                                </div>
                                                                                <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                    <!-- Company Logo -->
                                                                                    <div class="text-center mb-4">
                                                                                        @if (selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyLogo != null)
                                                                                        {
                                                                                            <img src="data:image/png;base64,@Convert.ToBase64String(selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyLogo)" 
                                                                                                 alt="Company Logo"
                                                                                                 style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <div style="width: 150px; height: 150px; border-radius: 50%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; margin: 0 auto; border: 3px solid #ddd;">
                                                                                                <i class="fas fa-building" style="font-size: 3rem; color: #6c757d;"></i>
                                                                                            </div>
                                                                                        }
                                                                                    </div>

                                                                                    <!-- Company Details -->
                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Σύντομη Ονομασία</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-tag mr-2"></i>
                                                                                            <span>@(!string.IsNullOrWhiteSpace(selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyShortName) ? selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyShortName : "Δεν έχει Καθοριστεί")</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Τύπος Εταιρείας</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-industry mr-2"></i>
                                                                                            <span>@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyType</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Email Εταιρείας</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                            <span>@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyEmail</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Ιστοσελίδα Εταιρείας</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-globe mr-2 text-info"></i>
                                                                                            @if (!string.IsNullOrWhiteSpace(selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyWebsite))
                                                                                            {
                                                                                                <a href="@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyWebsite" target="_blank" 
                                                                                                   class="text-primary text-decoration-underline">
                                                                                                    @selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyWebsite
                                                                                                </a>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <span style="color: #6c757d;">Δεν υπάρχει</span>
                                                                                            }
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Περιγραφή Εταιρείας</label>
                                                                                        <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyDescription</textarea>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Δραστηριότητα Εταιρείας</label>
                                                                                        <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyActivity</textarea>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Περιοχές Ενδιαφέροντος</label>
                                                                                        <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyAreas</textarea>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Χώρα</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-flag mr-2"></i>
                                                                                            <span>@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyCountry</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Περιφέρεια</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-map mr-2"></i>
                                                                                            <span>@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyRegions</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Πόλη</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-city mr-2"></i>
                                                                                            <span>@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyTown</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Διεύθυνση</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-map-marker-alt mr-2 text-danger"></i>
                                                                                            @if (!string.IsNullOrEmpty(selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyLocation))
                                                                                            {
                                                                                                <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyLocation)"
                                                                                                   target="_blank"
                                                                                                   class="text-primary text-decoration-underline">
                                                                                                    @selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyLocation
                                                                                                </a>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <span style="color: #6c757d;">Δεν έχει οριστεί διεύθυνση</span>
                                                                                            }
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Ταχυδρομικός Κώδικας</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-envelope-open-text mr-2"></i>
                                                                                            <span>@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyPC</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Τηλέφωνο Εταιρείας</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-phone mr-2 text-success"></i>
                                                                                            <span>@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyTelephone</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Ιστοσελίδα Ανακοινώσεων</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-bullhorn mr-2 text-info"></i>
                                                                                            @if (!string.IsNullOrWhiteSpace(selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyWebsiteAnnouncements))
                                                                                            {
                                                                                                <a href="@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyWebsiteAnnouncements" target="_blank" 
                                                                                                   class="text-primary text-decoration-underline">
                                                                                                    @selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyWebsiteAnnouncements
                                                                                                </a>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <span style="color: #6c757d;">Δεν υπάρχει</span>
                                                                                            }
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Ιστοσελίδα Θέσεων Εργασίας</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-briefcase mr-2 text-info"></i>
                                                                                            @if (!string.IsNullOrWhiteSpace(selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyWebsiteJobs))
                                                                                            {
                                                                                                <a href="@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyWebsiteJobs" target="_blank" 
                                                                                                   class="text-primary text-decoration-underline">
                                                                                                    @selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyWebsiteJobs
                                                                                                </a>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <span style="color: #6c757d;">Δεν υπάρχει</span>
                                                                                            }
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Υπεύθυνος Ανθρώπινου Δυναμικού</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-user-tie mr-2 text-primary"></i>
                                                                                            <span>@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyHRName @selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyHRSurname</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Email Υπεύθυνου</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                            <span>@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyHREmail</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Τηλέφωνο Υπεύθυνου</label>
                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-phone mr-2 text-success"></i>
                                                                                            <span>@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.CompanyHRTelephone</span>
                                                                                        </div>
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Επικεφαλής Τμήματος Έρευνας και Ανάπτυξης</label>
                                                                                        <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.RnD_HeadName" readonly />
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Υπεύθυνος Επικοινωνίας Τμήματος Έρευνας και Ανάπτυξης</label>
                                                                                        <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.RnD_ContactPersonFullName" readonly />
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold;">Email Επικοινωνίας Υπευθύνου Τμήματος Έρευνας και Ανάπτυξης</label>
                                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-envelope" style="color: #4682B4; margin-right: 8px;"></i>
                                                                                            @if (!string.IsNullOrEmpty(selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.RnD_ContactPersonEmail))
                                                                                            {
                                                                                                <a href="mailto:@selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.RnD_ContactPersonEmail" 
                                                                                                   style="color: #007bff; text-decoration: underline; word-break: break-all;">
                                                                                                    @selectedCompanyToSeeDetailsOnExpandedInterestAsProfessor.RnD_ContactPersonEmail
                                                                                                </a>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <span style="color: #6c757d;">Δεν υπάρχει email</span>
                                                                                            }
                                                                                        </div>
                                                                                    </div>

                                                                                </div>
                                                                                <div class="modal-footer">
                                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                            @onclick="() => isExpandedModalVisibleToSeeCompanyDetailsAsProfessor = false"
                                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                        <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                }
                                                                


                                                    <div class="tab-pane fade" id="professorsearchstudent" role="tabpanel" aria-labelledby="professorsearchstudent-tab">
                                                        <div class="mb-3 row-dark-gray">
                                                            <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityForSearchStudentAsProfessor" style="cursor: pointer;">
                                                                <label class="form-label" style="color: #FFF8DC;">• Αναζήτηση Φοιτητή •</label>
                                                                <button class="btn btn-link" @onclick="ToggleFormVisibilityForSearchStudentAsProfessor" @onclick:stopPropagation="true">
                                                                    @if (isProfessorSearchStudentFormVisible)
                                                                    {
                                                                        <span>&#8722;</span> <!-- Minus sign -->
                                                                    }
                                                                    else
                                                                    {
                                                                        <span>&#43;</span> <!-- Plus sign -->
                                                                    }
                                                                </button>
                                                            </div>
                                                        </div>

                                                        @if (isProfessorSearchStudentFormVisible)
                                                        {
                                                            <div class="row">
                                                                <!-- Email Field -->
                                                                <div class="col-md-4">
                                                                    <label for="searchEmailAsProfessorToFindStudent" style="font-weight: bold;">Email</label>
                                                                    <input 
                                                                        type="text" 
                                                                        id="searchEmailAsProfessorToFindStudent"
                                                                        class="form-control" 
                                                                        placeholder="Αναζήτηση με Email" 
                                                                        @bind="searchEmailAsProfessorToFindStudent" />
                                                                </div>

                                                                <!-- Name Field with Autocomplete -->
                                                                <div class="col-md-4 position-relative">
                                                                    <label for="searchNameAsProfessorToFindStudent" class="fw-bold">Όνομα</label>
                                                                    <input 
                                                                        type="text" 
                                                                        id="searchNameAsProfessorToFindStudent"
                                                                        class="form-control" 
                                                                        placeholder="Αναζήτηση με Όνομα" 
                                                                        @bind="searchNameAsProfessorToFindStudent" 
                                                                        @oninput="HandleStudentNameInput" />
    
                                                                    <!-- Suggestions Dropdown for Name -->
                                                                    <ul class="list-group position-absolute" 
                                                                        style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                        hidden="@(!studentNameSuggestions.Any())">
                                                                        @foreach (var suggestion in studentNameSuggestions)
                                                                        {
                                                                            <li class="list-group-item list-group-item-action" 
                                                                                @onclick="() => SelectStudentNameSuggestion(suggestion)">
                                                                                @suggestion
                                                                            </li>
                                                                        }
                                                                    </ul>
                                                                </div>

                                                                <!-- Surname Field with Autocomplete -->
                                                                <div class="col-md-4 position-relative">
                                                                    <label for="searchSurnameAsProfessorToFindStudent" class="fw-bold">Επώνυμο</label>
                                                                    <input 
                                                                        type="text" 
                                                                        id="searchSurnameAsProfessorToFindStudent"
                                                                        class="form-control" 
                                                                        placeholder="Αναζήτηση με Επώνυμο" 
                                                                        @bind="searchSurnameAsProfessorToFindStudent" 
                                                                        @oninput="HandleStudentSurnameInput" />
    
                                                                    <!-- Suggestions Dropdown for Surname -->
                                                                    <ul class="list-group position-absolute" 
                                                                        style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                        hidden="@(!studentSurnameSuggestions.Any())">
                                                                        @foreach (var suggestion in studentSurnameSuggestions)
                                                                        {
                                                                            <li class="list-group-item list-group-item-action" 
                                                                                @onclick="() => SelectStudentSurnameSuggestion(suggestion)">
                                                                                @suggestion
                                                                            </li>
                                                                        }
                                                                    </ul>
                                                                </div>

                                                                <!-- Registration Number Field -->
                                                                <div class="col-md-4">
                                                                    <label for="searchRegNumberAsProfessorToFindStudent" style="font-weight: bold;">Αριθμός Μητρώου</label>
                                                                    <input 
                                                                        type="text" 
                                                                        id="searchRegNumberAsProfessorToFindStudent"
                                                                        class="form-control" 
                                                                        placeholder="Αναζήτηση με Αριθμό Μητρώου" 
                                                                        @bind="searchRegNumberAsProfessorToFindStudent" />
                                                                </div>

                                                                <!-- Search Student by School (Professor) -->
                                                                <div class="col-md-4">
                                                                    <label for="searchSchoolAsProfessorToFindStudent" style="font-weight: bold;">Σχολή</label>
                                                                    <div class="input-group">
                                                                        <select class="form-control" 
                                                                                value="@searchSchoolAsProfessorToFindStudent"
                                                                                @onchange="OnStudentSchoolChangedAsProfessor">
                                                                            <option value=""> - Επιλέξτε Σχολή - </option>
                                                                            @foreach (var school in researchGroupSchools)
                                                                            {
                                                                                <option value="@school">@school</option>
                                                                            }
                                                                        </select>
                                                                        <div class="input-group-append">
                                                                            <span class="input-group-text">
                                                                                <i class="fas fa-chevron-down"></i>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <!-- Search Student by Department (Professor) -->
                                                                <div class="col-md-4">
                                                                    <label for="searchDepartmentAsProfessorToFindStudent" style="font-weight: bold;">Τμήμα Πανεπιστημίου</label>
                                                                    <div class="input-group">
                                                                        <select class="form-control" 
                                                                                @bind="searchDepartmentAsProfessorToFindStudent"
                                                                                disabled="@string.IsNullOrEmpty(searchSchoolAsProfessorToFindStudent)">
                                                                            <option value=""> - Επιλέξτε Τμήμα - </option>
                                                                            @if (string.IsNullOrEmpty(searchSchoolAsProfessorToFindStudent))
                                                                            {
                                                                                <!-- Show all departments when no school is selected -->
                                                                                @foreach (var department in GetAllStudentDepartments())
                                                                                {
                                                                                    <option value="@department">@department</option>
                                                                                }
                                                                            }
                                                                            else
                                                                            {
                                                                                <!-- Show only departments from selected school -->
                                                                                @foreach (var department in filteredStudentDepartmentsAsProfessor)
                                                                                {
                                                                                    <option value="@department">@department</option>
                                                                                }
                                                                            }
                                                                        </select>
                                                                        <div class="input-group-append">
                                                                            <span class="input-group-text">
                                                                                <i class="fas fa-chevron-down"></i>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <!-- Areas of Expertise Container -->
                                                                <div class="col-md-4 position-relative">
                                                                    <label for="searchAreasOfExpertiseAsProfessorToFindStudent" style="font-weight: bold;">Περιοχές Εξειδίκευσης</label>
                                                                    <input 
                                                                        type="text" 
                                                                        id="searchAreasOfExpertiseAsProfessorToFindStudent"
                                                                        class="form-control" 
                                                                        placeholder="Αναζήτηση με Περιοχές Εξειδίκευσης" 
                                                                        @bind="searchAreasOfExpertiseAsProfessorToFindStudent" 
                                                                        @oninput="HandleAreasOfExpertiseInput" />

                                                                    <ul class="list-group position-absolute" 
                                                                        style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                        hidden="@(!areasOfExpertiseSuggestions.Any())">
                                                                        @foreach (var suggestion in areasOfExpertiseSuggestions)
                                                                        {
                                                                            <li class="list-group-item list-group-item-action" 
                                                                                @onclick="() => SelectAreasOfExpertiseSuggestion(suggestion)">
                                                                                @if (suggestion.Contains(" - "))
                                                                                {
                                                                                    var parts = suggestion.Split(new[] { " - " }, StringSplitOptions.None);
                                                                                    <div>
                                                                                        <span class="text-muted">@parts[0] - </span>
                                                                                        <span class="fw-bold">@parts[1]</span>
                                                                                    </div>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <div>@suggestion</div>
                                                                                }
                                                                            </li>
                                                                        }
                                                                    </ul>

                                                                    <div class="mt-3 selected-areas-container">
                                                                        @if (selectedAreasOfExpertise.Any())
                                                                        {
                                                                            <ul class="list-group selected-areas-list">
                                                                                @foreach (var area in selectedAreasOfExpertise)
                                                                                {
                                                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                                        @if (area.Contains(" - "))
                                                                                        {
                                                                                            var parts = area.Split(new[] { " - " }, StringSplitOptions.None);
                                                                                            <span>
                                                                                                <span class="text-muted">@parts[0] - </span>
                                                                                                <span class="fw-bold">@parts[1]</span>
                                                                                            </span>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span>@area</span>
                                                                                        }
                                                                                        <button class="btn btn-danger btn-sm" @onclick="() => RemoveSelectedAreaOfExpertise(area)">
                                                                                            <i class="fas fa-times"></i>
                                                                                        </button>
                                                                                    </li>
                                                                                }
                                                                            </ul>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <!-- Keywords (Skills) Container -->
                                                                <div class="col-md-4 position-relative">
                                                                    <label for="searchKeywordsAsProfessorToFindStudent" style="font-weight: bold;">Ικανότητες</label>
                                                                    <input 
                                                                        type="text" 
                                                                        id="searchKeywordsAsProfessorToFindStudent"
                                                                        class="form-control" 
                                                                        placeholder="Αναζήτηση με Εξειδικεύσεις" 
                                                                        @bind="searchKeywordsAsProfessorToFindStudent" 
                                                                        @oninput="HandleKeywordsInput" />

                                                                    <ul class="list-group position-absolute" 
                                                                        style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                        hidden="@(!keywordsSuggestions.Any())">
                                                                        @foreach (var suggestion in keywordsSuggestions)
                                                                        {
                                                                            <li class="list-group-item list-group-item-action" 
                                                                                @onclick="() => SelectKeywordsSuggestion(suggestion)">
                                                                                @suggestion
                                                                            </li>
                                                                        }
                                                                    </ul>

                                                                    <div class="mt-3 selected-keywords-container">
                                                                        @if (selectedKeywords.Any())
                                                                        {
                                                                            <ul class="list-group selected-keywords-list">
                                                                                @foreach (var keyword in selectedKeywords)
                                                                                {
                                                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                                        @keyword
                                                                                        <button class="btn btn-danger btn-sm" @onclick="() => RemoveKeyword(keyword)">
                                                                                            <i class="fas fa-times"></i>
                                                                                        </button>
                                                                                    </li>
                                                                                }
                                                                            </ul>
                                                                        }
                                                                    </div>
                                                                </div>
                                                                <br/>
                                                                <br/>
                                                                    <div class="row mb-3">
                                                                        <div class="col-md-12">
                                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="SearchStudentsAsProfessorToFindStudent">
                                                                                <i class="fa-brands fa-searchengin" style="margin-right: 8px;"></i>Αναζήτηση
                                                                            </button>
                                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="ClearSearchFieldsAsProfessorToFindStudent">
                                                                                <i class="fa-solid fa-broom" style="margin-right: 8px;"></i>Εκκαθάριση
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                            </div>
                                                            <br/>
                                                            <br/>
                                                        }


                                                        @if (searchResultsAsProfessorToFindStudent != null && searchResultsAsProfessorToFindStudent.Any())
                                                        {
                                                            <div class="row mb-3">
                                                                <div class="col-md-2">
                                                                    <label style="color: #2d3748; font-weight: bold; font-size: 15px; display: block;">Αποτελέσματα ανά Σελίδα</label>
                                                                    <div class="input-group" style="max-width: 65px;">
                                                                        <select class="form-control form-control-sm" 
                                                                                @onchange="OnPageSizeChangeForStudentSearch" 
                                                                                aria-label="Items per page">
                                                                            @foreach (var option in studentSearchPageSizeOptions)
                                                                            {
                                                                                <option value="@option" selected="@(StudentSearchPerPage == option)">@option</option>
                                                                            }
                                                                        </select>
                                                                        <div class="input-group-append">
                                                                            <span class="input-group-text">
                                                                                <i class="fas fa-chevron-down"></i>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <table class="table mt-4">
                                                                <thead>
                                                                    <td colspan="8" style="padding: 0;">
                                                                        <div style="display: flex; justify-content: space-between; align-items: center; height: 24px; line-height: 24px; width: 100%;">
                                                                            <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd  ;"></i>
                                                                            <label class="form-label" style="color: #0d6efd ; font-weight: bold; font-size: 18px; margin: 0;">Αποτέλεσμα Αναζήτησης</label>
                                                                            <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd  ;"></i>
                                                                        </div>
                                                                    </td>
                                                                    <tr style="background-color: lightgray; border: 2px solid black;">
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-user fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Ονοματεπώνυμο
                                                                        </th>
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-building fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Τμήμα
                                                                        </th>
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Ηλ. Ταχυδρομείο
                                                                        </th>
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-phone fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Τηλέφωνο
                                                                        </th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    @foreach (var student in GetPaginatedStudentSearchResults())
                                                                    {
                                                                        <tr>
                                                                            <td>
                                                                                <a href="#" style="text-decoration: none; color: #0d6efd; font-weight: 500;" 
                                                                                   @onclick="() => ShowStudentDetailsWhenSearchAsProfessor(student)" 
                                                                                   title="Προβολή λεπτομερειών">
                                                                                    @student.Name @student.Surname
                                                                                </a>
                                                                            </td>
                                                                            <td>@student.Department</td>
                                                                            <td>
                                                                                @student.Email
                                                                                <a href="mailto:@student.Email" title="Αποστολή Email">
                                                                                    <i class="fas fa-envelope"></i>
                                                                                </a>
                                                                            </td>
                                                                            <td>
                                                                                @(student.PhoneVisibility ? student.Telephone : "N/A")
                                                                                <span class="ml-2">
                                                                                    <i class="fas fa-phone"></i>
                                                                                </span>
                                                                            </td>
                                                                        </tr>
                                                                    }
                                                                </tbody>
                                                            </table>
                                                            <!-- Pagination Controls -->
                                                            <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                <span class="pagination-item @(currentPage_StudentSearch == 1 ? "disabled" : "")"
                                                                      @onclick="GoToFirstPage_StudentSearch">
                                                                    &lt;&lt;
                                                                </span>

                                                                <span class="pagination-item @(currentPage_StudentSearch == 1 ? "disabled" : "")"
                                                                      @onclick="PreviousPage_StudentSearch">
                                                                    &lt;
                                                                </span>

                                                                @foreach (var pageNum in GetVisiblePages_StudentSearch())
                                                                {
                                                                    if (pageNum == -1)
                                                                    {
                                                                        <span class="pagination-ellipsis">...</span>
                                                                    }
                                                                    else
                                                                    {
                                                                        <span class="pagination-item @(pageNum == currentPage_StudentSearch ? "active" : "")"
                                                                              @onclick="@(() => GoToPage_StudentSearch(pageNum))">
                                                                            @pageNum
                                                                        </span>
                                                                    }
                                                                }

                                                                <span class="pagination-item @(currentPage_StudentSearch == totalPages_StudentSearch ? "disabled" : "")"
                                                                      @onclick="NextPage_StudentSearch">
                                                                    &gt;
                                                                </span>

                                                                <span class="pagination-item @(currentPage_StudentSearch == totalPages_StudentSearch ? "disabled" : "")"
                                                                      @onclick="GoToLastPage_StudentSearch">
                                                                    &gt;&gt;
                                                                </span>

                                                                <span class="ms-3">
                                                                    Σελίδα @currentPage_StudentSearch από @totalPages_StudentSearch
                                                                </span>
                                                            </div>
                                                            <br/>
                                                        }
                                                        else if (searchResultsAsProfessorToFindStudent != null)
                                                        {
                                                            <div class="alert alert-warning d-flex align-items-center" role="alert">
                                                                 <i class="fas fa-exclamation-triangle me-2"></i>
                                                                 <div>
                                                                     Δεν βρέθηκε κάποιο αποτέλεσμα που να πληρεί τα κριτήρια της Αναζήτησης σας.
                                                                 </div>
                                                            </div>
                                                        }
                                                    </div>

                                                    @if (showStudentDetailsModal && selectedStudent != null)
                                                    {
                                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                        <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                            @selectedStudent.Name @selectedStudent.Surname
                                                                        </h5>
                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                @onclick="CloseStudentDetailsModalWhenSearchAsProfessor"
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                        </button>
                                                                    </div>
                                                                    <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                        <!-- Profile Picture -->
                                                                        <div class="text-center mb-4">
                                                                            @if (selectedStudent.Image != null && selectedStudent.Image.Length > 0)
                                                                            {
                                                                                var base64Image = Convert.ToBase64String(selectedStudent.Image);
                                                                                <img src="data:image/jpeg;base64,@base64Image" 
                                                                                     alt="Φωτογραφία Προφίλ Σπουδαστή"
                                                                                     style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                            }
                                                                            else
                                                                            {
                                                                                <div style="width: 150px; height: 150px; border-radius: 50%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; margin: 0 auto; border: 3px solid #ddd;">
                                                                                    <i class="fas fa-user" style="font-size: 3rem; color: #6c757d;"></i>
                                                                                </div>
                                                                                <p style="color: #6c757d; margin-top: 8px;">Δεν υπάρχει φωτογραφία Προφίλ</p>
                                                                            }
                                                                        </div>

                                                                        <!-- Student Details -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Αριθμός Μητρώου</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-id-card mr-2"></i>
                                                                                <span>@selectedStudent.RegNumber</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Κατηγορία Σπουδών</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-graduation-cap mr-2"></i>
                                                                                <span>@selectedStudent.LevelOfDegree</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-university mr-2 text-primary"></i>
                                                                                <span>@selectedStudent.University</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Τμήμα</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-building mr-2"></i>
                                                                                <span>@selectedStudent.Department</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Έτος Σπουδών</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-calendar-alt mr-2"></i>
                                                                                <span>@selectedStudent.StudyYear</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Ημερομηνία Εγγραφής</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-calendar-day mr-2"></i>
                                                                                <span>@selectedStudent.EnrollmentDate</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Επικοινωνία</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                <span>@selectedStudent.Email</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Τηλέφωνο</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-phone mr-2 text-success"></i>
                                                                                <span>@(selectedStudent.PhoneVisibility ? selectedStudent.Telephone : "N/A")</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Κατάσταση Πρακτικής</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-briefcase mr-2"></i>
                                                                                <span>@selectedStudent.InternshipStatus</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Κατάσταση Διπλωματικής</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-file-alt mr-2"></i>
                                                                                <span>@selectedStudent.ThesisStatus</span>
                                                                            </div>
                                                                        </div>
                   
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Περιοχές Ενδιαφέροντος</label>
                                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedStudent.AreasOfExpertise</textarea>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Εξειδίκευση</label>
                                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedStudent.Keywords</textarea>
                                                                        </div>

                                                                        <!-- Address Section -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Περιφέρεια (Μόνιμης Διαμονής)</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-map mr-2"></i>
                                                                                <span>@selectedStudent.PermanentRegion</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Πόλη (Μόνιμης Διαμονής)</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-city mr-2"></i>
                                                                                <span>@selectedStudent.PermanentTown</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Διεύθυνση</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-map-marker-alt mr-2 text-danger"></i>
                                                                                @if (!string.IsNullOrEmpty(selectedStudent.PermanentAddress))
                                                                                {
                                                                                    <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(selectedStudent.PermanentAddress)"
                                                                                       target="_blank"
                                                                                       class="text-primary text-decoration-underline">
                                                                                        @selectedStudent.PermanentAddress
                                                                                    </a>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span style="color: #6c757d;">Δεν έχει οριστεί διεύθυνση</span>
                                                                                }
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Διαθέτει Μέσο Μεταφοράς</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-car mr-2" style="color: @(selectedStudent.Transport == true ? "#28a745" : "#dc3545");"></i>
                                                                                <span style="color: @(selectedStudent.Transport == true ? "#28a745" : "#dc3545"); font-weight: 500;">
                                                                                    @(selectedStudent.Transport == true ? "Ναι" : "Όχι")
                                                                                </span>
                                                                            </div>
                                                                        </div>

                                                                        <!-- Social Links -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">LinkedIn Προφίλ</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fab fa-linkedin mr-2 text-primary"></i>
                                                                                @if (!string.IsNullOrEmpty(selectedStudent.LinkedInProfile))
                                                                                {
                                                                                    <a href="@selectedStudent.LinkedInProfile" target="_blank" 
                                                                                       class="text-primary text-decoration-underline">
                                                                                        @selectedStudent.LinkedInProfile
                                                                                    </a>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span style="color: #6c757d;">Δεν έχει οριστεί προφίλ LinkedIn ακόμη..</span>
                                                                                }
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Προσωπική Ιστοσελίδα</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-globe mr-2 text-info"></i>
                                                                                @if (!string.IsNullOrEmpty(selectedStudent.PersonalWebsite))
                                                                                {
                                                                                    <a href="@selectedStudent.PersonalWebsite" target="_blank" 
                                                                                       class="text-primary text-decoration-underline">
                                                                                        @selectedStudent.PersonalWebsite
                                                                                    </a>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span style="color: #6c757d;">Δεν έχει οριστεί ιστοσελίδα ακόμη..</span>
                                                                                }
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                @onclick="CloseStudentDetailsModalWhenSearchAsProfessor"
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    }


                                                    @*SEARCH COMPANIES AS PROFESSOR*@
                                                    <div class="tab-pane fade" id="professorsearchcompany" role="tabpanel" aria-labelledby="professorsearchcompany-tab">
                                                        <div class="mb-3 row-dark-gray">
                                                            <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityForSearchCompanyAsProfessor" style="cursor: pointer;">
                                                                <label class="form-label" style="color: #FFF8DC;">• Αναζήτηση Εταιρείας •</label>
                                                                <button class="btn btn-link" @onclick="ToggleFormVisibilityForSearchCompanyAsProfessor" @onclick:stopPropagation="true">
                                                                    @if (isProfessorSearchCompanyFormVisible)
                                                                    {
                                                                        <span>&#8722;</span> <!-- Minus sign -->
                                                                    }
                                                                    else
                                                                    {
                                                                        <span>&#43;</span> <!-- Plus sign -->
                                                                    }
                                                                </button>
                                                            </div>
                                                        </div>

                                                        @if (isProfessorSearchCompanyFormVisible)
                                                        {
                                                            <div class="row mb-3">
                                                                 <div class="col-md-4">
                                                                    <label for="searchCompanyEmailAsProfessor"><strong>Email</strong></label>
                                                                    <input type="text" class="form-control" placeholder="Αναζήτηση με Email" @bind="searchCompanyEmailAsProfessorToFindCompany" />
                                                                </div>
                                                                <div class="col-md-4 position-relative">
                                                                    <label for="searchCompanyNameAsProfessor"><strong>Όνομα Εταιρείας</strong></label>
                                                                    <input 
                                                                        type="text" 
                                                                        id="searchCompanyNameAsProfessor"
                                                                        class="form-control" 
                                                                        placeholder="Αναζήτηση με όνομα" 
                                                                        @bind="searchCompanyNameENGAsProfessorToFindCompany" 
                                                                        @oninput="HandleCompanyInput" />

                                                                    <!-- Suggestions dropdown -->
                                                                    <ul class="list-group position-absolute" 
                                                                        style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                        hidden="@(!companyNameSuggestions.Any())">
                                                                        @foreach (var suggestion in companyNameSuggestions)
                                                                        {
                                                                            <li class="list-group-item list-group-item-action" 
                                                                                @onclick="() => SelectCompanyNameSuggestion(suggestion)">
                                                                                @suggestion
                                                                            </li>
                                                                        }
                                                                    </ul>
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <label for="searchCompanyTypeAsProfessor" style="font-weight: bold;">Τύπος Εταιρείας</label>
                                                                    <div class="input-group">
                                                                        <select 
                                                                            id="searchCompanyTypeAsProfessor" 
                                                                            class="form-control" 
                                                                            @bind="searchCompanyTypeAsProfessorToFindCompany">
                                                                            <option value=""> - Επιλέξτε Τύπο - </option>
                                                                            @foreach (var type in ForeasType)
                                                                            {
                                                                                <option value="@type">@type</option>
                                                                            }
                                                                        </select>
                                                                        <div class="input-group-append">
                                                                            <span class="input-group-text">
                                                                                <i class="fas fa-chevron-down"></i>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <!-- Company Activity Field with Autocomplete -->
                                                                <div class="col-md-4 position-relative">
                                                                    <label for="searchCompanyActivityAsProfessor" class="fw-bold">Δραστηριότητα Εταιρείας</label>
                                                                    <input 
                                                                        type="text" 
                                                                        id="searchCompanyActivityAsProfessor"
                                                                        class="form-control" 
                                                                        placeholder="Αναζήτηση με δραστηριότητα" 
                                                                        @bind="searchCompanyActivityInputAsProfessorToFindCompany" 
                                                                        @oninput="HandleCompanyActivityInput" />
    
                                                                    <!-- Suggestions Dropdown -->
                                                                    <ul class="list-group position-absolute" 
                                                                        style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                        hidden="@(!companyActivitySuggestions.Any())">
                                                                        @foreach (var suggestion in companyActivitySuggestions)
                                                                        {
                                                                            <li class="list-group-item list-group-item-action" 
                                                                                @onclick="() => SelectCompanyActivitySuggestion(suggestion)">
                                                                                @suggestion
                                                                            </li>
                                                                        }
                                                                    </ul>

                                                                    <!-- Selected Activities -->
                                                                    <div class="mt-3 selected-activities-container">
                                                                        @if (selectedCompanyActivities.Any())
                                                                        {
                                                                            <ul class="list-group selected-activities-list">
                                                                                @foreach (var activity in selectedCompanyActivities)
                                                                                {
                                                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                                        @activity
                                                                                        <button class="btn btn-danger btn-sm" @onclick="() => RemoveSelectedCompanyActivity(activity)">
                                                                                            <i class="fas fa-times"></i>
                                                                                        </button>
                                                                                    </li>
                                                                                }
                                                                            </ul>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <div class="col-md-4">
                                                                    <label for="searchCompanyTownAsProfessor" style="font-weight: bold;">Πόλη</label>
                                                                    <div class="input-group">
                                                                        <select id="searchCompanyTownAsProfessor" 
                                                                                class="form-control" 
                                                                                @bind="searchCompanyTownAsProfessorToFindCompany">
                                                                            <option value=""> - Επιλέξτε Πόλη - </option>
                                                                            @foreach (var region in Regions)
                                                                            {
                                                                                <optgroup label="@region">
                                                                                    @foreach (var town in RegionToTownsMap[region])
                                                                                    {
                                                                                        <option value="@town">@town</option>
                                                                                    }
                                                                                </optgroup>
                                                                            }
                                                                        </select>
                                                                        <div class="input-group-append">
                                                                            <span class="input-group-text">
                                                                                <i class="fas fa-chevron-down"></i>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- Areas of Interest Container -->
                                                                <div class="col-md-4 position-relative">
                                                                    <label for="searchCompanyAreasAsProfessorToFindCompany" style="font-weight: bold;">Περιοχές Ενδιαφέροντος</label>
                                                                    <input 
                                                                        type="text"
                                                                        class="form-control"
                                                                        placeholder="Αναζήτηση με Περιοχές"
                                                                        @bind="searchCompanyAreasAsProfessorToFindCompany"
                                                                        @oninput="HandleAreasOfInterestInput_WhenSearchForCompanyAsProfessor" />

                                                                    <ul class="list-group position-absolute" 
                                                                        style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                        hidden="@(!areasOfInterestSuggestions.Any())">
                                                                        @foreach (var suggestion in areasOfInterestSuggestions)
                                                                        {
                                                                            <li class="list-group-item list-group-item-action" 
                                                                                @onclick="() => SelectAreasOfInterestSuggestion_WhenSearchForCompanyAsProfessor(suggestion)">
                                                                                @if (suggestion.Contains(" - "))
                                                                                {
                                                                                    var parts = suggestion.Split(new[] { " - " }, StringSplitOptions.None);
                                                                                    <div>
                                                                                        <span class="text-muted">@parts[0] - </span>
                                                                                        <span class="fw-bold">@parts[1]</span>
                                                                                    </div>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <div>@suggestion</div>
                                                                                }
                                                                            </li>
                                                                        }
                                                                    </ul>

                                                                    <div class="mt-3 selected-areas-container">
                                                                        @if (selectedAreasOfInterest.Any())
                                                                        {
                                                                            <ul class="list-group selected-areas-list">
                                                                                @foreach (var area in selectedAreasOfInterest)
                                                                                {
                                                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                                        @if (area.Contains(" - "))
                                                                                        {
                                                                                            var parts = area.Split(new[] { " - " }, StringSplitOptions.None);
                                                                                            <span>
                                                                                                <span class="text-muted">@parts[0] - </span>
                                                                                                <span class="fw-bold">@parts[1]</span>
                                                                                            </span>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span>@area</span>
                                                                                        }
                                                                                        <button class="btn btn-danger btn-sm" @onclick="() => RemoveSelectedAreaOfInterest_WhenSearchForCompanyAsProfessor(area)">
                                                                                            <i class="fas fa-times"></i>
                                                                                        </button>
                                                                                    </li>
                                                                                }
                                                                            </ul>
                                                                        }
                                                                    </div>
                                                                </div>


                                                                <br/>
                                                                <!-- Company Desired Skills Field with Autocomplete -->
                                                                <div class="col-md-4 position-relative">
                                                                    <label for="searchCompanyDesiredSkillsAsProfessor" class="fw-bold">Επιθυμητές Δεξιότητες</label>
                                                                    <input 
                                                                        type="text" 
                                                                        id="searchCompanyDesiredSkillsAsProfessor"
                                                                        class="form-control" 
                                                                        placeholder="Αναζήτηση με δεξιότητες" 
                                                                        @bind="searchCompanyDesiredSkillsInputAsProfessorToFindCompany" 
                                                                        @oninput="HandleCompanyDesiredSkillsInput" />
    
                                                                    <!-- Suggestions Dropdown -->
                                                                    <ul class="list-group position-absolute" 
                                                                        style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                        hidden="@(!companyDesiredSkillsSuggestions.Any())">
                                                                        @foreach (var suggestion in companyDesiredSkillsSuggestions)
                                                                        {
                                                                            <li class="list-group-item list-group-item-action" 
                                                                                @onclick="() => SelectCompanyDesiredSkillSuggestion(suggestion)">
                                                                                @suggestion
                                                                            </li>
                                                                        }
                                                                    </ul>

                                                                    <!-- Selected Skills -->
                                                                    <div class="mt-3 selected-skills-container">
                                                                        @if (selectedCompanyDesiredSkills.Any())
                                                                        {
                                                                            <ul class="list-group selected-skills-list">
                                                                                @foreach (var skill in selectedCompanyDesiredSkills)
                                                                                {
                                                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                                        @skill
                                                                                        <button class="btn btn-danger btn-sm" @onclick="() => RemoveSelectedCompanyDesiredSkill(skill)">
                                                                                            <i class="fas fa-times"></i>
                                                                                        </button>
                                                                                    </li>
                                                                                }
                                                                            </ul>
                                                                        }
                                                                    </div>
                                                                </div>
                                                                <br/>
                                                                <br/>
                                                                <div class="row mb-3">
                                                                    <div class="col-md-12">
                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="SearchCompaniesAsProfessor">
                                                                            <i class="fa-brands fa-searchengin" style="margin-right: 8px;"></i>Αναζήτηση
                                                                        </button>
                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="ClearSearchFieldsAsProfessorToFindCompany">
                                                                            <i class="fa-solid fa-broom" style="margin-right: 8px;"></i>Εκκαθάριση
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <br/>
                                                            <br/>
                                                        }


                                                        @if (searchResultsAsProfessorToFindCompany != null && searchResultsAsProfessorToFindCompany.Any())
                                                        {
                                                           <div class="row mb-3">
                                                                <div class="col-md-2">
                                                                    <label style="color: #2d3748; font-weight: bold; font-size: 15px; display: block;">Αποτελέσματα ανά Σελίδα</label>
                                                                    <div class="input-group" style="max-width: 65px;">
                                                                        <select class="form-control form-control-sm" 
                                                                                @onchange="OnPageSizeChangeForCompanySearch" 
                                                                                aria-label="Items per page">
                                                                            @foreach (var option in companySearchPageSizeOptions)
                                                                            {
                                                                                <option value="@option" selected="@(CompanySearchPerPage == option)">@option</option>
                                                                            }
                                                                        </select>
                                                                        <div class="input-group-append">
                                                                            <span class="input-group-text">
                                                                                <i class="fas fa-chevron-down"></i>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <table class="table mt-4">
                                                                <thead>
                                                                    <td colspan="8" style="padding: 0;">
                                                                        <div style="display: flex; justify-content: space-between; align-items: center; height: 24px; line-height: 24px; width: 100%;">
                                                                            <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd  ;"></i>
                                                                            <label class="form-label" style="color: #0d6efd ; font-weight: bold; font-size: 18px; margin: 0;">Αποτέλεσμα Αναζήτησης</label>
                                                                            <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd  ;"></i>
                                                                        </div>
                                                                    </td>
                                                                    <tr style="border: 2px solid black; background-color: lightgray;">
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-industry fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Όνομα Εταιρείας
                                                                        </th>
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-tags fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Δραστηριότητα
                                                                        </th>
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-city fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Πόλη
                                                                        </th>
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Email
                                                                        </th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    @foreach (var company in GetPaginatedCompanySearchResults())
                                                                    {
                                                                        <tr>
                                                                            <td>
                                                                                <a href="#" style="text-decoration: none; color: #0d6efd; font-weight: 500;" 
                                                                                   @onclick="() => ShowCompanyDetailsWhenSearchAsProfessor(company)" 
                                                                                   title="Προβολή λεπτομερειών">
                                                                                    @company.CompanyName
                                                                                </a>
                                                                            </td>
                                                                            <td>@company.CompanyActivity</td>
                                                                            <td>@company.CompanyTown</td>
                                                                            <td>
                                                                                @company.CompanyEmail
                                                                                <a href="mailto:@company.CompanyEmail" title="Αποστολή Email">
                                                                                    <i class="fas fa-envelope"></i>
                                                                                </a>
                                                                            </td>
                                                                        </tr>
                                                                    }
                                                                </tbody>
                                                            </table>
                                                            <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                <span class="pagination-item @(currentPage_CompanySearch == 1 ? "disabled" : "")"
                                                                      @onclick="GoToFirstPage_CompanySearch">
                                                                    &lt;&lt;
                                                                </span>

                                                                <span class="pagination-item @(currentPage_CompanySearch == 1 ? "disabled" : "")"
                                                                      @onclick="PreviousPage_CompanySearch">
                                                                    &lt;
                                                                </span>

                                                                @foreach (var pageNum in GetVisiblePages_CompanySearch())
                                                                {
                                                                    if (pageNum == -1)
                                                                    {
                                                                        <span class="pagination-ellipsis">...</span>
                                                                    }
                                                                    else
                                                                    {
                                                                        <span class="pagination-item @(pageNum == currentPage_CompanySearch ? "active" : "")"
                                                                              @onclick="@(() => GoToPage_CompanySearch(pageNum))">
                                                                            @pageNum
                                                                        </span>
                                                                    }
                                                                }

                                                                <span class="pagination-item @(currentPage_CompanySearch == totalPages_CompanySearch ? "disabled" : "")"
                                                                      @onclick="NextPage_CompanySearch">
                                                                    &gt;
                                                                </span>

                                                                <span class="pagination-item @(currentPage_CompanySearch == totalPages_CompanySearch ? "disabled" : "")"
                                                                      @onclick="GoToLastPage_CompanySearch">
                                                                    &gt;&gt;
                                                                </span>

                                                                <span class="ms-3">
                                                                    Σελίδα @currentPage_CompanySearch από @totalPages_CompanySearch
                                                                </span>
                                                            </div>
                                                            <br/>
                                                            <br/>
                                                        }
                                                        else if (searchResultsAsProfessorToFindCompany != null)
                                                        {
                                                            <div class="alert alert-warning d-flex align-items-center" role="alert">
                                                                 <i class="fas fa-exclamation-triangle me-2"></i>
                                                                 <div>
                                                                     Δεν βρέθηκε κάποιο αποτέλεσμα που να πληρεί τα κριτήρια της Αναζήτησης σας.
                                                                 </div>
                                                            </div>
                                                        }
                                                    </div>
                                                @*SEARCH RESEARCH GROUP AS PROFESSOR - START - *@
                                                <div class="tab-pane fade" id="professorresearchgroup-search" role="tabpanel" aria-labelledby="professorresearchgroup-search-tab">
                                                     <div class="mb-3 row-dark-gray mt-4">
                                                          <div class="d-flex justify-content-between align-items-center" @onclick="ToggleProfessorSearchResearchGroupVisible" style="cursor: pointer;">
                                                               <label class="form-label" style="color: #FFF8DC;">• Αναζήτηση Ερευνητικής Ομάδας •</label>
                                                                <button class="btn btn-link" @onclick="ToggleProfessorSearchResearchGroupVisible" @onclick:stopPropagation="true">
                                                                @if (isProfessorSearchResearchGroupVisible)
                                                                {
                                                                     <span>&#8722;</span> <!-- Minus sign -->
                                                                }
                                                                else
                                                                {
                                                                      <span>&#43;</span> <!-- Plus sign -->
                                                                }
                                                                </button>
                                                           </div>
                                                </div>

                                                @if (isProfessorSearchResearchGroupVisible)
                                                {
                                                     <!-- Search Form -->
                                                     <div class="row mb-3">
                                                          <!-- Search Research Group by Name -->
                                                               <div class="col-md-4 position-relative">
                                                                    <label for="searchResearchGroupNameAsProfessorToFindResearchGroup" style="font-weight: bold;">Όνομα Ερευνητικής Ομάδας</label>
                                                                           <input type="text" id="searchResearchGroupNameAsProfessorToFindResearchGroup" class="form-control" 
                                                                                  placeholder="Αναζήτηση με όνομα ομάδας" 
                                                                                  @bind="searchResearchGroupNameAsProfessorToFindResearchGroup" 
                                                                                  @oninput="HandleProfessorResearchGroupNameInput" />
                                                                                  <!-- Suggestions dropdown -->
                                                                                       <ul class="list-group position-absolute" 
                                                                                           style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                                           hidden="@(!professorResearchGroupNameSuggestions.Any())">
                                                                    @foreach (var suggestion in professorResearchGroupNameSuggestions)
                                                                    {
                                                                         <li class="list-group-item list-group-item-action" 
                                                                              @onclick="() => SelectProfessorResearchGroupNameSuggestion(suggestion)">
                                                                            @suggestion
                                                                         </li>
                                                                    }
                                                                         </ul>
                                                                         </div>
                                                                         <!-- Search Research Group by School -->
                                                                              <div class="col-md-4">
                                                                                   <label for="searchResearchGroupSchoolAsProfessorToFindResearchGroup" style="font-weight: bold;">Σχολή</label>
                                                                                           <div class="input-group">
                                                                                            <select class="form-control" 
                                                                                                    value="@searchResearchGroupSchoolAsProfessorToFindResearchGroup"
                                                                                                            @onchange="OnProfessorSchoolSelectionChanged">
                                                                                                        <option value=""> - Επιλέξτε Σχολή - </option>
                                                                                                        @foreach (var school in researchGroupSchools)
                                                                                                        {
                                                                                                            <option value="@school">@school</option>
                                                                                                        }
                                                                                              </select>
                                                                                                    <div class="input-group-append">
                                                                                                        <span class="input-group-text">
                                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                                        </span>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- Search Research Group by University Department -->
                                                                                            <div class="col-md-4">
                                                                                                <label for="searchResearchGroupUniversityDepartmentAsProfessorToFindResearchGroup" style="font-weight: bold;">Τμήμα Πανεπιστημίου</label>
                                                                                                <div class="input-group">
                                                                                                    <select class="form-control" 
                                                                                                            @bind="searchResearchGroupUniversityDepartmentAsProfessorToFindResearchGroup"
                                                                                                            disabled="@string.IsNullOrEmpty(searchResearchGroupSchoolAsProfessorToFindResearchGroup)">
                                                                                                        <option value=""> - Επιλέξτε Τμήμα - </option>
                                                                                                        @if (!string.IsNullOrEmpty(searchResearchGroupSchoolAsProfessorToFindResearchGroup))
                                                                                                        {
                                                                                                            @foreach (var department in professorFilteredDepartmentsForSearchForResearchGroup)
                                                                                                            {
                                                                                                                <option value="@department">@department</option>
                                                                                                            }
                                                                                                        }
                                                                                                    </select>
                                                                                                    <div class="input-group-append">
                                                                                                        <span class="input-group-text">
                                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                                        </span>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- Search Research Group by Areas -->
                                                                                            <div class="col-md-4 position-relative mt-3">
                                                                                                <label for="searchResearchGroupAreasAsProfessorToFindResearchGroup" style="font-weight: bold;">Περιοχές Έρευνας</label>
                                                                                                <input 
                                                                                                    type="text" 
                                                                                                    id="searchResearchGroupAreasAsProfessorToFindResearchGroup"
                                                                                                    class="form-control" 
                                                                                                    placeholder="Αναζήτηση με περιοχές έρευνας" 
                                                                                                    @bind="searchResearchGroupAreasAsProfessorToFindResearchGroup" 
                                                                                                    @oninput="HandleProfessorResearchGroupAreasInput"
                                                                                                    @onkeydown="HandleProfessorResearchGroupAreasKeyDown" />

                                                                                                <!-- Suggestions dropdown for Research Areas -->
                                                                                                <ul class="list-group position-absolute" 
                                                                                                    style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                                                    hidden="@(!professorResearchGroupAreasSuggestions.Any())">
                                                                                                    @foreach (var suggestion in professorResearchGroupAreasSuggestions)
                                                                                                    {
                                                                                                            <li class="list-group-item list-group-item-action" 
                                                                                                                @onclick="() => SelectProfessorResearchGroupAreasSuggestion(suggestion)">
                                                                                                        @if (suggestion.Contains(" - "))
                                                                                                        {
                                                                                                            var parts = suggestion.Split(new[] { " - " }, StringSplitOptions.None);
                                                                                                                <div>
                                                                                                                     <span class="text-muted">@parts[0] - </span>
                                                                                                                     <span class="fw-bold">@parts[1]</span>
                                                                                                                </div>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <div>@suggestion</div>
                                                                                                        }
                                                                                                            </li>
                                                                                                     }
                                                                                                </ul>

                                                                                                <!-- Selected Research Areas -->
                                                                                                <div class="mt-3 selected-areas-container">
                                                                                                    @if (professorSelectedResearchGroupAreas.Any())
                                                                                                    {
                                                                                                            <ul class="list-group selected-areas-list">
                                                                                                            @foreach (var area in professorSelectedResearchGroupAreas)
                                                                                                            {
                                                                                                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                                                                    @if (area.Contains(" - "))
                                                                                                                    {
                                                                                                                        var parts = area.Split(new[] { " - " }, StringSplitOptions.None);
                                                                                                                        <span>
                                                                                                                        <span class="text-muted">@parts[0] - </span>
                                                                                                                        <span class="fw-bold">@parts[1]</span>
                                                                                                                        </span>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                         <span>@area</span>
                                                                                                                    }
                                                                                                                          <button class="btn btn-danger btn-sm" @onclick="() => RemoveProfessorSelectedResearchGroupArea(area)">
                                                                                                                                  <i class="fas fa-times"></i>
                                                                                                                           </button>
                                                                                                                  </li>
                                                                                                             }
                                                                                                            </ul>
                                                                                                    }
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- Search Research Group by Skills -->
                                                                                            <div class="col-md-4 position-relative mt-3">
                                                                                                <label for="searchResearchGroupSkillsAsProfessorToFindResearchGroup" style="font-weight: bold;">Τεχνολογίες</label>
                                                                                                <input 
                                                                                                    type="text" 
                                                                                                    id="searchResearchGroupSkillsAsProfessorToFindResearchGroup"
                                                                                                    class="form-control" 
                                                                                                    placeholder="Αναζήτηση με δεξιότητες" 
                                                                                                    @bind="searchResearchGroupSkillsAsProfessorToFindResearchGroup" 
                                                                                                    @oninput="HandleProfessorResearchGroupSkillsInput"
                                                                                                    @onkeydown="HandleProfessorResearchGroupSkillsKeyDown" />

                                                                                                <!-- Suggestions dropdown for Research Skills -->
                                                                                                <ul class="list-group position-absolute" 
                                                                                                    style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                                                    hidden="@(!professorResearchGroupSkillsSuggestions.Any())">
                                                                                                    @foreach (var suggestion in professorResearchGroupSkillsSuggestions)
                                                                                                    {
                                                                                                      <li class="list-group-item list-group-item-action" 
                                                                                                          @onclick="() => SelectProfessorResearchGroupSkillsSuggestion(suggestion)">
                                                                                                            @suggestion
                                                                                                      </li>
                                                                                                    }
                                                                                                </ul>

                                                                                                <!-- Selected Research Skills -->
                                                                                                <div class="mt-3 selected-skills-container">
                                                                                                @if (professorSelectedResearchGroupSkills.Any())
                                                                                                {
                                                                                                    <ul class="list-group selected-skills-list">
                                                                                                        @foreach (var skill in professorSelectedResearchGroupSkills)
                                                                                                        {
                                                                                                             <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                                                                @skill
                                                                                                                <button class="btn btn-danger btn-sm" @onclick="() => RemoveProfessorSelectedResearchGroupSkill(skill)">
                                                                                                                    <i class="fas fa-times"></i>
                                                                                                                 </button>
                                                                                                             </li>
                                                                                                        } 
                                                                                                    </ul>
                                                                                                }
                                                                                                </div>
                                                                                            </div>

                                                                                            <!-- Search Research Group by Keywords -->
                                                                                            <div class="col-md-4 position-relative mt-3">
                                                                                                <label for="searchResearchGroupKeywordsAsProfessorToFindResearchGroup" style="font-weight: bold;">Λέξεις Κλειδιά</label>
                                                                                                <input 
                                                                                                    type="text" 
                                                                                                    id="searchResearchGroupKeywordsAsProfessorToFindResearchGroup"
                                                                                                    class="form-control" 
                                                                                                    placeholder="Αναζήτηση με λέξεις κλειδιά" 
                                                                                                    @bind="searchResearchGroupKeywordsAsProfessorToFindResearchGroup" />
                                                                                            </div>
                                                                                            <br/>
                                                                                            <br/>
                                                                                            <div class="row mb-3">
                                                                                                <div class="col-md-12">
                                                                                                    <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="SearchResearchGroupsAsProfessor">
                                                                                                        <i class="fa-brands fa-searchengin" style="margin-right: 8px;"></i>Αναζήτηση
                                                                                                    </button>
                                                                                                    <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="ClearProfessorSearchFieldsToFindResearchGroup">
                                                                                                        <i class="fa-solid fa-broom" style="margin-right: 8px;"></i>Εκκαθάριση
                                                                                                    </button>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <br/>
                                                                                        <br/>
                                                                                        <!-- Results Table -->
                                                                                        @if (professorHasSearchedForResearchGroups && professorSearchResultsToFindResearchGroup != null)
                                                                                        {
                                                                                            if (professorSearchResultsToFindResearchGroup.Any())
                                                                                            {
                                                                                                        <div class="col-md-2">
                                                                                                            <label style="color: #2d3748; font-weight: bold; font-size: 15px; display: block;">Αποτελέσματα ανά Σελίδα</label>
                                                                                                            <div class="input-group" style="max-width: 65px;">
                                                                                                                <select class="form-control form-control-sm" @onchange="OnProfessorPageSizeChange_SearchForResearchGroups" aria-label="Items per page">
                                                                                                                    @foreach (var option in professorPageSizeOptions_SearchForResearchGroups)
                                                                                                                    {
                                                                                                                            <option value="@option" selected="@(professorResearchGroupsPerPage_SearchForResearchGroups == option)">@option</option>
                                                                                                                    }
                                                                                                                </select>
                                                                                                                <div class="input-group-append">
                                                                                                                    <span class="input-group-text">
                                                                                                                        <i class="fas fa-chevron-down"></i>
                                                                                                                    </span>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </div>

                                                                                                        <table class="table mt-4">
                                                                                                            <thead>
                                                                                                                <tr>
                                                                                                                    <td colspan="9" style="padding: 0;">
                                                                                                                        <div style="display: flex; justify-content: space-between; align-items: center; height: 24px; line-height: 24px; width: 100%;">
                                                                                                                            <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd;"></i>
                                                                                                                            <label class="form-label" style="color: #0d6efd; font-weight: bold; font-size: 18px; margin: 0;">Αποτέλεσμα Αναζήτησης</label>
                                                                                                                            <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd;"></i>
                                                                                                                        </div>
                                                                                                                    </td>
                                                                                                                </tr>
                                                                                                                <tr style="background-color: lightgray; border: 2px solid black;">
                                                                                                                    <th style="border: 2px solid black;">
                                                                                                                        <i class="fa-solid fa-users fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Όνομα Ομάδας
                                                                                                                    </th>
                                                                                                                    <th style="border: 2px solid black;">
                                                                                                                        <i class="fa-solid fa-globe fa-sm" style="color: #0d6efd; margin-right: 8px;"></i>
                                                                                                                        Ιστοσελίδα Ομάδας
                                                                                                                    </th>
                                                                                                                    <th style="border: 2px solid black;">
                                                                                                                        <i class="fa-solid fa-building fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Σχολή
                                                                                                                    </th>
                                                                                                                    <th style="border: 2px solid black;">
                                                                                                                        <i class="fa-solid fa-building fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Τμήμα
                                                                                                                    </th>
                                                                                                                    <th style="border: 2px solid black;">
                                                                                                                        <i class="fa-solid fa-tags fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Περιοχές Έρευνας
                                                                                                                    </th>
                                                                                                                    <th style="border: 2px solid black;">
                                                                                                                        <i class="fa-solid fa-tools fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Τεχνολογίες
                                                                                                                    </th>
                                                                                                                    <th style="border: 2px solid black;">
                                                                                                                        <i class="fa-solid fa-key fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Λέξεις Κλειδιά
                                                                                                                    </th>
                                                                                                                </tr>
                                                                                                            </thead>
                                                                                                            <tbody>
                                                                                                                @foreach (var researchGroup in GetProfessorPaginatedResearchGroupResults())
                                                                                                                {
                                                                                                                        <tr>
                                                                                                                            <td style="font-weight: 500;">
                                                                                                                                <!-- Modal View -->
                                                                                                                                <a href="#" style="text-decoration: none; color: #0d6efd;" 
                                                                                                                                   @onclick="() => ShowProfessorResearchGroupDetailsModal(researchGroup)" 
                                                                                                                                   title="Γρήγορη Επισκόπηση">
                                                                                                                                    @researchGroup.ResearchGroupName
                                                                                                                                </a>
                                                                                                                            </td>
                                                                                                                            <td>
                                                                                                                                <a href="/researchGroupDetails?id=@researchGroup.ResearchGroup_UniqueID" 
                                                                                                                                   target="_blank"
                                                                                                                                   rel="noopener noreferrer"
                                                                                                                                   title="Πλήρης Προβολή σε Νέα Σελίδα"
                                                                                                                                   style="text-decoration: none; color: #0d6efd;">
                                                                                                                                    <i class="fas fa-external-link-alt me-1"></i>
                                                                                                                                    Ιστοσελίδα
                                                                                                                                </a>
                                                                                                                            </td>
                                                                                                                            <td>@researchGroup.ResearchGroupSchool</td>
                                                                                                                            <td>@researchGroup.ResearchGroupUniversityDepartment</td>
                                                                                                                            <td>
                                                                                                                                @string.Join(", ", researchGroup.ResearchGroupAreas)
                                                                                                                            </td>
                                                                                                                            <td>
                                                                                                                                 @string.Join(", ", researchGroup.ResearchGroupSkills)
                                                                                                                            </td>
                                                                                                                            <td>
                                                                                                                                 @string.Join(", ", researchGroup.ResearchGroupKeywords)
                                                                                                                            </td>
                                                                                                                        </tr>
                                                                                                                     }
                                                                                                            </tbody>
                                                                                                        </table>
                                                                                                        <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                                                            <!-- First Page (<<) -->
                                                                                                            <span class="pagination-item @(professorCurrentResearchGroupPage_SearchForResearchGroups == 1 ? "disabled" : "")" 
                                                                                                                  @onclick="@(() => GoToProfessorFirstResearchGroupPage())">
                                                                                                                &lt;&lt;
                                                                                                            </span>

                                                                                                            <!-- Previous Page (<) -->
                                                                                                            <span class="pagination-item @(professorCurrentResearchGroupPage_SearchForResearchGroups == 1 ? "disabled" : "")" 
                                                                                                                  @onclick="@(() => PreviousProfessorResearchGroupPage())">
                                                                                                                &lt;
                                                                                                            </span>

                                                                                                            <!-- Page Numbers -->
                                                                                                            @foreach (var pageNum in GetProfessorVisibleResearchGroupPages())
                                                                                                            {
                                                                                                                @if (pageNum == -1)
                                                                                                                {
                                                                                                                     <span class="pagination-ellipsis">...</span>
                                                                                                                }
                                                                                                                else
                                                                                                                    {
                                                                                                                       <span class="pagination-item @(pageNum == professorCurrentResearchGroupPage_SearchForResearchGroups ? "active" : "")" 
                                                                                                                             @onclick="@(() => GoToProfessorResearchGroupPage(pageNum))">
                                                                                                                             @pageNum
                                                                                                                        </span>
                                                                                                                    }
                                                                                                              }

                                                                                                            <!-- Next Page (>) -->
                                                                                                            <span class="pagination-item @(professorCurrentResearchGroupPage_SearchForResearchGroups == professorTotalResearchGroupPages_SearchForResearchGroups ? "disabled" : "")" 
                                                                                                                  @onclick="@(() => NextProfessorResearchGroupPage())">
                                                                                                                &gt;
                                                                                                            </span>

                                                                                                            <!-- Last Page (>>) -->
                                                                                                            <span class="pagination-item @(professorCurrentResearchGroupPage_SearchForResearchGroups == professorTotalResearchGroupPages_SearchForResearchGroups ? "disabled" : "")" 
                                                                                                                  @onclick="@(() => GoToProfessorLastResearchGroupPage())">
                                                                                                                &gt;&gt;
                                                                                                            </span>

                                                                                                            <!-- Page counter -->
                                                                                                            <span class="ms-3">Σελίδα @professorCurrentResearchGroupPage_SearchForResearchGroups από @professorTotalResearchGroupPages_SearchForResearchGroups</span>
                                                                                                        </div>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <div class="alert alert-warning d-flex align-items-center" role="alert">
                                                                                                          <i class="fas fa-exclamation-triangle me-2"></i>
                                                                                                          <div>Δεν βρέθηκε κάποιο αποτέλεσμα που να πληρεί τα κριτήρια της Αναζήτησης σας.</div>
                                                                                                        </div>
                                                                                                    }
                                                                                                }
                                                                                        }
                                                                                </div>

                                                                                <!-- Modal for displaying research group details FOR SEARCH AS PROFESSOR -->
                                                                                @if (showResearchGroupDetailsModalWhenSearchForResearchGroupsAsProfessor && selectedResearchGroupWhenSearchForResearchGroupsAsProfessor != null)
                                                                                {
                                                                                    <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                                        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                                            <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                                                <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                                    <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                                        @selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroupName
                                                                                                    </h5>
                                                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                                            @onclick="CloseModalResearchGroupDetailsOnEyeIconWhenSearchForResearchGroupsAsProfessor"
                                                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                        <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                                    </button>
                                                                                                </div>
                                                                                                <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                                    <!-- Research Group Logo -->
                                                                                                    <div class="text-center mb-4">
                                                                                                        @if (selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroupImage != null && selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroupImage.Length > 0)
                                                                                                        {
                                                                                                            var base64Image = Convert.ToBase64String(selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroupImage);
                                                                                                            <img src="data:image/jpeg;base64,@base64Image" 
                                                                                                                 alt="Λογότυπο Ερευνητικής Ομάδας"
                                                                                                                 style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <div style="width: 150px; height: 150px; border-radius: 50%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; margin: 0 auto; border: 3px solid #ddd;">
                                                                                                                <i class="fas fa-users" style="font-size: 3rem; color: #6c757d;"></i>
                                                                                                            </div>
                                                                                                            <p style="color: #6c757d; margin-top: 8px;">Δεν υπάρχει λογότυπο Ομάδας</p>
                                                                                                        }
                                                                                                    </div>

                                                                                                    <!-- Research Group Name -->
                                                                                                    <div class="form-group">
                                                                                                        <label style="font-weight: bold;">Όνομα Ομάδας</label>
                                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                            <i class="fas fa-users mr-2 text-primary"></i>
                                                                                                            <span>@selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroupName</span>
                                                                                                        </div>
                                                                                                    </div>

                                                                                                    <!-- Research Group School -->
                                                                                                    <div class="form-group">
                                                                                                        <label style="font-weight: bold;">Σχολή</label>
                                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                            <i class="fas fa-university mr-2 text-primary"></i>
                                                                                                            <span>@selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroupSchool</span>
                                                                                                        </div>
                                                                                                    </div>

                                                                                                    <!-- Research Group University Department -->
                                                                                                    <div class="form-group">
                                                                                                        <label style="font-weight: bold;">Τμήμα Πανεπιστημίου</label>
                                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                            <i class="fas fa-building mr-2"></i>
                                                                                                            <span>@selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroupUniversityDepartment</span>
                                                                                                        </div>
                                                                                                    </div>

                                                                                                    <!-- Research Group Email -->
                                                                                                    <div class="form-group">
                                                                                                        <label style="font-weight: bold;">Email</label>
                                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                            <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                                            <span>@selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroupEmail</span>
                                                                                                        </div>
                                                                                                    </div>

                                                                                                    <!-- Research Group Contact Email -->
                                                                                                    @if (!string.IsNullOrEmpty(selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroupContactEmail))
                                                                                                    {
                                                                                                        <div class="form-group">
                                                                                                            <label style="font-weight: bold;">Email Επικοινωνίας</label>
                                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                <i class="fas fa-envelope mr-2"></i>
                                                                                                                <span>@selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroupContactEmail</span>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    }

                                                                                                    <!-- Research Group Telephone -->
                                                                                                    @if (!string.IsNullOrEmpty(selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroupTelephoneNumber))
                                                                                                    {
                                                                                                        <div class="form-group">
                                                                                                            <label style="font-weight: bold;">Τηλέφωνο</label>
                                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                <i class="fas fa-phone mr-2 text-success"></i>
                                                                                                                <span>@selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroupTelephoneNumber</span>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    }

                                                                                                    <!-- Research Group Areas -->
                                                                                                    <div class="form-group">
                                                                                                        <label style="font-weight: bold;">Περιοχές Έρευνας</label>
                                                                                                        <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroupAreas</textarea>
                                                                                                    </div>

                                                                                                    <!-- Research Group Skills -->
                                                                                                    <div class="form-group">
                                                                                                        <label style="font-weight: bold;">Δεξιότητες</label>
                                                                                                        <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroupSkills</textarea>
                                                                                                    </div>

                                                                                                    <!-- Research Group Keywords -->
                                                                                                    <div class="form-group">
                                                                                                        <label style="font-weight: bold;">Λέξεις Κλειδιά</label>
                                                                                                        <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroupKeywords</textarea>
                                                                                                    </div>

                                                                                                    <!-- Faculty Members -->
                                                                                                    <div class="form-group">
                                                                                                        <label style="font-weight: bold;">Ακαδημαϊκό Προσωπικό</label>
                                                                                                        <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; min-height: 60px; padding: 12px;">
                                                                                                            @if (facultyMembers.Any())
                                                                                                            {
                                                                                                                @foreach (var member in facultyMembers)
                                                                                                                {
                                                                                                                    <span class="badge bg-info me-1 mb-1" style="font-size: 0.875rem;">@member.FullName</span>
                                                                                                                }
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                <span style="color: #6c757d;">Δεν υπάρχουν ακαδημαϊκοί μέλη</span>
                                                                                                            }
                                                                                                        </div>
                                                                                                    </div>

                                                                                                    <!-- Non-Faculty Members -->
                                                                                                    <div class="form-group">
                                                                                                        <label style="font-weight: bold;">Μη Ακαδημαϊκό Προσωπικό</label>
                                                                                                        <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; min-height: 60px; padding: 12px;">
                                                                                                            @if (nonFacultyMembers.Any())
                                                                                                            {
                                                                                                                @foreach (var member in nonFacultyMembers)
                                                                                                                {
                                                                                                                    <span class="badge bg-warning text-dark me-1 mb-1" style="font-size: 0.875rem;">@member.FullName</span>
                                                                                                                }
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                <span style="color: #6c757d;">Δεν υπάρχουν μη ακαδημαϊκά μέλη</span>
                                                                                                            }
                                                                                                        </div>
                                                                                                    </div>

                                                                                                    <!-- Patents Count -->
                                                                                                    <div class="form-group">
                                                                                                        <label style="font-weight: bold;">Αριθμός Πατεντών</label>
                                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                            <i class="fas fa-certificate mr-2" style="color: #ffc107;"></i>
                                                                                                            <span>@professorPatentsCount</span>
                                                                                                        </div>
                                                                                                    </div>

                                                                                                    <!-- Active Research Actions Count -->
                                                                                                    <div class="form-group">
                                                                                                        <label style="font-weight: bold;">Ενεργές Ερευνητικές Δράσεις</label>
                                                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                            <i class="fas fa-flask mr-2" style="color: #28a745;"></i>
                                                                                                            <span>@professorActiveResearchActionsCount</span>
                                                                                                        </div>
                                                                                                    </div>

                                                                                                    <!-- Spin-off Companies -->
                                                                                                    <div class="form-group">
                                                                                                        <label style="font-weight: bold;">Spin-off Εταιρεία</label>
                                                                                                        <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; min-height: 60px; padding: 12px;">
                                                                                                            @if (spinOffCompanies.Any())
                                                                                                            {
                                                                                                                @foreach (var spinoff in spinOffCompanies)
                                                                                                                {
                                                                                                                    <div class="mb-2">
                                                                                                                        <span style="font-weight: 500;">@spinoff.CompanyTitle</span>
                                                                                                                        <span style="color: #6c757d;">(ΑΦΜ: @spinoff.CompanyAFM)</span>
                                                                                                                    </div>
                                                                                                                }
                                                                                                            }
                                                                                                            else
                                                                                                            {
                                                                                                                <span style="color: #6c757d;">Δεν υπάρχουν spin-off εταιρείες</span>
                                                                                                            }
                                                                                                        </div>
                                                                                                    </div>

                                                                                                    <!-- Website -->
                                                                                                    @if (!string.IsNullOrEmpty(selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroup_Website))
                                                                                                    {
                                                                                                        <div class="form-group">
                                                                                                            <label style="font-weight: bold;">Ιστοσελίδα</label>
                                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                <i class="fas fa-globe mr-2 text-info"></i>
                                                                                                                <a href="@selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroup_Website" target="_blank" 
                                                                                                                   class="text-primary text-decoration-underline">
                                                                                                                    @selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroup_Website
                                                                                                                </a>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    }

                                                                                                    <!-- Facebook -->
                                                                                                    @if (!string.IsNullOrEmpty(selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroup_Facebook))
                                                                                                    {
                                                                                                        <div class="form-group">
                                                                                                            <label style="font-weight: bold;">Facebook</label>
                                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                <i class="fab fa-facebook mr-2" style="color: #3b5998;"></i>
                                                                                                                <a href="@selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroup_Facebook" target="_blank" 
                                                                                                                   class="text-primary text-decoration-underline">
                                                                                                                    @selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroup_Facebook
                                                                                                                </a>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    }

                                                                                                    <!-- Twitter -->
                                                                                                    @if (!string.IsNullOrEmpty(selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroup_Twitter))
                                                                                                    {
                                                                                                        <div class="form-group">
                                                                                                            <label style="font-weight: bold;">Twitter</label>
                                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                <i class="fab fa-twitter mr-2" style="color: #1da1f2;"></i>
                                                                                                                <a href="@selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroup_Twitter" target="_blank" 
                                                                                                                   class="text-primary text-decoration-underline">
                                                                                                                    @selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroup_Twitter
                                                                                                                </a>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    }

                                                                                                    <!-- LinkedIn -->
                                                                                                    @if (!string.IsNullOrEmpty(selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroup_LinkedIn))
                                                                                                    {
                                                                                                        <div class="form-group">
                                                                                                            <label style="font-weight: bold;">LinkedIn</label>
                                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                <i class="fab fa-linkedin mr-2" style="color: #0077b5;"></i>
                                                                                                                <a href="@selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroup_LinkedIn" target="_blank" 
                                                                                                                   class="text-primary text-decoration-underline">
                                                                                                                    @selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroup_LinkedIn
                                                                                                                </a>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    }

                                                                                                    <!-- YouTube -->
                                                                                                    @if (!string.IsNullOrEmpty(selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroup_YouTubeChannel))
                                                                                                    {
                                                                                                        <div class="form-group">
                                                                                                            <label style="font-weight: bold;">YouTube</label>
                                                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                <i class="fab fa-youtube mr-2" style="color: #ff0000;"></i>
                                                                                                                <a href="@selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroup_YouTubeChannel" target="_blank" 
                                                                                                                   class="text-primary text-decoration-underline">
                                                                                                                    @selectedResearchGroupWhenSearchForResearchGroupsAsProfessor.ResearchGroup_YouTubeChannel
                                                                                                                </a>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    }
                                                                                                </div>
                                                                                                <div class="modal-footer">
                                                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                                            @onclick="CloseModalResearchGroupDetailsOnEyeIconWhenSearchForResearchGroupsAsProfessor"
                                                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                        <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                                                    </button>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                }
                                                    @*SEARCH RESEARCH GROUP AS PROFESSOR - END - *@
                                                  
                                                  
                                                    @if (showCompanyDetailsModal && selectedCompany != null)
                                                    {
                                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                        <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                            @selectedCompany.CompanyNameENG
                                                                        </h5>
                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                @onclick="CloseCompanyDetailsModalWhenSearchAsProfessor"
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                        </button>
                                                                    </div>
                                                                    <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                        <!-- Company Logo -->
                                                                        <div class="text-center mb-4">
                                                                            @if (selectedCompany.CompanyLogo != null)
                                                                            {
                                                                                <img src="data:image/png;base64,@Convert.ToBase64String(selectedCompany.CompanyLogo)" 
                                                                                     alt="Company Logo"
                                                                                     style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                            }
                                                                            else
                                                                            {
                                                                                <div style="width: 150px; height: 150px; border-radius: 50%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; margin: 0 auto; border: 3px solid #ddd;">
                                                                                    <i class="fas fa-building" style="font-size: 3rem; color: #6c757d;"></i>
                                                                                </div>
                                                                            }
                                                                        </div>

                                                                        <!-- Company Details -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Σύντομη Ονομασία</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-tag mr-2"></i>
                                                                                <span>@(!string.IsNullOrWhiteSpace(selectedCompany.CompanyShortName) ? selectedCompany.CompanyShortName : "Δεν έχει Καθοριστεί")</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Τύπος Εταιρείας</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-industry mr-2"></i>
                                                                                <span>@selectedCompany.CompanyType</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Email Εταιρείας</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                <span>@selectedCompany.CompanyEmail</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Ιστοσελίδα Εταιρείας</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-globe mr-2 text-info"></i>
                                                                                @if (!string.IsNullOrWhiteSpace(selectedCompany.CompanyWebsite))
                                                                                {
                                                                                    <a href="@selectedCompany.CompanyWebsite" target="_blank" 
                                                                                       class="text-primary text-decoration-underline">
                                                                                        @selectedCompany.CompanyWebsite
                                                                                    </a>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span style="color: #6c757d;">Δεν υπάρχει</span>
                                                                                }
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Περιγραφή Εταιρείας</label>
                                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedCompany.CompanyDescription</textarea>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Δραστηριότητα Εταιρείας</label>
                                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedCompany.CompanyActivity</textarea>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Περιοχές Ενδιαφέροντος</label>
                                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedCompany.CompanyAreas</textarea>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Χώρα</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-flag mr-2"></i>
                                                                                <span>@selectedCompany.CompanyCountry</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Περιφέρεια</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-map mr-2"></i>
                                                                                <span>@selectedCompany.CompanyRegions</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Πόλη</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-city mr-2"></i>
                                                                                <span>@selectedCompany.CompanyTown</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Διεύθυνση</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-map-marker-alt mr-2 text-danger"></i>
                                                                                @if (!string.IsNullOrEmpty(selectedCompany.CompanyLocation))
                                                                                {
                                                                                    <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(selectedCompany.CompanyLocation)"
                                                                                       target="_blank"
                                                                                       class="text-primary text-decoration-underline">
                                                                                        @selectedCompany.CompanyLocation
                                                                                    </a>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span style="color: #6c757d;">Δεν έχει οριστεί διεύθυνση</span>
                                                                                }
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Ταχυδρομικός Κώδικας</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-envelope-open-text mr-2"></i>
                                                                                <span>@selectedCompany.CompanyPC</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Τηλέφωνο Εταιρείας</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-phone mr-2 text-success"></i>
                                                                                <span>@selectedCompany.CompanyTelephone</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Ιστοσελίδα Ανακοινώσεων</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-bullhorn mr-2 text-info"></i>
                                                                                @if (!string.IsNullOrWhiteSpace(selectedCompany.CompanyWebsiteAnnouncements))
                                                                                {
                                                                                    <a href="@selectedCompany.CompanyWebsiteAnnouncements" target="_blank" 
                                                                                       class="text-primary text-decoration-underline">
                                                                                        @selectedCompany.CompanyWebsiteAnnouncements
                                                                                    </a>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span style="color: #6c757d;">Δεν υπάρχει</span>
                                                                                }
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Ιστοσελίδα Θέσεων Εργασίας</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-briefcase mr-2 text-info"></i>
                                                                                @if (!string.IsNullOrWhiteSpace(selectedCompany.CompanyWebsiteJobs))
                                                                                {
                                                                                    <a href="@selectedCompany.CompanyWebsiteJobs" target="_blank" 
                                                                                       class="text-primary text-decoration-underline">
                                                                                        @selectedCompany.CompanyWebsiteJobs
                                                                                    </a>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span style="color: #6c757d;">Δεν υπάρχει</span>
                                                                                }
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Υπεύθυνος Ανθρώπινου Δυναμικού</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-user-tie mr-2 text-primary"></i>
                                                                                <span>@selectedCompany.CompanyHRName @selectedCompany.CompanyHRSurname</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Email Υπεύθυνου</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                <span>@selectedCompany.CompanyHREmail</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Τηλέφωνο Υπεύθυνου</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-phone mr-2 text-success"></i>
                                                                                <span>@selectedCompany.CompanyHRTelephone</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Επικεφαλής Τμήματος Έρευνας και Ανάπτυξης</label>
                                                                            <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@selectedCompany.RnD_HeadName" readonly />
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Υπεύθυνος Επικοινωνίας Τμήματος Έρευνας και Ανάπτυξης</label>
                                                                            <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@selectedCompany.RnD_ContactPersonFullName" readonly />
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Email Επικοινωνίας Υπευθύνου Τμήματος Έρευνας και Ανάπτυξης</label>
                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-envelope" style="color: #4682B4; margin-right: 8px;"></i>
                                                                                @if (!string.IsNullOrEmpty(selectedCompany.RnD_ContactPersonEmail))
                                                                                {
                                                                                    <a href="mailto:@selectedCompany.RnD_ContactPersonEmail" 
                                                                                       style="color: #007bff; text-decoration: underline; word-break: break-all;">
                                                                                        @selectedCompany.RnD_ContactPersonEmail
                                                                                    </a>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span style="color: #6c757d;">Δεν υπάρχει email</span>
                                                                                }
                                                                            </div>
                                                                        </div>

                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                @onclick="CloseCompanyDetailsModalWhenSearchAsProfessor"
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    }





                                              </div>                                                                                                                                                                                                  
                                    </div>                                                                                                     
                                </div>
                                @if (isCompanyDetailModalVisibleForHyperlinkNameToShowCompanyDetailsToTheProfessor)
                                {
                                    <div id="companyDetailsWhenSearchAsProfessorThesisDetailsModal" class="modal fade @(isExpandedModalVisibleToSeeCompanyDetailsAsProfessor ? "show d-block" : "")" 
                                        tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" style="color: #4682B4;">
                                                        @selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyName
                                                    </h5>
                                                    <button type="button" class="close" @onclick="CloseCompanyModalToShowCompanyDetailsFromHyperlinkNameToTheProfessor">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <!-- Logo or fallback icon -->
                                                    <div class="form-group text-center">
                                                        @if (selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyLogo != null)
                                                        {
                                                            <img src="data:image/png;base64,@Convert.ToBase64String(selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyLogo)" 
                                                                 alt="Company Logo"
                                                                 class="rounded-circle img-fluid"
                                                                 style="max-width: 150px; max-height: 150px; object-fit: cover;" />
                                                        }
                                                        else
                                                        {
                                                            <div class="d-flex justify-content-center align-items-center" 
                                                                 style="width: 150px; height: 150px; background-color: #f8f9fa; border-radius: 50%; margin: 0 auto;">
                                                                <i class="fas fa-building" style="font-size: 3rem; color: #6c757d;"></i>
                                                            </div>
                                                        }
                                                    </div>

                                                    <div class="form-group">
                                                        <label><strong>Όνομα Εταιρείας</strong></label>
                                                        <input type="text" class="form-control" value="@selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyName" readonly />
                                                    </div>

                                                    <div class="form-group">
                                                        <label><strong>Email Εταιρείας</strong></label>
                                                        <div class="form-control d-flex align-items-center" style="height: auto;">
                                                            <i class="fas fa-envelope" style="color: #6c757d; margin-right: 8px;"></i>
                                                            <span class="flex-grow-1">@selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyEmail</span>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label><strong>Τηλέφωνο Εταιρείας</strong></label>
                                                        <div class="form-control d-flex align-items-center" style="height: auto;">
                                                            <i class="fas fa-phone" style="color: #6c757d; margin-right: 8px;"></i>
                                                            <span class="flex-grow-1">@selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyTelephone</span>
                                                        </div>
                                                    </div>

                                                    @if (!string.IsNullOrWhiteSpace(selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyDescription))
                                                    {
                                                        <div class="form-group">
                                                            <label><strong>Περιγραφή</strong></label>
                                                            <textarea class="form-control" rows="4" readonly>@selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyDescription</textarea>
                                                        </div>
                                                    }

                                                    <div class="form-group">
                                                        <label><strong>Τύπος Εταιρείας</strong></label>
                                                        <input type="text" class="form-control" value="@selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyType" readonly />
                                                    </div>

                                                    <div class="form-group">
                                                        <label><strong>Δραστηριότητα Εταιρείας</strong></label>
                                                        <textarea class="form-control" readonly>@selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyActivity</textarea>
                                                    </div>

                                                    <div class="form-group">
                                                        <label><strong>Πόλη</strong></label>
                                                        <div class="form-control d-flex align-items-center" style="height: auto;">
                                                            <i class="fa-solid fa-city" style="color: #6c757d; margin-right: 8px;"></i>
                                                            <span class="flex-grow-1">@selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyTown</span>
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label><strong>Περιοχές</strong></label>
                                                        <textarea class="form-control" rows="2" readonly>@selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyAreas</textarea>
                                                    </div>

                                                    <div class="form-group">
                                                        <label><strong>Επιθυμητές Δεξιότητες</strong></label>
                                                        <textarea class="form-control" rows="3" readonly>@selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyDesiredSkills</textarea>
                                                    </div>

                                                    @if (!string.IsNullOrWhiteSpace(selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyWebsite))
                                                    {
                                                        <div class="form-group">
                                                            <label><strong>Ιστοσελίδα</strong></label>
                                                            <div class="form-control d-flex align-items-center" style="height: auto; cursor: pointer; color: #007bff;"
                                                                 @onclick="() => OpenUrl(selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyWebsite)">
                                                                <i class="fa-solid fa-globe" style="margin-right: 8px;"></i>
                                                                <span class="flex-grow-1">@selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyWebsite</span>
                                                            </div>
                                                        </div>
                                                    }

                                                    @if (!string.IsNullOrWhiteSpace(selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyLocation))
                                                    {
                                                        <div class="form-group">
                                                            <label><strong>Τοποθεσία</strong></label>
                                                            <div class="form-control d-flex align-items-center mt-1" style="height: auto;">
                                                                <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                <span @onclick="() => OpenMap(selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyLocation)"
                                                                      style="color: #007bff; text-decoration: underline; cursor: pointer; word-break: break-word;">
                                                                    @selectedCompanyNameAsHyperlinkToShowDetailsToTheProfessor.CompanyLocation
                                                                </span>
                                                            </div>
                                                        </div>
                                                    }

                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" @onclick="CloseCompanyModalToShowCompanyDetailsFromHyperlinkNameToTheProfessor">Κλείσιμο</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }


                                                 




                                                        <!-- Modal for SHOW THESIS DETAILS WHEN SEARCH FOR COMPANY THESIS as PROFESSOR (EYE ICON) -->
                                                        @*
                                                        @if (isThesisDetailEyeIconModalVisibleToSeeAsProfessor && selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor != null)
                                                        {
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0,0,0,0.5);">
                                                                <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                                                                    <div class="modal-content">
                                                                        <div class="modal-header">
                                                                            <h5 class="modal-title">Λεπτομέρειες Διπλωματικής</h5>
                                                                            <button type="button" class="btn-close" @onclick="() => isThesisDetailEyeIconModalVisibleToSeeAsProfessor = false" aria-label="Κλείσιμο"></button>
                                                                        </div>
                                                                        <div class="modal-body">
                                                                            <div class="form-group">
                                                                                <label for="viewCompanyThesisCompanyName">Όνομα Εταιρείας</label>
                                                                                <input type="text" id="viewCompanyThesisCompanyName" class="form-control" value="@selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyNameUploadedThesis" readonly />
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="viewCompanyThesisTitle">Τίτλος Διπλωματικής</label>
                                                                                <input type="text" id="viewCompanyThesisTitle" class="form-control" value="@selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisTitle" readonly />
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="viewCompanyThesisSupervisor">Επιβλέπων Εταιρείας</label>
                                                                                <input type="text" id="viewCompanyThesisSupervisor" class="form-control" value="@selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisCompanySupervisorFullName" readonly />
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="viewCompanyThesisDepartment">Υπεύθυνο Τμήμα</label>
                                                                                <input type="text" id="viewCompanyThesisDepartment" class="form-control" value="@selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisDepartment" readonly />
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="viewCompanyThesisSkillsNeeded">Τομείς Ενδιαφέροντος</label>
                                                                                <textarea id="viewCompanyThesisSkillsNeeded" class="form-control" readonly>@selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisSkillsNeeded</textarea>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="viewCompanyThesisUploadDate">Έναρξη Διπλωματικής</label>
                                                                                <input type="text" id="viewCompanyThesisUploadDate" class="form-control" value="@selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisStartingDate.ToShortDateString()" readonly />
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="viewCompanyThesisDescription">Περιγραφή</label>
                                                                                <textarea id="viewCompanyThesisDescription" class="form-control" readonly>@selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisDescriptionsUploaded</textarea>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="btn btn-secondary" @onclick="() => isThesisDetailEyeIconModalVisibleToSeeAsProfessor = false">Κλείσιμο</button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }
                                                        *@


                                                        @if (isThesisDetailEyeIconModalVisibleToSeeAsProfessor && selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor != null)
                                                        {
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                    <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                        <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                            <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                @selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisTitle
                                                                            </h5>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                    @onclick="() => isThesisDetailEyeIconModalVisibleToSeeAsProfessor = false"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                            </button>
                                                                        </div>
                                                                        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                            <!-- Company Name -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Εταιρεία</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-building mr-2"></i>
                                                                                    <span>@(selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.Company?.CompanyName ?? "Άγνωστη Εταιρεία")</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Thesis Description -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιγραφή</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="4">@selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisDescriptionsUploaded</textarea>
                                                                            </div>

                                                                            <!-- Required Skills -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Απαιτούμενα Προσόντα</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisSkillsNeeded</textarea>
                                                                            </div>

                                                                            <!-- Supervisor -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Επόπτης</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-user-tie mr-2 text-primary"></i>
                                                                                    <span>@(string.IsNullOrWhiteSpace(selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisCompanySupervisorFullName) 
                                                                                        ? "Δεν Διατίθεται" 
                                                                                        : selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisCompanySupervisorFullName)</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Department -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τμήμα</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-building mr-2"></i>
                                                                                    <span>@(!string.IsNullOrEmpty(selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisDepartment) 
                                                                                        ? selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisDepartment 
                                                                                        : "Δεν Διατίθεται")</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Start Date -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Ημερομηνία Έναρξης</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-calendar-alt mr-2 text-info"></i>
                                                                                    <span>@selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisStartingDate.ToString("yyyy-MM-dd")</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Contact Email -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Email Επικοινωνίας</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                    <span>@(selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisContactPersonEmail ?? "Δεν Διατίθεται")</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Contact Phone -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τηλέφωνο Επικοινωνίας</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-phone mr-2 text-success"></i>
                                                                                    <span>@(selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisContactPersonTelephone ?? "Δεν Διατίθεται")</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Thesis Attachment -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Αρχείο Διπλωματικής</label>
                                                                                <div class="form-control d-flex align-items-center justify-content-between" style="border-radius: 8px; background-color: #f8f9fa; height: auto;">
                                                                                    <div class="d-flex align-items-center">
                                                                                        <i class="fas fa-file-pdf mr-2 text-danger"></i>
                                                                                        @if (selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisAttachmentUpload != null)
                                                                                        {
                                                                                            <span style="color: #28a745;">Διαθέσιμο Αρχείο</span>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span style="color: #6c757d;">Δεν Διατίθεται Συννημένο Αρχείο</span>
                                                                                        }
                                                                                    </div>
                                                                                    @if (selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisAttachmentUpload != null)
                                                                                    {
                                                                                        <a href="data:application/pdf;base64,@Convert.ToBase64String(selectedCompanyThesisToSeeDetailsOnEyeIconAsProfessor.CompanyThesisAttachmentUpload)" 
                                                                                           download="ThesisAttachment.pdf" 
                                                                                           class="modern-button" 
                                                                                           style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 6px 12px; transition: all 0.2s; font-size: 0.875rem; text-decoration: none;"
                                                                                           onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                           onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <i class="fas fa-download me-1"></i> Λήψη Αρχείου
                                                                                        </a>
                                                                                    }
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="() => isThesisDetailEyeIconModalVisibleToSeeAsProfessor = false"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }


                                                        @if (isEditModalVisibleForThesesAsProfessor)
                                                        {
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                                                                    <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                        <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                            <h5 class="modal-title" style="color: #007BFF; font-weight: 600; font-size: 1.25rem;">@currentThesisAsProfessor.ThesisTitle</h5>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                    @onclick="CloseEditModalForThesesAsProfessor"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                            </button>
                                                                        </div>
                                                                        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                            <!-- Title -->
                                                                            <div class="form-group">
                                                                                <label for="editTitle"><strong>Τίτλος</strong></label>
                                                                                <textarea id="editTitle" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="4" @bind="currentThesisAsProfessor.ThesisTitle"></textarea>
                                                                            </div>

                                                                            <!-- Description -->
                                                                            <div class="form-group">
                                                                                <label for="editDescription"><strong>Περιγραφή</strong></label>
                                                                                <textarea id="editDescription" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="4" @bind="currentThesisAsProfessor.ThesisDescription"></textarea>
                                                                            </div>

                                                                            <br/>
                                                                            <!-- UPDATED: Areas with Subfields for Professor Thesis -->
                                                                            <div class="form-group">
                                                                                <label @onclick="ToggleCheckboxesForEditProfessorThesis" style="cursor: pointer; display: flex; align-items: center;">
                                                                                    <strong>Τομείς Διπλωματικής</strong>
                                                                                    <span style="color: #1565c0; font-size: 0.9em; margin-left: 8px; display: flex; align-items: center;">
                                                                                        <i class="fas @(showCheckboxesForEditProfessorThesis ? "fa-chevron-up" : "fa-chevron-down")" style="margin-right: 4px;"></i>
                                                                                        @(showCheckboxesForEditProfessorThesis ? "Κλείσιμο" : "Άνοιγμα")
                                                                                    </span>
                                                                                </label>
                                                                                @if (showCheckboxesForEditProfessorThesis)
                                                                                {
                                                                                    <div id="toggleCheckboxes" class="checkbox-container" style="border: 2px solid #1565c0; border-radius: 4px; padding: 8px; background-color: #f8f9fa;">
                                                                                        @foreach (var area in Areas)
                                                                                        {
                                                                                            <div class="area-container" style="margin-bottom: 8px; border: 2px solid #1565c0; border-radius: 4px; padding: 8px; background-color: #f8f9fa;">
                                                                                                <div class="form-check area-header">
                                                                                                    <input type="checkbox"
                                                                                                           id="edit_prof_thesis_area_@area.Id"
                                                                                                           class="form-check-input"
                                                                                                           @onchange="(e) => OnAreaCheckedChangedForEditProfessorThesis(e, area)"
                                                                                                           checked="@IsAreaSelectedForEditProfessorThesis(area)" />
                                                                                                    <label class="form-check-label area-label" 
                                                                                                           for="edit_prof_thesis_area_@area.Id"
                                                                                                           @onclick="@(() => ToggleSubFieldsForEditProfessorThesis(area))"
                                                                                                           @onclick:stopPropagation="true"
                                                                                                           style="cursor: pointer; font-weight: bold; display: flex; align-items: center; justify-content: space-between; width: 100%; color: #1565c0;">
                                                                                                        @area.AreaName
                                                                                                        <span class="expand-icon" style="font-size: 10px; transition: transform 0.2s; margin-left: 8px; transform: @(ExpandedAreasForEditProfessorThesis.Contains(area.Id) ? "rotate(90deg)" : "rotate(0deg)")">▶</span>
                                                                                                    </label>
                                                                                                </div>
                                        
                                                                                                @if (ExpandedAreasForEditProfessorThesis.Contains(area.Id))
                                                                                                {
                                                                                                    <div class="subfields-container" style="margin-top: 8px; margin-left: 20px; padding-left: 15px; border-left: 2px solid #1565c0;">
                                                                                                        @if (!string.IsNullOrEmpty(area.AreaSubFields))
                                                                                                        {
                                                                                                            var subFields = area.AreaSubFields.Split(',').Select(s => s.Trim()).ToList();
                                                                                                            @foreach (var subField in subFields)
                                                                                                            {
                                                                                                                <div class="form-check subfield-checkbox" style="margin-bottom: 4px;">
                                                                                                                    <input type="checkbox"
                                                                                                                           id="edit_prof_thesis_subfield_@(area.Id)_@(subField)"
                                                                                                                           class="form-check-input"
                                                                                                                           @onchange="(e) => OnSubFieldCheckedChangedForEditProfessorThesis(e, area, subField)"
                                                                                                                           checked="@IsSubFieldSelectedForEditProfessorThesis(area, subField)" />
                                                                                                                    <label class="form-check-label" for="edit_prof_thesis_subfield_@(area.Id)_@(subField)" style="font-weight: normal; font-size: 0.9em;">
                                                                                                                        @subField
                                                                                                                    </label>
                                                                                                                </div>
                                                                                                            }
                                                                                                        }
                                                                                                    </div>
                                                                                                }
                                                                                            </div>
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>
                                                                            <br/>

                                                                            <!-- Skills -->
                                                                            <div class="form-group">
                                                                                <label for="editThesisSkills" @onclick="ToggleSkillsInEditProfessorThesisModal" style="cursor: pointer; display: flex; align-items: center;">
                                                                                    <strong>Απαιτούμενες Δεξιότητες/Γνώσεις</strong>
                                                                                    <span style="color: #1565c0; font-size: 0.9em; margin-left: 8px; display: flex; align-items: center;">
                                                                                        <i class="fas @(showExpandedSkillsInProfessorThesisEditModal ? "fa-chevron-up" : "fa-chevron-down")" style="margin-right: 4px;"></i>
                                                                                        @(showExpandedSkillsInProfessorThesisEditModal ? "Κλείσιμο" : "Άνοιγμα")
                                                                                    </span>
                                                                                </label>
                                                                                @if (showExpandedSkillsInProfessorThesisEditModal)
                                                                                {
                                                                                    <div id="toggleCheckboxesSkills" class="checkbox-container" style="border: 2px solid #1565c0; border-radius: 4px; padding: 8px; background-color: #f8f9fa;">
                                                                                        @foreach (var skill in Skills)
                                                                                        {
                                                                                            <div class="form-check" style="margin-bottom: 4px;">
                                                                                                <input type="checkbox"
                                                                                                       id="skill_@skill.Id"
                                                                                                       class="form-check-input"
                                                                                                       @onchange="(e) => OnCheckedChangedForEditProfessorThesisSkills(e, skill)"
                                                                                                       checked="@(SelectedSkillsToEditForProfessorThesis.Any(s => s.SkillName == skill.SkillName))" />
                                                                                                <label class="form-check-label" for="skill_@skill.Id" style="font-weight: normal;">@skill.SkillName</label>
                                                                                            </div>
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>
                                                                            <br/>

                                                                            <!-- Start Date -->
                                                                            <div class="form-group">
                                                                                <label for="editActivePeriod"><strong>Ημερομηνία Έναρξης</strong></label>
                                                                                <input type="date" id="editActivePeriod" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentThesisAsProfessor.ThesisActivePeriod" />
                                                                            </div>

                                                                            <!-- Department -->
                                                                            <div class="form-group">
                                                                                <label for="editDepartment"><strong>Τμήμα</strong></label>
                                                                                <div class="input-group">
                                                                                    <select id="editDepartment" class="form-control" style="border-radius: 8px 0 0 8px; background-color: #f8f9fa;" @bind="currentThesisAsProfessor.Professor.ProfDepartment">
                                                                                        <option value="">-- Επιλέξτε Τμήμα --</option>
                                                                                        @foreach (var faculty in universityDepartments)
                                                                                        {
                                                                                            <optgroup label="@faculty.Key">
                                                                                                @foreach (var department in faculty.Value)
                                                                                                {
                                                                                                    <option value="@department">@department</option>
                                                                                                }
                                                                                            </optgroup>
                                                                                        }
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #e9ecef;">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <!-- ADDED: Open Slots Field for Editing -->
                                                                            <div class="form-group">
                                                                                <label for="editProfessorThesisOpenSlots">
                                                                                    <strong>Διαθέσιμες Θέσεις</strong>
                                                                                    <span style="color: red;">*</span>
                                                                                </label>
                                                                                <input type="number" 
                                                                                       id="editProfessorThesisOpenSlots" 
                                                                                       class="form-control @(showErrorMessage && (currentThesisAsProfessor?.OpenSlots_ProfessorThesis ?? 0) < 3 ? "shake error" : "")" 
                                                                                       style="border-radius: 8px; background-color: #f8f9fa;" 
                                                                                       @bind="currentThesisAsProfessor.OpenSlots_ProfessorThesis" 
                                                                                       min="3" 
                                                                                       step="1" />
                                                                                @if (showErrorMessage && (currentThesisAsProfessor?.OpenSlots_ProfessorThesis ?? 0) < 3)
                                                                                {
                                                                                    <div class="text-danger mt-1">Ο αριθμός των διαθέσιμων θέσεων πρέπει να είναι τουλάχιστον 3.</div>
                                                                                }
                                                                                <small class="form-text text-muted">Αριθμός ανοιχτών θέσεων για αυτή τη Διπλωματική εργασία (ελάχιστο 3)</small>
                                                                            </div>

                                                                            <!-- File Upload -->
                                                                            <div class="form-group">
                                                                                <label for="editAttachment"><strong>Αντικατάσταση Συνημμένου</strong></label>
                                                                                <InputFile OnChange="HandleProfessorThesisFileUpload" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" />
                                                                            </div>

                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="CloseEditModalForThesesAsProfessor"
                                                                                    onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                    onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                <i class="fas fa-times me-2"></i> Ακύρωση
                                                                            </button>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="() => UpdateThesisAsProfessor(currentThesisAsProfessor)"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-save me-2"></i> Αποθήκευση
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }

                                                        @*MODAL TO EDIT PROFESSOR INTERNSHIP*@
                                                        @if (isEditPopupVisibleForProfessorInternships && selectedProfessorInternship != null)
                                                        {
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                    <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                        <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                            <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                @selectedProfessorInternship.ProfessorInternshipTitle
                                                                            </h5>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                    @onclick="CloseEditPopupForProfessorInternships"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                            </button>
                                                                        </div>
                                                                        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                            <!-- Form to edit the internship details -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τίτλος</label>
                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedProfessorInternship.ProfessorInternshipTitle" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιγραφή</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="4" @bind="selectedProfessorInternship.ProfessorInternshipDescription"></textarea>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τύπος</label>
                                                                                <div class="input-group">
                                                                                    <select class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(selectedProfessorInternship.ProfessorInternshipType) ? "shake error" : "")" 
                                                                                            style="border-radius: 8px 0 0 8px; background-color: #f8f9fa;" 
                                                                                            @bind="selectedProfessorInternship.ProfessorInternshipType">
                                                                                        <option value="">-- Επιλέξτε --</option>
                                                                                        <option value="Full-Time">Πλήρους Απασχόλησης</option>
                                                                                        <option value="Part-Time">Μερικής Απασχόλησης</option>
                                                                                        <option value="Part-Time_Full-Time">Μερικής ή Πλήρους Απασχόλησης</option>
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #e9ecef;">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Φορέας</label>
                                                                                <div class="input-group">
                                                                                    <select class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(selectedProfessorInternship.ProfessorInternshipForeas) ? "shake error" : "")" 
                                                                                            style="border-radius: 8px 0 0 8px; background-color: #f8f9fa;" 
                                                                                            @bind="selectedProfessorInternship.ProfessorInternshipForeas">
                                                                                        <option value="">-- Επιλέξτε --</option>
                                                                                        @foreach (var foreas in ForeasType)
                                                                                        {
                                                                                            <option value="@foreas">@foreas</option>
                                                                                        }
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #e9ecef;">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιφέρεια</label>
                                                                                <div class="input-group">
                                                                                    <select class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(selectedProfessorInternship.ProfessorInternshipPerifereiaLocation) ? "shake error" : "")" 
                                                                                            style="border-radius: 8px 0 0 8px; background-color: #f8f9fa;" 
                                                                                            @bind="selectedProfessorInternship.ProfessorInternshipPerifereiaLocation">
                                                                                        <option value="">-- Επιλέξτε Περιφέρεια --</option>
                                                                                        @foreach (var region in Regions)
                                                                                        {
                                                                                            <option value="@region">@region</option>
                                                                                        }
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #e9ecef;">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Δήμος</label>
                                                                                <div class="input-group">
                                                                                    <select class="form-control" style="border-radius: 8px 0 0 8px; background-color: #f8f9fa;" @bind="selectedProfessorInternship.ProfessorInternshipDimosLocation">
                                                                                        <option value="">-- Επιλέξτε Δήμο --</option>
                                                                                        @if (!string.IsNullOrEmpty(selectedProfessorInternship.ProfessorInternshipDimosLocation) && RegionToTownsMap.ContainsKey(selectedProfessorInternship.ProfessorInternshipPerifereiaLocation))
                                                                                        {
                                                                                            foreach (var town in RegionToTownsMap[selectedProfessorInternship.ProfessorInternshipPerifereiaLocation])
                                                                                            {
                                                                                                <option value="@town">@town</option>
                                                                                            }
                                                                                        }
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #e9ecef;">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Προσφορά Μεταφοράς</label>
                                                                                <div class="d-flex align-items-center" style="padding: 8px; border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <input type="checkbox" class="form-check-input" style="margin-right: 8px;" @bind="selectedProfessorInternship.ProfessorInternshipTransportOffer" />
                                                                                    <span style="font-weight: 500; color: @(selectedProfessorInternship.ProfessorInternshipTransportOffer ? "#28a745" : "#dc3545");">
                                                                                        @(selectedProfessorInternship.ProfessorInternshipTransportOffer ? "Ναι" : "Όχι")
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                    
                                                                            <br/>
                                                                            <!-- UPDATED: Areas with Subfields for Professor Internship -->
                                                                            <div class="form-group">
                                                                                <label @onclick="ToggleCheckboxesForEditProfessorInternship" style="cursor: pointer; display: flex; align-items: center;">
                                                                                    <strong>Τομείς Πρακτικής</strong>
                                                                                    <span style="color: #1565c0; font-size: 0.9em; margin-left: 8px; display: flex; align-items: center;">
                                                                                        <i class="fas @(showCheckboxesForEditProfessorInternship ? "fa-chevron-up" : "fa-chevron-down")" style="margin-right: 4px;"></i>
                                                                                        @(showCheckboxesForEditProfessorInternship ? "Κλείσιμο" : "Άνοιγμα")
                                                                                    </span>
                                                                                </label>
                                                                                @if (showCheckboxesForEditProfessorInternship)
                                                                                {
                                                                                    <div id="toggleCheckboxes" class="checkbox-container" style="border: 2px solid #1565c0; border-radius: 4px; padding: 8px; background-color: #f8f9fa;">
                                                                                        @foreach (var area in Areas)
                                                                                        {
                                                                                            <div class="area-container" style="margin-bottom: 8px; border: 2px solid #1565c0; border-radius: 4px; padding: 8px; background-color: #f8f9fa;">
                                                                                                <div class="form-check area-header">
                                                                                                    <input type="checkbox"
                                                                                                           id="edit_prof_internship_area_@area.Id"
                                                                                                           class="form-check-input"
                                                                                                           @onchange="(e) => OnAreaCheckedChangedForEditProfessorInternship(e, area)"
                                                                                                           checked="@IsAreaSelectedForEditProfessorInternship(area)" />
                                                                                                    <label class="form-check-label area-label" 
                                                                                                           for="edit_prof_internship_area_@area.Id"
                                                                                                           @onclick="@(() => ToggleSubFieldsForEditProfessorInternship(area))"
                                                                                                           @onclick:stopPropagation="true"
                                                                                                           style="cursor: pointer; font-weight: bold; display: flex; align-items: center; justify-content: space-between; width: 100%; color: #1565c0;">
                                                                                                        @area.AreaName
                                                                                                        <span class="expand-icon" style="font-size: 10px; transition: transform 0.2s; margin-left: 8px; transform: @(ExpandedAreasForEditProfessorInternship.Contains(area.Id) ? "rotate(90deg)" : "rotate(0deg)")">▶</span>
                                                                                                    </label>
                                                                                                </div>
                                        
                                                                                                @if (ExpandedAreasForEditProfessorInternship.Contains(area.Id))
                                                                                                {
                                                                                                    <div class="subfields-container" style="margin-top: 8px; margin-left: 20px; padding-left: 15px; border-left: 2px solid #1565c0;">
                                                                                                        @if (!string.IsNullOrEmpty(area.AreaSubFields))
                                                                                                        {
                                                                                                            var subFields = area.AreaSubFields.Split(',').Select(s => s.Trim()).ToList();
                                                                                                            @foreach (var subField in subFields)
                                                                                                            {
                                                                                                                <div class="form-check subfield-checkbox" style="margin-bottom: 4px;">
                                                                                                                    <input type="checkbox"
                                                                                                                           id="edit_prof_internship_subfield_@(area.Id)_@(subField)"
                                                                                                                           class="form-check-input"
                                                                                                                           @onchange="(e) => OnSubFieldCheckedChangedForEditProfessorInternship(e, area, subField)"
                                                                                                                           checked="@IsSubFieldSelectedForEditProfessorInternship(area, subField)" />
                                                                                                                    <label class="form-check-label" for="edit_prof_internship_subfield_@(area.Id)_@(subField)" style="font-weight: normal; font-size: 0.9em;">
                                                                                                                        @subField
                                                                                                                    </label>
                                                                                                                </div>
                                                                                                            }
                                                                                                        }
                                                                                                    </div>
                                                                                                }
                                                                                            </div>
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>
                                                                            <br/>
                    
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Ξεκινάει Από</label>
                                                                                <input type="date" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedProfessorInternship.ProfessorInternshipActivePeriod" />
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Εκτιμώμενη Ημερομηνία Ολοκλήρωσης</label>
                                                                                <input type="date" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedProfessorInternship.ProfessorInternshipFinishEstimation" />
                                                                            </div>

                                                                            <!-- UPDATED: Open Slots Field for Editing -->
                                                                            <div class="form-group">
                                                                                <label for="editProfessorInternshipOpenSlots">
                                                                                    <strong>Διαθέσιμες Θέσεις</strong>
                                                                                    <span style="color: red;">*</span>
                                                                                </label>
                                                                                <input type="number" 
                                                                                       id="editProfessorInternshipOpenSlots" 
                                                                                       class="form-control @(showErrorMessage && (selectedProfessorInternship?.OpenSlots_ProfessorInternship ?? 0) < 3 ? "shake error" : "")" 
                                                                                       style="border-radius: 8px; background-color: #f8f9fa;" 
                                                                                       @bind="selectedProfessorInternship.OpenSlots_ProfessorInternship" 
                                                                                       min="3" 
                                                                                       step="1" />
                                                                                @if (showErrorMessage && (selectedProfessorInternship?.OpenSlots_ProfessorInternship ?? 0) < 3)
                                                                                {
                                                                                    <div class="text-danger mt-1">Ο αριθμός των διαθέσιμων θέσεων πρέπει να είναι τουλάχιστον 3.</div>
                                                                                }
                                                                                <small class="form-text text-muted">Αριθμός ανοιχτών θέσεων για αυτή τη πρακτική άσκηση (ελάχιστο 3)</small>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Αντικατάσταση Συνημμένου</label>
                                                                                <InputFile OnChange="HandleFileUploadToEditProfessorInternshipAttachment" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" />
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="CloseEditPopupForProfessorInternships"
                                                                                    onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                    onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                <i class="fas fa-times me-2"></i> Ακύρωση
                                                                            </button>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="SaveEditedProfessorInternship"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-save me-2"></i> Αποθήκευση
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }

                                                        @if (isEditModalVisibleForEventsAsProfessor)
                                                        {
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                                                                    <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                        <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                            <h5 class="modal-title" style="color: #007BFF; font-weight: 600; font-size: 1.25rem;">
                                                                                Επεξεργασία Εκδήλωσης: @currentProfessorEvent.ProfessorEventTitle
                                                                            </h5>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                    @onclick="CloseEditModalForProfessorEvent"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                            </button>
                                                                        </div>
                                                                        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                            <!-- Τίτλος Εκδήλωσης -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τίτλος Εκδήλωσης</label>
                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentProfessorEvent.ProfessorEventTitle" />
                                                                            </div>

                                                                            <!-- Περιγραφή Εκδήλωσης -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιγραφή Εκδήλωσης</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa; min-height: 120px;" @bind="currentProfessorEvent.ProfessorEventDescription"></textarea>
                                                                            </div>

                                                                            <!-- Τύπος Εκδήλωσης -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τύπος Εκδήλωσης</label>
                                                                                <div class="input-group">
                                                                                    <select class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentProfessorEvent.ProfessorEventType">
                                                                                        <option value="">-- Επιλέξτε Τύπο Εκδήλωσης --</option>
                                                                                        <option value="Έκθεση">Έκθεση</option>
                                                                                        <option value="Hackathon">Hackathon</option>
                                                                                        <option value="Career Day">Career Day</option>
                                                                                        <option value="Seminar">Σεμινάριο</option>
                                                                                        <option value="Επίσκεψη">Επίσκεψη</option>
                                                                                        <option value="Άλλο">Άλλο</option>
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Άλλος Οργανισμός -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Συνδιοργάνωση με άλλο φορέα</label>
                                                                                <div class="d-flex align-items-center" style="padding: 8px; border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <input type="checkbox" @bind="currentProfessorEvent.ProfessorEventOtherOrganizerToBeVisible" />
                                                                                    <label class="form-check-label ml-2" style="font-weight: normal;">
                                                                                        Ναι, η εκδήλωση διοργανώνεται σε συνεργασία με άλλο φορέα
                                                                                    </label>
                                                                                </div>
                                                                            </div>

                                                                            @if (currentProfessorEvent.ProfessorEventOtherOrganizerToBeVisible)
                                                                            {
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Όνομα Άλλου Φορέα</label>
                                                                                    <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentProfessorEvent.ProfessorEventOtherOrganizer" />
                                                                                </div>
                                                                            }

                                                                            <!-- Υπεύθυνος Εκδήλωσης -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Υπεύθυνος Εκδήλωσης</label>
                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentProfessorEvent.ProfessorEventResponsiblePerson" />
                                                                            </div>

                                                                            <!-- Email Υπευθύνου -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Email Υπευθύνου</label>
                                                                                <input type="email" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentProfessorEvent.ProfessorEventResponsiblePersonEmail" />
                                                                            </div>

                                                                            <!-- Τηλέφωνο Υπευθύνου -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τηλέφωνο Υπευθύνου</label>
                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentProfessorEvent.ProfessorEventResponsiblePersonTelephone" />
                                                                            </div>

                                                                            <!-- Πανεπιστήμιο -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentProfessorEvent.Professor.ProfUniversity" />
                                                                            </div>

                                                                            <!-- Τμήμα Πανεπιστημίου -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τμήμα Πανεπιστημίου</label>
                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentProfessorEvent.ProfessorEventUniversityDepartment" />
                                                                            </div>

                                                                            <!-- Περιφέρεια Εκδήλωσης -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιφέρεια Εκδήλωσης</label>
                                                                                <div class="input-group">
                                                                                    <select class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" 
                                                                                            @bind="currentProfessorEvent.ProfessorEventPerifereiaLocation"
                                                                                            @bind:event="onchange">
                                                                                        <option value="">-- Επιλέξτε Περιφέρεια --</option>
                                                                                        @foreach (var region in Regions)
                                                                                        {
                                                                                            <option value="@region">@region</option>
                                                                                        }
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Δήμος Εκδήλωσης -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Δήμος Εκδήλωσης</label>
                                                                                <div class="input-group">
                                                                                    <select class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentProfessorEvent.ProfessorEventDimosLocation">
                                                                                        <option value="">-- Επιλέξτε Δήμο --</option>
                                                                                        @if (!string.IsNullOrEmpty(currentProfessorEvent.ProfessorEventPerifereiaLocation) &&
                                                                                             RegionToTownsMap.ContainsKey(currentProfessorEvent.ProfessorEventPerifereiaLocation))
                                                                                        {
                                                                                            foreach (var town in RegionToTownsMap[currentProfessorEvent.ProfessorEventPerifereiaLocation])
                                                                                            {
                                                                                                <option value="@town">@town</option>
                                                                                            }
                                                                                        }
                                                                                    </select>
                                                                                    <div class="input-group-append">
                                                                                        <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #f8f9fa;">
                                                                                            <i class="fas fa-chevron-down"></i>
                                                                                        </span>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Χώρος Εκδήλωσης -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Χώρος Εκδήλωσης</label>
                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentProfessorEvent.ProfessorEventPlaceLocation" />
                                                                            </div>

                                                                            <!-- Ταχυδρομικός Κώδικας -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Ταχυδρομικός Κώδικας</label>
                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentProfessorEvent.ProfessorEventPostalCodeLocation" />
                                                                            </div>

                                                                            <!-- Ημερομηνία Εκδήλωσης -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Ημερομηνία Εκδήλωσης</label>
                                                                                <input type="date" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentProfessorEvent.ProfessorEventActiveDate" />
                                                                            </div>

                                                                            <!-- Ώρα Εκδήλωσης -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Ώρα Εκδήλωσης</label>
                                                                                <input type="time" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;"
                                                                                       @bind="currentProfessorEvent.ProfessorEventTimeOnly" 
                                                                                       @bind:format="HH:mm" />
                                                                            </div>

                                                                            <br/>
                                                                            <!-- Areas with Subfields for Professor Event -->
                                                                            <div class="form-group">
                                                                                <label @onclick="ToggleCheckboxesForEditProfessorEvent" style="cursor: pointer; display: flex; align-items: center;">
                                                                                    <strong>Περιοχές Ενδιαφέροντος</strong>
                                                                                    <span style="color: #1565c0; font-size: 0.9em; margin-left: 8px; display: flex; align-items: center;">
                                                                                        <i class="fas @(showCheckboxesForEditProfessorEvent ? "fa-chevron-up" : "fa-chevron-down")" style="margin-right: 4px;"></i>
                                                                                        @(showCheckboxesForEditProfessorEvent ? "Κλείσιμο" : "Άνοιγμα")
                                                                                    </span>
                                                                                </label>
                                                                                @if (showCheckboxesForEditProfessorEvent)
                                                                                {
                                                                                    <div id="toggleCheckboxes" class="checkbox-container">
                                                                                        @foreach (var area in Areas)
                                                                                        {
                                                                                            <div class="area-container" style="margin-bottom: 8px; border: 2px solid #1565c0; border-radius: 4px; padding: 8px; background-color: #f8f9fa;">
                                                                                                <div class="form-check area-header">
                                                                                                    <input type="checkbox"
                                                                                                           id="edit_prof_event_area_@area.Id"
                                                                                                           class="form-check-input"
                                                                                                           @onchange="(e) => OnAreaCheckedChangedForEditProfessorEvent(e, area)"
                                                                                                           checked="@IsAreaSelectedForEditProfessorEvent(area)" />
                                                                                                    <label class="form-check-label area-label" 
                                                                                                           for="edit_prof_event_area_@area.Id"
                                                                                                           @onclick="@(() => ToggleSubFieldsForEditProfessorEvent(area))"
                                                                                                           @onclick:stopPropagation="true"
                                                                                                           style="cursor: pointer; font-weight: bold; display: flex; align-items: center; justify-content: space-between; width: 100%; color: #1565c0;">
                                                                                                        @area.AreaName
                                                                                                        <span class="expand-icon" style="font-size: 10px; transition: transform 0.2s; margin-left: 8px; transform: @(ExpandedAreasForEditProfessorEvent.Contains(area.Id) ? "rotate(90deg)" : "rotate(0deg)")">▶</span>
                                                                                                    </label>
                                                                                                </div>
                                        
                                                                                                @if (ExpandedAreasForEditProfessorEvent.Contains(area.Id))
                                                                                                {
                                                                                                    <div class="subfields-container" style="margin-top: 8px; margin-left: 20px; padding-left: 15px; border-left: 2px solid #1565c0;">
                                                                                                        @if (!string.IsNullOrEmpty(area.AreaSubFields))
                                                                                                        {
                                                                                                            var subFields = area.AreaSubFields.Split(',').Select(s => s.Trim()).ToList();
                                                                                                            @foreach (var subField in subFields)
                                                                                                            {
                                                                                                                <div class="form-check subfield-checkbox" style="margin-bottom: 4px;">
                                                                                                                    <input type="checkbox"
                                                                                                                           id="edit_prof_event_subfield_@(area.Id)_@(subField)"
                                                                                                                           class="form-check-input"
                                                                                                                           @onchange="(e) => OnSubFieldCheckedChangedForEditProfessorEvent(e, area, subField)"
                                                                                                                           checked="@IsSubFieldSelectedForEditProfessorEvent(area, subField)" />
                                                                                                                    <label class="form-check-label" for="edit_prof_event_subfield_@(area.Id)_@(subField)" style="font-weight: normal; font-size: 0.9em;">
                                                                                                                        @subField
                                                                                                                    </label>
                                                                                                                </div>
                                                                                                            }
                                                                                                        }
                                                                                                    </div>
                                                                                                }
                                                                                            </div>
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>

                                                                            <br/>
                                                                            <!-- Προσφορά Μεταφοράς -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Προσφορά Μεταφοράς προς/από Εκδήλωση</label>
                                                                                <div class="d-flex align-items-center" style="padding: 8px; border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <input type="checkbox" @bind="currentProfessorEvent.ProfessorEventOfferingTransportToEventLocation" />
                                                                                    <label class="form-check-label ml-2" style="font-weight: normal;">
                                                                                        Παρέχεται μεταφορά προς την εκδήλωση
                                                                                    </label>
                                                                                </div>
                                                                            </div>
                    
                                                                            <!-- Σημεία Εκκίνησης Μεταφοράς -->
                                                                            @if (currentProfessorEvent.ProfessorEventOfferingTransportToEventLocation == true)
                                                                            {
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Σημεία Εκκίνησης Μεταφοράς</label>
                                                                                    <div class="input-group" style="position: relative;">
                                                                                        <input type="text" id="autocomplete6" class="form-control mt-2" style="border-radius: 8px; background-color: #f8f9fa;"
                                                                                               @bind="currentProfessorEvent.ProfessorEventStartingPointLocationToTransportPeopleToEvent1" 
                                                                                               placeholder="Σημείο Εκκίνησης 1" />
                                                                                        @if (!string.IsNullOrEmpty(currentProfessorEvent.ProfessorEventStartingPointLocationToTransportPeopleToEvent1))
                                                                                        {
                                                                                            <button type="button" class="btn-close" @onclick="() => ClearProfessorEventField(1)" style="position: absolute; right: 10px; top: 70%; transform: translateY(-50%);"></button>
                                                                                        }
                                                                                    </div>
                                                                                    <div class="input-group" style="position: relative;">
                                                                                        <input type="text" id="autocomplete7" class="form-control mt-2" style="border-radius: 8px; background-color: #f8f9fa;"
                                                                                               @bind="currentProfessorEvent.ProfessorEventStartingPointLocationToTransportPeopleToEvent2" 
                                                                                               placeholder="Σημείο Εκκίνησης 2" />
                                                                                        @if (!string.IsNullOrEmpty(currentProfessorEvent.ProfessorEventStartingPointLocationToTransportPeopleToEvent2))
                                                                                        {
                                                                                            <button type="button" class="btn-close" @onclick="() => ClearProfessorEventField(2)" style="position: absolute; right: 10px; top: 70%; transform: translateY(-50%);"></button>
                                                                                        }
                                                                                    </div>
                                                                                    <div class="input-group" style="position: relative;">
                                                                                        <input type="text" id="autocomplete8" class="form-control mt-2" style="border-radius: 8px; background-color: #f8f9fa;"
                                                                                               @bind="currentProfessorEvent.ProfessorEventStartingPointLocationToTransportPeopleToEvent3" 
                                                                                               placeholder="Σημείο Εκκίνησης 3" />
                                                                                        @if (!string.IsNullOrEmpty(currentProfessorEvent.ProfessorEventStartingPointLocationToTransportPeopleToEvent3))
                                                                                        {
                                                                                            <button type="button" class="btn-close" @onclick="() => ClearProfessorEventField(3)" style="position: absolute; right: 10px; top: 70%; transform: translateY(-50%);"></button>
                                                                                        }
                                                                                    </div>
                                                                                </div>
                                                                            }

                                                                            <!-- Επισυναπτόμενο Αρχείο -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Επισυναπτόμενο Αρχείο</label>
                                                                                <div class="d-flex align-items-center" style="padding: 8px; border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <InputFile OnChange="HandleFileUploadToEditProfessorEventAttachment" />
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s; margin-right: 8px;" 
                                                                                    @onclick="CloseEditModalForProfessorEvent"
                                                                                    onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                    onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                <i class="fas fa-times me-2"></i> Ακύρωση
                                                                            </button>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="() => UpdateProfessorEvent(currentProfessorEvent)"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-save me-2"></i> Αποθήκευση
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }

                                                        @if (showModalForStudentsAtProfessorEventInterest && selectedStudentToShowDetailsForInterestinProfessorEvent != null)
                                                        {
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                    <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                        <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                            <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                @($"{selectedStudentFromCache?.Name} {selectedStudentFromCache?.Surname}")
                                                                            </h5>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                    @onclick="CloseStudentDetailsModalAtProfessorEventInterest"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                            </button>
                                                                        </div>
                                                                        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                            <!-- Profile Picture -->
                                                                            <div class="text-center mb-4">
                                                                                @if (selectedStudentFromCache?.Image != null && selectedStudentFromCache.Image.Length > 0)
                                                                                {
                                                                                    var base64Image = Convert.ToBase64String(selectedStudentFromCache.Image);
                                                                                    <img src="data:image/jpeg;base64,@base64Image" alt="Φωτογραφία Προφίλ Σπουδαστή" 
                                                                                         style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <div style="width: 150px; height: 150px; border-radius: 50%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; margin: 0 auto; border: 3px solid #ddd;">
                                                                                        <i class="fas fa-user" style="font-size: 3rem; color: #6c757d;"></i>
                                                                                    </div>
                                                                                }
                                                                            </div>

                                                                            <!-- Student Details -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Αριθμός Μητρώου</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-id-card mr-2 text-info"></i>
                                                                                    <span>@selectedStudentFromCache?.RegNumber</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Κατηγορία Σπουδών</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-graduation-cap mr-2"></i>
                                                                                    <span>@selectedStudentFromCache?.LevelOfDegree</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-university mr-2 text-primary"></i>
                                                                                    <span>@selectedStudentFromCache?.University</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τμήμα</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-building mr-2"></i>
                                                                                    <span>@selectedStudentFromCache?.Department</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Έτος Σπουδών</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-calendar-alt mr-2 text-info"></i>
                                                                                    <span>@selectedStudentFromCache?.StudyYear</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Επικοινωνία</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                    <span>@selectedStudentToShowDetailsForInterestinProfessorEvent.StudentEmailShowInterestForEvent</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τηλέφωνο</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-phone mr-2 text-success"></i>
                                                                                    <span>@selectedStudentFromCache?.Telephone</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιοχές Ενδιαφέροντος</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedStudentFromCache?.AreasOfExpertise</textarea>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Εξειδίκευση</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedStudentFromCache?.Keywords</textarea>
                                                                            </div>

                                                                            <!-- Address Section -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιφέρεια (Μόνιμης Διαμονής)</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-map-marked-alt mr-2"></i>
                                                                                    <span>@selectedStudentFromCache?.PermanentRegion</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Πόλη (Μόνιμης Διαμονής)</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-city mr-2"></i>
                                                                                    <span>@selectedStudentFromCache?.PermanentTown</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Διεύθυνση</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-map-marker-alt mr-2 text-danger"></i>
                                                                                    @if (!string.IsNullOrEmpty(selectedStudentFromCache?.PermanentAddress))
                                                                                    {
                                                                                        <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(selectedStudentFromCache.PermanentAddress))"
                                                                                           target="_blank"
                                                                                           class="text-primary text-decoration-underline">
                                                                                            @selectedStudentFromCache.PermanentAddress
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν έχει οριστεί διεύθυνση</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Χρειάζεται Μεταφορά</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;
                                                                                     @(selectedStudentToShowDetailsForInterestinProfessorEvent.StudentTransportNeedWhenShowInterestForProfessorEvent == "Ναι" ? "color: #28a745;" : "color: #dc3545;")">
                                                                                    <i class="fas fa-car mr-2"></i>
                                                                                    <span>@selectedStudentToShowDetailsForInterestinProfessorEvent.StudentTransportNeedWhenShowInterestForProfessorEvent</span>
                                                                                </div>
                                                                            </div>

                                                                            @if (selectedStudentToShowDetailsForInterestinProfessorEvent.StudentTransportNeedWhenShowInterestForProfessorEvent == "Ναι")
                                                                            {
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold;">Τοποθεσία Μεταφοράς</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-map-marker-alt mr-2"></i>
                                                                                        <span>@selectedStudentToShowDetailsForInterestinProfessorEvent.StudentTransportChosenLocationWhenShowInterestForProfessorEvent</span>
                                                                                    </div>
                                                                                </div>
                                                                            }

                                                                            <!-- Social Links -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">LinkedIn Προφίλ</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fab fa-linkedin mr-2" style="color: #0077b5;"></i>
                                                                                    @if (!string.IsNullOrEmpty(selectedStudentFromCache?.LinkedInProfile))
                                                                                    {
                                                                                        <a href="@selectedStudentFromCache.LinkedInProfile" target="_blank" 
                                                                                           class="text-decoration-underline" style="color: #0077b5;">
                                                                                            @selectedStudentFromCache.LinkedInProfile
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν έχει οριστεί προφίλ LinkedIn ακόμη..</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Προσωπική Ιστοσελίδα</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-globe mr-2 text-info"></i>
                                                                                    @if (!string.IsNullOrEmpty(selectedStudentFromCache?.PersonalWebsite))
                                                                                    {
                                                                                        <a href="@selectedStudentFromCache.PersonalWebsite" target="_blank" 
                                                                                           class="text-primary text-decoration-underline">
                                                                                            @selectedStudentFromCache.PersonalWebsite
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν έχει οριστεί ιστοσελίδα ακόμη..</span>
                                                                                    }
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="CloseStudentDetailsModalAtProfessorEventInterest"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }

                                                        @if (showModalForCompaniesAtProfessorEventInterest && selectedCompanyToShowDetailsForInterestinProfessorEvent != null)
                                                        {
                                                            var company = companyDataCache.TryGetValue(selectedCompanyToShowDetailsForInterestinProfessorEvent.CompanyEmailShowInterestForProfessorEvent, out var c) ? c : null;
    
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                    <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                        <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                            <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                @(company?.CompanyName ?? "N/A")
                                                                            </h5>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                    @onclick="CloseCompanyDetailsModalAtProfessorEventInterest"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                            </button>
                                                                        </div>
                                                                        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                            <!-- Company Logo -->
                                                                            <div class="text-center mb-4">
                                                                                @if (company?.CompanyLogo != null && company.CompanyLogo.Length > 0)
                                                                                {
                                                                                    <img src="data:image/png;base64,@Convert.ToBase64String(company.CompanyLogo)" 
                                                                                         alt="Company Logo"
                                                                                         style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <div style="width: 150px; height: 150px; border-radius: 50%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; margin: 0 auto; border: 3px solid #ddd;">
                                                                                        <i class="fas fa-building" style="font-size: 3rem; color: #6c757d;"></i>
                                                                                    </div>
                                                                                }
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Σύντομη Ονομασία</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-tag mr-2"></i>
                                                                                    <span>@(!string.IsNullOrWhiteSpace(company?.CompanyShortName) ? company.CompanyShortName : "Δεν έχει Καθοριστεί")</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τύπος Εταιρείας</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-industry mr-2"></i>
                                                                                    <span>@company?.CompanyType</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Email Εταιρείας</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                    <span>@selectedCompanyToShowDetailsForInterestinProfessorEvent.CompanyEmailShowInterestForProfessorEvent</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Ιστοσελίδα Εταιρείας</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-globe mr-2 text-info"></i>
                                                                                    @if (!string.IsNullOrWhiteSpace(company?.CompanyWebsite))
                                                                                    {
                                                                                        <a href="@company.CompanyWebsite" target="_blank" 
                                                                                           class="text-primary text-decoration-underline">
                                                                                            @company.CompanyWebsite
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν υπάρχει</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιγραφή Εταιρείας</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@company?.CompanyDescription</textarea>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Δραστηριότητα Εταιρείας</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@company?.CompanyActivity</textarea>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιοχές Ενδιαφέροντος</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@company?.CompanyAreas</textarea>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Χώρα</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-flag mr-2"></i>
                                                                                    <span>@company?.CompanyCountry</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιφέρεια</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-map mr-2"></i>
                                                                                    <span>@company?.CompanyRegions</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Πόλη</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-city mr-2"></i>
                                                                                    <span>@company?.CompanyTown</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Διεύθυνση</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-map-marker-alt mr-2 text-danger"></i>
                                                                                    @if (!string.IsNullOrEmpty(company?.CompanyLocation))
                                                                                    {
                                                                                        <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(company.CompanyLocation)"
                                                                                           target="_blank"
                                                                                           class="text-primary text-decoration-underline">
                                                                                            @company.CompanyLocation
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν έχει οριστεί διεύθυνση</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Ταχυδρομικός Κώδικας</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-envelope-open-text mr-2"></i>
                                                                                    <span>@company?.CompanyPC</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τηλέφωνο Εταιρείας</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-phone mr-2 text-success"></i>
                                                                                    <span>@company?.CompanyTelephone</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Υπεύθυνος Ανθρώπινου Δυναμικού</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-user-tie mr-2 text-primary"></i>
                                                                                    <span>@company?.CompanyHRName @company?.CompanyHRSurname</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Email Υπεύθυνου</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                    <span>@company?.CompanyHREmail</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τηλέφωνο Υπεύθυνου</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-phone mr-2 text-success"></i>
                                                                                    <span>@company?.CompanyHRTelephone</span>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="CloseCompanyDetailsModalAtProfessorEventInterest"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }


                                               
                                }
                            }
                                                    <div id="professors-tab-table-end"></div>
