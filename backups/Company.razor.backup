                    <div id="companies-start"></div>

                            @if (UserRole == "Company")
                            {
                                @if (!isInitializedAsCompanyUser)
                                {
                                    <div class="professional-loading">
                                        <div class="loading-content">
                                            <div class="loading-spinner">
                                                <div class="spinner-circle"></div>
                                                <div class="spinner-circle"></div>
                                                <div class="spinner-circle"></div>
                                            </div>
                                            <div class="loading-text">
                                                <span class="loading-title">Φορτώνει, Παρακαλώ Περιμένετε...</span>
                                                <span class="loading-subtitle">Γίνεται προετοιμασία του περιεχομένου</span>
                                            </div>
                                        </div>
                                        <div class="loading-progress">
                                            <div class="progress-bar">
                                                <div class="progress-fill"></div>
                                            </div>
                                        </div>
                                    </div>
                                }
                                else if (!isCompanyRegistered)
                                {
                                    <div style="display: flex; justify-content: flex-start; padding: 20px; flex-direction: column;">
                                        <div style="width: 300px; border: none; border-radius: 12px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); transition: transform 0.3s ease, box-shadow 0.3s ease; background: linear-gradient(135deg, #f9f9f9, #e0e0e0);">
                                            <div style="padding: 20px; text-align: center;">
                                                <h5 style="font-size: 1.5rem; font-weight: bold; color: #333; margin-bottom: 20px;">Προφίλ Εταιρείας</h5>
                                                <a style="background-color: #007bff; border: none; border-radius: 25px; padding: 10px 20px; font-size: 1rem; color: white; text-decoration: none; transition: background-color 0.3s ease, transform 0.2s ease;" href="companyRegistration" onmouseover="this.style.backgroundColor='#0056b3'; this.style.transform='scale(1.05)'" onmouseout="this.style.backgroundColor='#007bff'; this.style.transform='scale(1)'">Εγγραφή</a>
                                            </div>
                                        </div>
                                        <p style="font-size: 0.9rem; color: #000; margin-top: 7px; text-align: center; font-weight: bold;">
                                            <span style="color: #ff0000;">**</span> <span style="color: #ff0000;">Προσοχή</span>: Για εμφάνιση του περιεχομένου της σελίδας είναι <span style="color: #ff0000;">Υποχρεωτική</span> η Εγγραφή σας
                                        </p>                                      
                                    </div>
                                }
                                else
                                {
                                    <div class="content-area position-relative">
                                    <div class="table-bordered position-relative">
                                        <!-- Tabs navigation -->
                                        <ul class="nav nav-tabs" id="myTab" role="tablist">
                                            <li class="nav-item position-relative" role="presentation">
                                                <button class="nav-link fade show active" id="announcements-tab" data-bs-toggle="tab" data-bs-target="#announcements" type="button" role="tab" aria-controls="announcements" aria-selected="true">Ανακοινώσεις</button>
                                            </li>
                                            <li class="nav-item position-relative" role="presentation">
                                                <button class="nav-link" id="events-tab" data-bs-toggle="tab" data-bs-target="#events" type="button" role="tab" aria-controls="events" aria-selected="false">Εκδηλώσεις</button>
                                            </li>
                                            <li class="nav-item position-relative" role="presentation">
                                                <button class="nav-link" id="jobs-tab" data-bs-toggle="tab" data-bs-target="#jobs" type="button" role="tab" aria-controls="jobs" aria-selected="false">Θέσεις Εργασίας</button>
                                            </li>
                                            <li class="nav-item position-relative" role="presentation">
                                                <button class="nav-link" id="internships-tab" data-bs-toggle="tab" data-bs-target="#internships" type="button" role="tab" aria-controls="internships" aria-selected="false">Θέσεις Πρακτικής Άσκησης</button>
                                            </li>
                                            <li class="nav-item position-relative" role="presentation">
                                                <button class="nav-link" id="thesis-tab" data-bs-toggle="tab" data-bs-target="#thesis" type="button" role="tab" aria-controls="thesis" aria-selected="false">Διπλωματικές Εργασίες</button>
                                            </li>
                                            <li class="nav-item position-relative" role="presentation">
                                                <button class="nav-link" id="student-search-tab" data-bs-toggle="tab" data-bs-target="#student-search" type="button" role="tab" aria-controls="student-search" aria-selected="false">Αναζήτηση Φοιτητή</button>
                                            </li>
                                            <li class="nav-item position-relative" role="presentation">
                                                <button class="nav-link" id="professor-search-tab" data-bs-toggle="tab" data-bs-target="#professor-search" type="button" role="tab" aria-controls="professor-search" aria-selected="false">Αναζήτηση Καθηγητή</button>
                                            </li>
                                            <li class="nav-item position-relative" role="presentation">
                                                <button class="nav-link" id="researchgroup-search-tab" data-bs-toggle="tab" data-bs-target="#researchgroup-search" type="button" role="tab" aria-controls="researchgroup-search" aria-selected="false">Αναζήτηση Ερευνητικής Ομάδας</button>
                                            </li>
                                        </ul>

                                        <!-- Tab panes -->
                                        <div class="tab-content mt-3" id="myTabContent">
                                            <!-- CREATE ANNOUNCEMENTS TAB AS COMPANY -->
                                            <div class="tab-pane fade show active" id="announcements" role="tabpanel" aria-labelledby="announcements-tab">
                                                    <div class="mb-3 row-dark-gray">
                                                        <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityToShowGeneralAnnouncementsAndEventsAsCompany" style="cursor: pointer;">
                                                            <label class="form-label" style="color: #FFF8DC;">• Πρόσφατες Ανακοινώσεις •</label>
                                                            <button class="btn btn-link" @onclick="ToggleFormVisibilityToShowGeneralAnnouncementsAndEventsAsCompany" @onclick:stopPropagation="true">
                                                                @if (isAnnouncementsFormVisibleToShowGeneralAnnouncementsAndEventsAsCompany)
                                                                {
                                                                    <span>&#8722;</span> <!-- Minus sign -->
                                                                }
                                                                else
                                                                {
                                                                    <span>&#43;</span> <!-- Plus sign -->
                                                                }
                                                            </button>
                                                        </div>
                                                    </div>

                                                    @if (isAnnouncementsFormVisibleToShowGeneralAnnouncementsAndEventsAsCompany)
                                                    {

                                                            <!-- University News Section -->
                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                <div class="d-flex justify-content-between align-items-center p-3" 
                                                                     style="border-bottom: 1px solid #b3c6e0; cursor: pointer;"
                                                                     @onclick="ToggleUniversityNewsVisibility">
                                                                    <h1 class="news-heading form-label m-0">
                                                                        <span class="black-text">
                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                <i class="fas fa-rss"></i>
                                                                            </span>
                                                                            Πανεπιστήμιο Αθηνών
                                                                            <span style="color: black; margin-left: 5px;">
                                                                                <i class="fas fa-university"></i>
                                                                            </span>
                                                                        </span>
                                                                    </h1>
                                                                    <button class="btn" 
                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px;" 
                                                                            @onclick="ToggleUniversityNewsVisibility">
                                                                        @if (isUniversityNewsVisible)
                                                                        {
                                                                            <span>&#8722;</span> 
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>&#43;</span> 
                                                                        }
                                                                    </button>
                                                                </div>
    
                                                                @if (isUniversityNewsVisible)
                                                                {
                                                                    <div id="university-news-content" class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                        @if (newsArticles != null && newsArticles.Any())
                                                                        {
                                                                            @foreach (var article in newsArticles)
                                                                            {
                                                                                <div class="news-article mb-2 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                    <a href="@article.Url" target="_blank" style="color: #0d47a1; text-decoration: none;">
                                                                                        <i class="fa fa-external-link me-2" style="font-size: 0.8em;"></i>@article.Title
                                                                                    </a>
                                                                                </div>
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            <p class="mb-0 text-muted">Καμία Ανακοίνωση από το Πανεπιστήμιο Αθηνών ακόμη....</p>
                                                                        }
                                                                    </div>
                                                                }
                                                            </div>

                                                            <!-- SVSE News Section -->
                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                <div class="d-flex justify-content-between align-items-center p-3" 
                                                                     style="border-bottom: 1px solid #b3c6e0; cursor: pointer;"
                                                                     @onclick="ToggleSvseNewsVisibility">
                                                                    <h1 class="news-heading form-label m-0">
                                                                        <span class="black-text">
                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                <i class="fas fa-rss"></i>
                                                                            </span>
                                                                            Σύνδεσμος Βιομηχανιών Στερεάς Ελλάδας
                                                                            <span style="color: black; margin-left: 5px;">
                                                                                <i class="fas fa-industry"></i>
                                                                            </span>
                                                                        </span>
                                                                    </h1>
                                                                    <button class="btn" 
                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px;" 
                                                                            @onclick="ToggleSvseNewsVisibility">
                                                                        @if (isSvseNewsVisible)
                                                                        {
                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                        }
                                                                    </button>
                                                                </div>
    
                                                                @if (isSvseNewsVisible)
                                                                {
                                                                    <div id="svse-news-content" class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                        @if (svseNewsArticles != null && svseNewsArticles.Any())
                                                                        {
                                                                            @foreach (var article in svseNewsArticles)
                                                                            {
                                                                                <div class="news-article mb-2 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                    <a href="@article.Url" target="_blank" style="color: #0d47a1; text-decoration: none;">
                                                                                        <i class="fa fa-external-link me-2" style="font-size: 0.8em;"></i>@article.Title
                                                                                    </a>
                                                                                </div>
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            <p class="mb-0 text-muted">Καμία Ανακοίνωση από τον ΣΒΣΕ ακόμη....</p>
                                                                        }
                                                                    </div>
                                                                }
                                                            </div>

                                                            <!-- Platform company announcements -->
                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                <div class="d-flex justify-content-between align-items-center p-3" 
                                                                     style="border-bottom: 1px solid #b3c6e0; cursor: pointer;"
                                                                     @onclick="ToggleCompanyAnnouncementsVisibility">
                                                                    <h1 class="news-heading form-label m-0">
                                                                        <span class="black-text">
                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                <i class="fas fa-list"></i>
                                                                            </span>
                                                                            Ανακοινώσεις Εταιρειών
                                                                            <span style="color: black; margin-left: 5px;">
                                                                                <i class="fas fa-building"></i>
                                                                            </span>
                                                                        </span>
                                                                    </h1>
                                                                    <button class="btn" 
                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px;" 
                                                                            @onclick="ToggleCompanyAnnouncementsVisibility">
                                                                        @if (isCompanyAnnouncementsVisible)
                                                                        {
                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                        }
                                                                    </button>
                                                                </div>
    
                                                                @if (isCompanyAnnouncementsVisible)
                                                                {
                                                                    <div class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                        @if (Announcements != null && Announcements.Any(announcement => announcement.CompanyAnnouncementStatus == "Δημοσιευμένη"))
                                                                        {
                                                                            <!-- Display paginated announcements sorted by upload date descending -->
                                                                            @foreach (var announcement in Announcements
                                                                               .Where(a => a.CompanyAnnouncementStatus == "Δημοσιευμένη")
                                                                               .OrderByDescending(a => a.CompanyAnnouncementUploadDate)
                                                                               .Skip((currentPageForCompanyAnnouncements - 1) * pageSize)
                                                                               .Take(pageSize))
                                                                            {
                                                                                <div class="news-article mb-3 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                    <!-- Clicking on title toggles description -->
                                                                                    <a href="javascript:void(0);"
                                                                                       @onclick="() => ToggleDescription(announcement.Id)"
                                                                                       style="display: block; max-width: 100%; overflow-wrap: break-word; color: #0d47a1; text-decoration: none; cursor: pointer;"
                                                                                       title="Κάντε Κλικ εδώ για να δείτε την περιγραφή της ανακοίνωσης">
                                                                                        <span class="black-text">• <strong>@(announcement.Company?.CompanyName ?? "Άγνωστη Εταιρεία")</strong></span> - @announcement.CompanyAnnouncementTitle
                                                                                        <span class="text-muted">(@announcement.CompanyAnnouncementUploadDate.ToString("dd/MM/yyyy"))</span>
                                                                                    </a>

                                                                                    <!-- Show description based on toggle state -->
                                                                                    <div class="announcement-description mt-2 @(expandedAnnouncementId == announcement.Id ? "expanded" : "collapsed")">
                                                                                        @if (expandedAnnouncementId == announcement.Id)
                                                                                        {
                                                                                            <p style="color: #333;">@announcement.CompanyAnnouncementDescription</p>
                                
                                                                                            @if (announcement.CompanyAnnouncementAttachmentFile != null && announcement.CompanyAnnouncementAttachmentFile.Length > 0)
                                                                                            {
                                                                                                <p class="announcement-attachment mt-2">
                                                                                                    <a href="#"
                                                                                                       @onclick="() => DownloadAnnouncementAttachmentFrontPage(announcement.CompanyAnnouncementAttachmentFile, announcement.CompanyAnnouncementTitle)"
                                                                                                       style="color: #c62828; text-decoration: none;"
                                                                                                       title="Κάντε Κλικ εδώ για να κατεβάσετε το αρχείο">
                                                                                                        <i class="fa fa-download me-1"></i> 
                                                                                                        Συννημένο Αρχείο Ανακοίνωσης
                                                                                                    </a>
                                                                                                </p>
                                                                                            }
                                                                                        }
                                                                                    </div>
                                                                                </div>
                                                                            }
                                                                        
                                                                                <!-- Pagination Controls for Company Announcements -->
                                                                                <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                                    <!-- First Page (<<) -->
                                                                                    <span class="pagination-item @(currentPageForCompanyAnnouncements == 1 ? "disabled" : "")"
                                                                                          @onclick="GoToFirstPageForCompanyAnnouncements">
                                                                                        &lt;&lt;
                                                                                    </span>

                                                                                    <!-- Previous Page (<) -->
                                                                                    <span class="pagination-item @(currentPageForCompanyAnnouncements == 1 ? "disabled" : "")"
                                                                                          @onclick="PreviousPageForCompanyAnnouncements">
                                                                                        &lt;
                                                                                    </span>

                                                                                    <!-- Page Numbers -->
                                                                                    @foreach (var pageNumber in GetVisiblePagesForCompanyAnnouncements())
                                                                                    {
                                                                                        if (pageNumber == -1)
                                                                                        {
                                                                                            <span class="pagination-ellipsis">...</span>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span class="pagination-item @(pageNumber == currentPageForCompanyAnnouncements ? "active" : "")"
                                                                                                  @onclick="() => GoToPageForCompanyAnnouncements(pageNumber)">
                                                                                                @pageNumber
                                                                                            </span>
                                                                                        }
                                                                                    }

                                                                                    <!-- Next Page (>) -->
                                                                                    <span class="pagination-item @(currentPageForCompanyAnnouncements == totalPagesForCompanyAnnouncements ? "disabled" : "")"
                                                                                          @onclick="NextPageForCompanyAnnouncements">
                                                                                        &gt;
                                                                                    </span>

                                                                                    <!-- Last Page (>>) -->
                                                                                    <span class="pagination-item @(currentPageForCompanyAnnouncements == totalPagesForCompanyAnnouncements ? "disabled" : "")"
                                                                                          @onclick="GoToLastPageForCompanyAnnouncements">
                                                                                        &gt;&gt;
                                                                                    </span>

                                                                                    <span class="ms-3">Σελίδα @currentPageForCompanyAnnouncements από @totalPagesForCompanyAnnouncements</span>
                                                                                </div>

                                                                        }
                                                                        else
                                                                        {
                                                                            <p class="mb-0 text-muted">Καμία Ανακοίνωση από Εταιρείες ακόμη......</p>
                                                                        }
                                                                    </div>
                                                                }
                                                            </div>

                                                            <!-- Platform professor announcements -->
                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                <div class="d-flex justify-content-between align-items-center p-3" 
                                                                     style="border-bottom: 1px solid #b3c6e0; cursor: pointer;"
                                                                     @onclick="ToggleProfessorAnnouncementsVisibility">
                                                                    <h1 class="news-heading form-label m-0">
                                                                        <span class="black-text">
                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                <i class="fas fa-list"></i>
                                                                            </span>
                                                                            Ανακοινώσεις Καθηγητών
                                                                            <span style="color: black; margin-left: 5px;">
                                                                                <i class="fas fa-user-tie"></i>
                                                                            </span>
                                                                        </span>
                                                                    </h1>
                                                                    <button class="btn" 
                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px; cursor: pointer;"
                                                                            @onclick="ToggleProfessorAnnouncementsVisibility">
                                                                        @if (isProfessorAnnouncementsVisible)
                                                                        {
                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                        }
                                                                    </button>
                                                                </div>
    
                                                                @if (isProfessorAnnouncementsVisible)
                                                                {
                                                                    <div class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                        @if (ProfessorAnnouncements != null && ProfessorAnnouncements.Any(announcement => announcement.ProfessorAnnouncementStatus == "Δημοσιευμένη"))
                                                                        {
                                                                            <!-- Display paginated announcements sorted by upload date descending -->
                                                                            @foreach (var announcement in ProfessorAnnouncements
                                                                           .Where(a => a.ProfessorAnnouncementStatus == "Δημοσιευμένη")
                                                                           .OrderByDescending(a => a.ProfessorAnnouncementUploadDate)
                                                                           .Skip((currentPageForProfessorAnnouncements - 1) * pageSize)
                                                                           .Take(pageSize))
                                                                           {
                                                                                <div class="news-article mb-3 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                    <!-- Clicking on title toggles description -->
                                                                                    <a href="javascript:void(0);"
                                                                                       @onclick="() => ToggleDescriptionForProfessorAnnouncements(announcement.Id)"
                                                                                       style="display: block; max-width: 100%; overflow-wrap: break-word; color: #0d47a1; text-decoration: none; cursor: pointer;"
                                                                                       title="Κάντε Κλικ εδώ για να δείτε την περιγραφή της ανακοίνωσης">
                                                                                        <span class="black-text">• 
                                                                                            <strong>@(announcement.Professor?.ProfName ?? "N/A")</strong> 
                                                                                            <strong>@(announcement.Professor?.ProfSurname ?? "N/A")</strong>
                                                                                        </span> - @announcement.ProfessorAnnouncementTitle
                                                                                        <span class="text-muted">(@announcement.ProfessorAnnouncementUploadDate.ToString("dd/MM/yyyy"))</span>
                                                                                    </a>
                                                                                    <!-- Show description based on toggle state -->
                                                                                    <div class="announcement-description mt-2 @(expandedProfessorAnnouncementId == announcement.Id ? "expanded" : "collapsed")">
                                                                                        @if (expandedProfessorAnnouncementId == announcement.Id)
                                                                                        {
                                                                                            <p style="color: #333;">@announcement.ProfessorAnnouncementDescription</p>
                                
                                                                                            @if (announcement.ProfessorAnnouncementAttachmentFile != null && announcement.ProfessorAnnouncementAttachmentFile.Length > 0)
                                                                                            {
                                                                                                <p class="announcement-attachment mt-2">
                                                                                                    <a href="#"
                                                                                                       @onclick="() => DownloadProfessorAnnouncementAttachmentFrontPage(announcement.ProfessorAnnouncementAttachmentFile, announcement.ProfessorAnnouncementTitle)"
                                                                                                       style="color: #c62828; text-decoration: none;"
                                                                                                       title="Κάντε Κλικ εδώ για να κατεβάσετε το αρχείο">
                                                                                                        <i class="fa fa-download me-1"></i>
                                                                                                        Συννημένο Αρχείο Ανακοίνωσης
                                                                                                    </a>
                                                                                                </p>
                                                                                            }
                                                                                        }
                                                                                    </div>
                                                                                </div>
                                                                           }
                                                                                <!-- Pagination Controls for Professor Announcements -->
                                                                                <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                                    <!-- First Page (<<) -->
                                                                                    <span class="pagination-item @(currentPageForProfessorAnnouncements == 1 ? "disabled" : "")"
                                                                                          @onclick="GoToFirstPageForProfessorAnnouncements">
                                                                                        &lt;&lt;
                                                                                    </span>

                                                                                    <!-- Previous Page (<) -->
                                                                                    <span class="pagination-item @(currentPageForProfessorAnnouncements == 1 ? "disabled" : "")"
                                                                                          @onclick="PreviousPageForProfessorAnnouncements">
                                                                                        &lt;
                                                                                    </span>

                                                                                    <!-- Page Numbers -->
                                                                                    @foreach (var pageNumber in GetVisiblePagesForProfessorAnnouncements())
                                                                                    {
                                                                                        if (pageNumber == -1)
                                                                                        {
                                                                                            <span class="pagination-ellipsis">...</span>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span class="pagination-item @(pageNumber == currentPageForProfessorAnnouncements ? "active" : "")"
                                                                                                  @onclick="() => GoToPageForProfessorAnnouncements(pageNumber)">
                                                                                                @pageNumber
                                                                                            </span>
                                                                                        }
                                                                                    }

                                                                                    <!-- Next Page (>) -->
                                                                                    <span class="pagination-item @(currentPageForProfessorAnnouncements == totalPagesForProfessorAnnouncements ? "disabled" : "")"
                                                                                          @onclick="NextPageForProfessorAnnouncements">
                                                                                        &gt;
                                                                                    </span>

                                                                                    <!-- Last Page (>>) -->
                                                                                    <span class="pagination-item @(currentPageForProfessorAnnouncements == totalPagesForProfessorAnnouncements ? "disabled" : "")"
                                                                                          @onclick="GoToLastPageForProfessorAnnouncements">
                                                                                        &gt;&gt;
                                                                                    </span>

                                                                                    <span class="ms-3">Σελίδα @currentPageForProfessorAnnouncements από @totalPagesForProfessorAnnouncements</span>
                                                                                </div>

                                                                        }
                                                                        else
                                                                        {
                                                                            <p class="mb-0 text-muted">Καμία Ανακοίνωση από Καθηγητές ακόμη......</p>
                                                                        }
                                                                    </div>
                                                                }
                                                            </div>                                                          
                                                            <!-- Platform research group announcements -->
                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                <div class="d-flex justify-content-between align-items-center p-3" 
                                                                     style="border-bottom: 1px solid #b3c6e0; cursor: pointer;"
                                                                     @onclick="ToggleResearchGroupPublicAnnouncementsVisibility">
                                                                    <h1 class="news-heading form-label m-0">
                                                                        <span class="black-text">
                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                <i class="fas fa-list"></i>
                                                                            </span>
                                                                            Ανακοινώσεις Ερευνητικών Ομάδων
                                                                            <span style="color: black; margin-left: 5px;">
                                                                                <i class="fa-solid fa-flask"></i>
                                                                            </span>
                                                                        </span>
                                                                    </h1>
                                                                    <button class="btn" 
                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px; cursor: pointer;"
                                                                            @onclick="ToggleResearchGroupPublicAnnouncementsVisibility">
                                                                        @if (isResearchGroupPublicAnnouncementsVisible)
                                                                        {
                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                        }
                                                                    </button>
                                                                </div>
    
                                                                @if (isResearchGroupPublicAnnouncementsVisible)
                                                                {
                                                                    <div class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                        @if (ResearchGroupAnnouncements != null && ResearchGroupAnnouncements.Any(announcement => announcement.ResearchGroupAnnouncementStatus == "Δημοσιευμένη"))
                                                                        {
                                                                            <!-- Display paginated announcements sorted by upload date descending -->
                                                                            @foreach (var announcement in ResearchGroupAnnouncements
                                                                           .Where(a => a.ResearchGroupAnnouncementStatus == "Δημοσιευμένη")
                                                                           .OrderByDescending(a => a.ResearchGroupAnnouncementUploadDate)
                                                                           .Skip((currentPageForResearchGroupPublicAnnouncements - 1) * pageSize)
                                                                           .Take(pageSize))
                                                                           {
                                                                                <div class="news-article mb-3 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                    <!-- Clicking on title toggles description -->
                                                                                    <a href="javascript:void(0);"
                                                                                       @onclick="() => ToggleDescriptionForResearchGroupPublicAnnouncements(announcement.Id)"
                                                                                       style="display: block; max-width: 100%; overflow-wrap: break-word; color: #0d47a1; text-decoration: none; cursor: pointer;"
                                                                                       title="Κάντε Κλικ εδώ για να δείτε την περιγραφή της ανακοίνωσης">
                                                                                        <span class="black-text">• 
                                                                                            <strong>@(announcement.ResearchGroup?.ResearchGroupName ?? "Άγνωστη Ερευνητική Ομάδα")</strong>
                                                                                        </span> - @announcement.ResearchGroupAnnouncementTitle
                                                                                        <span class="text-muted">(@announcement.ResearchGroupAnnouncementUploadDate.ToString("dd/MM/yyyy"))</span>
                                                                                    </a>
                                                                                    <!-- Show description based on toggle state -->
                                                                                    <div class="announcement-description mt-2 @(expandedResearchGroupPublicAnnouncementId == announcement.Id ? "expanded" : "collapsed")">
                                                                                        @if (expandedResearchGroupPublicAnnouncementId == announcement.Id)
                                                                                        {
                                                                                            <p style="color: #333;">@announcement.ResearchGroupAnnouncementDescription</p>
                                
                                                                                            @if (announcement.ResearchGroupAnnouncementAttachmentFile != null && announcement.ResearchGroupAnnouncementAttachmentFile.Length > 0)
                                                                                            {
                                                                                                <p class="announcement-attachment mt-2">
                                                                                                    <a href="#"
                                                                                                       @onclick="() => DownloadResearchGroupPublicAnnouncementAttachmentFrontPage(announcement.ResearchGroupAnnouncementAttachmentFile, announcement.ResearchGroupAnnouncementTitle)"
                                                                                                       style="color: #c62828; text-decoration: none;"
                                                                                                       title="Κάντε Κλικ εδώ για να κατεβάσετε το αρχείο">
                                                                                                        <i class="fa fa-download me-1"></i>
                                                                                                        Συννημένο Αρχείο Ανακοίνωσης
                                                                                                    </a>
                                                                                                </p>
                                                                                            }
                                                                                        }
                                                                                    </div>
                                                                                </div>
                                                                           }
                                                                            <!-- Pagination Controls for Research Group Announcements -->
                                                                            <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                                <!-- First Page (<<) -->
                                                                                <span class="pagination-item @(currentPageForResearchGroupPublicAnnouncements == 1 ? "disabled" : "")"
                                                                                      @onclick="GoToFirstPageForResearchGroupPublicAnnouncements">
                                                                                    &lt;&lt;
                                                                                </span>

                                                                                <!-- Previous Page (<) -->
                                                                                <span class="pagination-item @(currentPageForResearchGroupPublicAnnouncements == 1 ? "disabled" : "")"
                                                                                      @onclick="PreviousPageForResearchGroupPublicAnnouncements">
                                                                                    &lt;
                                                                                </span>

                                                                                <!-- Page Numbers -->
                                                                                @foreach (var pageNumber in GetVisiblePagesForResearchGroupPublicAnnouncements())
                                                                                {
                                                                                    if (pageNumber == -1)
                                                                                    {
                                                                                        <span class="pagination-ellipsis">...</span>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span class="pagination-item @(pageNumber == currentPageForResearchGroupPublicAnnouncements ? "active" : "")"
                                                                                              @onclick="() => GoToPageForResearchGroupPublicAnnouncements(pageNumber)">
                                                                                            @pageNumber
                                                                                        </span>
                                                                                    }
                                                                                }

                                                                                <!-- Next Page (>) -->
                                                                                <span class="pagination-item @(currentPageForResearchGroupPublicAnnouncements == totalPagesForResearchGroupPublicAnnouncements ? "disabled" : "")"
                                                                                      @onclick="NextPageForResearchGroupPublicAnnouncements">
                                                                                    &gt;
                                                                                </span>

                                                                                <!-- Last Page (>>) -->
                                                                                <span class="pagination-item @(currentPageForResearchGroupPublicAnnouncements == totalPagesForResearchGroupPublicAnnouncements ? "disabled" : "")"
                                                                                      @onclick="GoToLastPageForResearchGroupPublicAnnouncements">
                                                                                    &gt;&gt;
                                                                                </span>

                                                                                <span class="ms-3">Σελίδα @currentPageForResearchGroupPublicAnnouncements από @totalPagesForResearchGroupPublicAnnouncements</span>
                                                                            </div>

                                                                        }
                                                                        else
                                                                        {
                                                                            <p class="mb-0 text-muted">Καμία Ανακοίνωση από Ερευνητικές Ομάδες ακόμη......</p>
                                                                        }
                                                                    </div>
                                                                }
                                                            </div>
                                                        
                                                    }

                                                @*iNPUT FIELDS SHOULD BE HERE FOR UPLOAD ANNOUNCEMENT AS COMPANY*@
                                                <!-- Announcement Form -->
                                                <div class="tab-pane fade show active" id="announcements" role="tabpanel" aria-labelledby="announcements-tab">
                                                    <div class="mb-3 row-dark-gray">
                                                        <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityForUploadCompanyAnnouncements" style="cursor: pointer;">
                                                            <label class="form-label" style="color: #FFF8DC;">• Δημιουργία Ανακοίνωσης •</label>
                                                            <button class="btn btn-link" @onclick="ToggleFormVisibilityForUploadCompanyAnnouncements" @onclick:stopPropagation="true">
                                                                @if (isAnnouncementsFormVisible)
                                                                {
                                                                    <span>&#8722;</span> <!-- Minus sign -->
                                                                }
                                                                else
                                                                {
                                                                    <span>&#43;</span> <!-- Plus sign -->
                                                                }
                                                            </button>
                                                        </div>
                                                    </div>
   
                                                    @if (isAnnouncementsFormVisible)
                                                    {
                                                        <div class="row mb-3">
                                                            <div class="col-md-4 position-relative">
                                                                <label for="announcementTitle">
                                                                    <strong>Τίτλος Ανακοίνωσης</strong>
                                                                    <span style="color: red;">*</span>
                                                                </label>
                                                                <input type="text" id="announcementTitle" class="form-control @(showErrorMessageforUploadingAnnouncementAsCompany && string.IsNullOrWhiteSpace(announcement.CompanyAnnouncementTitle) ? "shake error" : "")" 
                                                                       @bind="announcement.CompanyAnnouncementTitle" 
                                                                       @oninput="CheckCharacterLimitInAnnouncementFieldUploadAsCompany" maxlength="120" />
                                                                <small class="character-limit light-cadetblue-text">@remainingCharactersInAnnouncementFieldUploadAsCompany/120</small>
                                                            </div>
                                                            @if (showErrorMessageforUploadingAnnouncementAsCompany && string.IsNullOrWhiteSpace(announcement.CompanyAnnouncementTitle))
                                                            {
                                                                <div class="text-danger mt-1">Απαιτείται Tίτλος Ανακοίνωσης!</div>
                                                            }
                                                        </div>

                                                        <div class="row mb-3">
                                                            <div class="col-md-4 position-relative">
                                                                <label for="CompanyAnnouncementDescription"><strong>Περιγραφή Ανακοίνωσης</strong> <span style="color: red;"> *</span></label>
                                                                <textarea id="CompanyAnnouncementDescription" class="form-control @(showErrorMessageforUploadingAnnouncementAsCompany && string.IsNullOrWhiteSpace(announcement.CompanyAnnouncementDescription) ? "shake error" : "")"
                                                                          @bind="announcement.CompanyAnnouncementDescription"
                                                                          @oninput="CheckCharacterLimitInAnnouncementDescriptionUploadAsCompany"
                                                                          maxlength="1000"
                                                                          placeholder="Πληκτρολογείστε την Ανακοίνωσή σας"></textarea>
                                                                <small class="character-limit light-cadetblue-text">@remainingCharactersInAnnouncementDescriptionUploadAsCompany/1000</small>
                                                            </div>
                                                            @if (showErrorMessageforUploadingAnnouncementAsCompany && string.IsNullOrWhiteSpace(announcement.CompanyAnnouncementDescription))
                                                            {
                                                                <div class="text-danger mt-1">Απαιτείται Περιγραφή της Ανακοίνωσης!</div>
                                                            }
                                                        </div>

                                                        <div class="row mb-3">
                                                            <div class="col-md-4 position-relative">
                                                                <label for="CompanyAnnouncementTimeToBeActive"><strong>Ημερομηνία Λήξης Ανακοίνωσης</strong> <span style="color: red;"> *</span></label>
                                                                <input type="date" id="CompanyAnnouncementTimeToBeActive" class="form-control @(showErrorMessageforUploadingAnnouncementAsCompany && announcement.CompanyAnnouncementTimeToBeActive.Date == DateTime.Today ? "shake error" : "")" 
                                                                       @bind="announcement.CompanyAnnouncementTimeToBeActive" />
                                                            </div>
                                                            @if (showErrorMessageforUploadingAnnouncementAsCompany && announcement.CompanyAnnouncementTimeToBeActive.Date <= DateTime.Today)
                                                            {
                                                                <div class="text-danger mt-1">Η ημερομηνία πρέπει να είναι μεταγενέστερη της σημερινής ημερομηνίας.</div>
                                                            }
                                                        </div>


                                                        <div class="row mb-3">
                                                            <div class="col-md-4 position-relative">
                                                                <label for="announcementAttachment">Συνημμένο Αρχείο Ανακοίνωσης<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                                <InputFile id="announcementAttachment" class="form-control" OnChange="HandleFileSelectedForAnnouncementAttachment" />
                                                                <small class="form-text text-muted">Όριο 10MB - Μόνο αρχεία PDF</small>
                                                                @if (!string.IsNullOrEmpty(AnnouncementAttachmentErrorMessage))
                                                                {
                                                                    <div class="text-danger mt-2">@AnnouncementAttachmentErrorMessage</div>
                                                                }
                                                            </div>
                                                        </div>

                                                        <!-- Save Buttons -->
                                                        <div class="row mb-3">
                                                            <div class="col-md-12">
                                                                <button class="modern-button" style="background-color: #818589; color: white; display: inline-flex; align-items: center;" @onclick="SaveAnnouncementAsUnpublished">
                                                                    <i class="fa-regular fa-floppy-disk" style="margin-right: 8px;"></i>Προσωρινή Αποθήκευση Ανακοίνωσης
                                                                </button>
                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="SaveAnnouncementAsPublished">
                                                                    <i class="fa-solid fa-floppy-disk" style="margin-right: 8px;"></i>Δημοσίευση Ανακοίνωσης
                                                                </button>
                                                            </div>
                                                        </div>
                                                        <!-- Loading Modal -->
                                                        @if (showLoadingModal)
                                                        {
                                                            <div class="loading-modal">
                                                                <div class="loading-modal-content">
                                                                    <div class="loading-spinner"></div>
                                                                    <p>Αποθήκευση Ανακοίνωσης...</p>
                                                                    <div class="progress-bar">
                                                                        <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }

                                                        <!-- Error message if required fields are not filled -->
                                                        @if (!isFormValidToSaveAnnouncementAsCompany)
                                                        {
                                                            <div class="alert alert-danger" role="alert">
                                                                Συμπληρώστε Όλα Τα Υποχρεωτικά Πεδία και Προσπαθήστε Ξανά
                                                            </div>
                                                        }

                                                        @if (!string.IsNullOrEmpty(saveAnnouncementAsCompanyMessage))
                                                        {
                                                            <div class="alert @(isSaveAnnouncementAsCompanySuccessful ? "alert-success" : "alert-danger")" role="alert">
                                                                @saveAnnouncementAsCompanyMessage
                                                            </div>
                                                        }
                                                    }

                                                </div>




                                                <!-- VIEW UPLOADED ANNOUNCEMENTS AS COMPANY -->
                                                <CompanyAnnouncementsSection />


                                            <!-- CREATE JOBS TAB AS COMPANY -->
                                            <div class="tab-pane fade" id="jobs" role="tabpanel" aria-labelledby="jobs-tab">
                                                @*iNPUT FIELDS FOR UPLOAD JOB AS COMPANY*@
                                            <div class="tab-pane" id="jobs" role="tabpanel" aria-labelledby="jobs-tab">
                                                <div class="mb-3 row-dark-gray">
                                                    <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityForUploadCompanyJobs" style="cursor: pointer;">
                                                        <label class="form-label" style="color: #FFF8DC;">• Δημιουργία Θέσης Εργασίας •</label>
                                                        <button class="btn btn-link" @onclick="ToggleFormVisibilityForUploadCompanyJobs" @onclick:stopPropagation="true">
                                                            @if (isForm1Visible)
                                                            {
                                                                <span>&#8722;</span> <!-- Minus sign -->
                                                            }
                                                            else
                                                            {
                                                                <span>&#43;</span> <!-- Plus sign -->
                                                            }
                                                        </button>
                                                    </div>
                                                </div>
                                                   
                                                @if (isForm1Visible)
                                                {
                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label for="positionType">
                                                                    <strong>Τύπος Θέσης</strong>
                                                                    <span style="color: red;">*</span>
                                                                </label>
                                                                <div class="input-group">
                                                                    <select id="positionType" class="form-control @(showErrorMessageforUploadingjobsAsCompany && string.IsNullOrWhiteSpace(job.PositionType) ? "shake error" : "")" @bind="job.PositionType">
                                                                        <option value="">-- Επιλέξτε --</option>
                                                                        <option value="Full-Time">Αορίστου Χρόνου</option>
                                                                        <option value="Part-Time">Περιορισμένου Χρόνου</option>
                                                                        <option value="Simvasi-Ergou">Σύμβαση Έργου</option>
                                                                    </select>
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text">
                                                                            <i class="fas fa-chevron-down"></i>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            @if (showErrorMessageforUploadingjobsAsCompany && string.IsNullOrWhiteSpace(job.PositionType))
                                                            {
                                                                <div class="text-danger mt-1">Απαιτείται Τύπος Θέσης.</div>
                                                            }
                                                        </div>



                                                        <div class="row mb-3">
                                                            <div class="col-md-4 position-relative">
                                                                <label for="positionTitle">
                                                                    <strong>Τίτλος Θέσης</strong>
                                                                    <span style="color: red;">*</span>
                                                                </label>
                                                                <input type="text" id="positionTitle" class="form-control @(showErrorMessageforUploadingjobsAsCompany && string.IsNullOrWhiteSpace(job.PositionTitle) ? "shake error" : "")" @bind="job.PositionTitle" @oninput="CheckCharacterLimitInJobFieldUploadAsCompany" maxlength="120" />
                                                                <small class="character-limit light-cadetblue-text">@remainingCharactersInJobFieldUploadAsCompany/120</small>
                                                            </div>
                                                            @if (showErrorMessageforUploadingjobsAsCompany && string.IsNullOrWhiteSpace(job.PositionTitle))
                                                            {
                                                                <div class="text-danger mt-1">Απαιτείται Περιγραφή της Θέσης Εργασίας.</div>
                                                            }
                                                        </div>

                                                        @*
                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label for="positionTitle">Φορέας</label>
                                                                <input type="text" id="positionTitle" class="form-control" @bind="job.PositionForeas" />
                                                            </div>
                                                        </div>
                                                        *@
                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label for="positionTitle">Υπεύθυνο Τμήμα <span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                                <input type="text" id="positionTitle" class="form-control" @bind="job.PositionDepartment" />
                                                            </div>
                                                        </div>

                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label for="PositionContactPerson">
                                                                    <strong>Email Υπευθύνου</strong>
                                                                    <span style="color: red;">*</span>
                                                                </label>
                                                                <input type="email" id="PositionContactPerson" 
                                                                       class="form-control @(showErrorMessageforUploadingjobsAsCompany && !IsValidEmailForCompanyJobs(job.PositionContactPerson) ? "shake error" : "")" 
                                                                       @bind="job.PositionContactPerson" 
                                                                       placeholder="example@mail.com" />
                                                                @if (showErrorMessageforUploadingjobsAsCompany && !IsValidEmailForCompanyJobs(job.PositionContactPerson))
                                                                {
                                                                    <small style="color: red;">Παρακαλώ εισάγετε ένα έγκυρο email.</small>
                                                                }
                                                            </div>
                                                        </div>



                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label for="PositionContactTelephonePerson">
                                                                    Τηλέφωνο Υπευθύνου
                                                                    <span style="font-style: italic; color: gray;"> (Προαιρετικό)</span>
                                                                </label>
                                                                <div class="input-group">
                                                                    <div class="input-group-prepend">
                                                                        <span class="input-group-textfortelephone">+30</span>
                                                                    </div>
                                                                    <input type="tel" id="PositionContactTelephonePerson"
                                                                           class="form-control @(showErrorMessageforUploadingjobsAsCompany && !IsValidPhoneNumber(job.PositionContactTelephonePerson) ? "shake error" : "")"
                                                                           @bind="job.PositionContactTelephonePerson"
                                                                           @oninput="OnPhoneNumberInput"
                                                                           placeholder="Τηλέφωνο Υπευθύνου"
                                                                           maxlength="10" />
                                                                </div>
                                                                @if (showErrorMessageforUploadingjobsAsCompany && !IsValidPhoneNumber(job.PositionContactTelephonePerson) && !string.IsNullOrWhiteSpace(job.PositionContactTelephonePerson))
                                                                {
                                                                    <small style="color: red;">Παρακαλώ εισάγετε έγκυρο αριθμό τηλεφώνου...</small>
                                                                }
                                                            </div>
                                                        </div>


                                                        <!-- Address -->
                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label for="PositionAddressLocation">Διεύθυνση Εργασίας<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                                <div class="input-group">
                                                                    <input type="tel" id="PositionAddressLocation"
                                                                           class="form-control @(showErrorMessageforUploadingjobsAsCompany && string.IsNullOrWhiteSpace(job.PositionAddressLocation) ? "" : "")"
                                                                           @bind="job.PositionAddressLocation"/>
                                                                </div>
                                                            </div>
                                                        </div

                                                        <!-- Region Dropdown -->
                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label for="CompanyInternshipPerifereiaLocation">
                                                                    <strong>Περιφέρεια</strong>
                                                                    <span style="color: red;">*</span>
                                                                </label>
                                                                <div class="input-group">
                                                                    <select id="CompanyInternshipPerifereiaLocation" class="form-control @(showErrorMessageforUploadingjobsAsCompany && string.IsNullOrWhiteSpace(job.PositionPerifereiaLocation) ? "shake error" : "")" @bind="job.PositionPerifereiaLocation">
                                                                        <option value="">-- Επιλέξτε Περιφέρεια --</option>
                                                                        @foreach (var region in Regions)
                                                                        {
                                                                            <option value="@region">@region</option>
                                                                        }
                                                                    </select>
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text">
                                                                            <i class="fas fa-chevron-down"></i>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            @if (showErrorMessageforUploadingjobsAsCompany && string.IsNullOrWhiteSpace(job.PositionPerifereiaLocation))
                                                            {
                                                                <div class="text-danger mt-1">Απαιτείται Επιλογή Περιφέρειας.</div>
                                                            }
                                                        </div>



                                                       <!-- Town Dropdown -->
                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label for="CompanyInternshipDimosLocation">
                                                                    <strong>Δήμος</strong>
                                                                    <span style="color: red;">*</span>
                                                                </label>
                                                                <div class="input-group">
                                                                    <select id="CompanyInternshipDimosLocation" class="form-control @(showErrorMessageforUploadingjobsAsCompany && string.IsNullOrWhiteSpace(job.PositionDimosLocation) ? "shake error" : "")" @bind="job.PositionDimosLocation">
                                                                        <option value="">-- Επιλέξτε Δήμο --</option>
                                                                        @foreach (var town in GetTownsForRegion(job.PositionPerifereiaLocation))
                                                                        {
                                                                            <option value="@town">@town</option>
                                                                        }
                                                                    </select>
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text">
                                                                            <i class="fas fa-chevron-down"></i>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>



                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label for="positionPostalCode">
                                                                    Ταχυδρομικός Κώδικας
                                                                    <span style="font-style: italic; color: gray;"> (Προαιρετικό)</span>
                                                                </label>
                                                                <input type="text" id="positionPostalCode"
                                                                       class="form-control @(showErrorMessageforPostalCode ? "shake error" : "")"
                                                                       @bind="job.PositionPostalCodeLocation"
                                                                       @oninput="ValidatePostalCode"
                                                                       placeholder="Π.χ. 12345"
                                                                       maxlength="5"
                                                                       pattern="\d{5}" />
                                                                @if (showErrorMessageforPostalCode)
                                                                {
                                                                    <small style="color: red;">Παρακαλώ εισάγετε έναν έγκυρο Ταχυδρομικό Κώδικα (5 ψηφία).</small>
                                                                }
                                                            </div>
                                                        </div>



                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label><strong>Δυνατότητα Μετακίνησης</strong> <span style="color: red;">*</span> <span style="font-style: italic; color: gray;"> (Προσφέρεται από την εταιρία)</span></label>
                                                                <div class="form-check">
                                                                    <input type="radio" id="PositionTransportOfferYes" class="form-check-input" name="PositionTransportOffer" value="true" checked="@(job.PositionTransportOffer ? "checked" : "")" @onchange="() => UpdateTransportOffer(true)" />
                                                                    <label for="PositionTransportOfferYes" class="form-check-label">Ναι</label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input type="radio" id="PositionTransportOfferNo" class="form-check-input" name="PositionTransportOffer" value="false" checked="@(job.PositionTransportOffer ? "" : "checked")" @onchange="() => UpdateTransportOffer(false)" />
                                                                    <label for="PositionTransportOfferNo" class="form-check-label">Όχι</label>
                                                                </div>
                                                            </div>
                                                        </div>


                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px; flex-wrap: wrap;">
                                                                    <label style="margin: 0; display: flex; align-items: center; gap: 4px;">
                                                                        <strong>Τομείς Θέσης</strong>
                                                                        <span style="color: red;">*</span>
                                                                    </label>
            
                                                                    <button type="button" 
                                                                            @onclick="ToggleCheckboxesForCompanyJob"
                                                                            class="toggle-all-areas-btn @(showErrorMessageforUploadingjobsAsCompany && string.IsNullOrWhiteSpace(job.PositionAreas) ? "shake error" : "")"
                                                                            style="border: 1px solid #2d3748; background: white; border-radius: 6px; padding: 4px 10px; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; color: #2d3748; font-size: 0.85em; transition: all 0.2s;">
                                                                        <span>👆</span>
                                                                        <span>Προβολή τομέων</span>
                                                                    </button>
                                                                </div>

                                                                @if (showCheckboxesForCompanyJob)
                                                                {
                                                                    <div id="toggleCheckboxes" class="checkbox-container">
                                                                        @if (Areas == null || !Areas.Any())
                                                                        {
                                                                            <p>Φορτώνει...</p>
                                                                        }
                                                                        else
                                                                        {
                                                                            @foreach (var area in Areas)
                                                                            {
                                                                                <div class="area-container" style="margin-bottom: 8px; border: 2px solid #1565c0; border-radius: 6px; padding: 8px; background-color: #f8f9fa;">
                                                                                    <div class="form-check area-header" style="display: flex; align-items: center; gap: 8px;">
                                                                                        <input type="checkbox"
                                                                                               id="area_@area.Id"
                                                                                               class="form-check-input"
                                                                                               @onchange="(e) => OnAreaCheckedChangedForCompanyJob(e, area)"
                                                                                               checked="@IsAreaSelectedForCompanyJob(area)" />
                                                                                        <label class="form-check-label area-label @(showErrorMessageforUploadingjobsAsCompany && string.IsNullOrWhiteSpace(job.PositionAreas) ? "shake error" : "")" 
                                                                                               for="area_@area.Id"
                                                                                               style="cursor: pointer; font-weight: bold; flex-grow: 1; color: #1565c0;">
                                                                                            @area.AreaName
                                                                                        </label>
                                                                                        <button type="button"
                                                                                                @onclick="@(() => ToggleSubFieldsForCompanyJob(area))"
                                                                                                @onclick:stopPropagation="true"
                                                                                                class="expand-btn"
                                                                                                style="border: 1px solid #1565c0; background: white; border-radius: 4px; padding: 4px 8px; cursor: pointer; display: flex; align-items: center; gap: 4px; font-size: 0.8em; color: #1565c0; transition: all 0.2s;">
                                                                                            <span>Υποτομείς</span>
                                                                                            <span class="expand-icon" style="font-size: 10px; transition: transform 0.2s; transform: @(ExpandedAreasForCompanyJob.Contains(area.Id) ? "rotate(90deg)" : "rotate(0deg)")">▶</span>
                                                                                        </button>
                                                                                    </div>
                            
                                                                                    @if (ExpandedAreasForCompanyJob.Contains(area.Id))
                                                                                    {
                                                                                        <div class="subfields-container" style="margin-top: 12px; margin-left: 28px; padding: 12px; background: white; border: 1px solid #e0e0e0; border-radius: 4px;">
                                                                                            <div style="font-size: 0.85em; color: #666; margin-bottom: 8px; font-weight: 500;">
                                                                                                Επιλέξτε υποτομείς:
                                                                                            </div>
                                                                                            @if (!string.IsNullOrEmpty(area.AreaSubFields))
                                                                                            {
                                                                                                var subFields = area.AreaSubFields.Split(',').Select(s => s.Trim()).ToList();
                                                                                                @foreach (var subField in subFields)
                                                                                                {
                                                                                                    <div class="form-check subfield-checkbox" style="margin-bottom: 6px;">
                                                                                                        <input type="checkbox"
                                                                                                               id="subfield_@(area.Id)_@(subField)"
                                                                                                               class="form-check-input"
                                                                                                               @onchange="(e) => OnSubFieldCheckedChangedForCompanyJob(e, area, subField)"
                                                                                                               checked="@IsSubFieldSelectedForCompanyJob(area, subField)" />
                                                                                                        <label class="form-check-label" for="subfield_@(area.Id)_@(subField)" style="font-weight: normal; font-size: 0.9em;">
                                                                                                            @subField
                                                                                                        </label>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    }
                                                                                </div>
                                                                            }
                                                                        }
                                                                    </div>
                                                                }
                                                            </div>
                                                            @if (showErrorMessageforUploadingjobsAsCompany && !HasAnySelectionForCompanyJob())
                                                            {
                                                                <div class="text-danger mt-1">Πρέπει να επιλέξετε τουλάχιστον 1 Τομέα Θέσης ή Υποτομέα.</div>
                                                            }
                                                        </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyJobActivePeriod"><strong>Διαθέσιμη Από</strong> <span style="color: red;">*</span></label>
                                                            <input type="date" id="CompanyJobActivePeriod" 
                                                                   class="form-control @(showErrorMessageforUploadingjobsAsCompany && ( job.PositionActivePeriod.Date == DateTime.Today) ? "shake error" : "")" 
                                                                   @bind="job.PositionActivePeriod" />
                                                        </div>
                                                        @if (showErrorMessageforUploadingjobsAsCompany && job.PositionActivePeriod.Date <= DateTime.Today)
                                                        {
                                                            <div class="text-danger mt-1">Η ημερομηνία πρέπει να είναι μεταγενέστερη της σημερινής ημερομηνίας.</div>
                                                        }
                                                    </div>



                                                        @*
                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label for="positionTitle">Κατάσταση Θέσης</label>
                                                                <input type="text" id="positionTitle" class="form-control" @bind="job.PositionStatus" />
                                                            </div>
                                                        </div>
                                                        *@
                                                    <div class="row mb-3">
                                                        <div class="col-md-4 position-relative">
                                                            <label for="CompanyJobDescription"><strong>Περιγραφή Θέσης</strong> <span style="color: red;">*</span></label>
                                                            <textarea id="CompanyJobDescription" class="form-control @(showErrorMessageforUploadingjobsAsCompany && string.IsNullOrWhiteSpace(job.PositionDescription) ? "shake error" : "")"
                                                                      @bind="job.PositionDescription"
                                                                      @oninput="CheckCharacterLimitInJobDescriptionUploadAsCompany"
                                                                      maxlength="1000"
                                                                      placeholder="Περιγραφή Θέσης"></textarea>
                                                            <small class="character-limit light-cadetblue-text">@remainingCharactersInJobDescriptionUploadAsCompany/1000</small>
                                                        </div>
                                                        @if (showErrorMessageforUploadingjobsAsCompany && string.IsNullOrWhiteSpace(job.PositionDescription))
                                                        {
                                                                <div class="text-danger mt-1">Απαιτείται Περιγραφή της Θέσης Εργασίας.</div>
                                                        }
                                                    </div>

                                                    <!-- Open Slots Field -->
                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="openSlots">
                                                                <strong>Διαθέσιμες Θέσεις</strong>
                                                                <span style="color: red;">*</span>
                                                            </label>
                                                            <input type="number" 
                                                                   id="openSlots" 
                                                                   class="form-control @(showErrorMessageforUploadingjobsAsCompany && job.OpenSlots < 3 ? "shake error" : "")" 
                                                                   @bind="job.OpenSlots" 
                                                                   min="3" 
                                                                   step="1" />
                                                            @if (showErrorMessageforUploadingjobsAsCompany && job.OpenSlots < 3)
                                                            {
                                                                <div class="text-danger mt-1">Ο αριθμός των διαθέσιμων θέσεων πρέπει να είναι τουλάχιστον 3.</div>
                                                            }
                                                            <small class="form-text text-muted">Αριθμός ανοιχτών θέσεων για αυτή τη θέση εργασίας (ελάχιστο 3)</small>
                                                        </div>
                                                    </div>


                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="positionAttachment">Συνημμένο Αρχείο Θέσης Εργασίας 
                                                                <span style="font-style: italic; color: gray;"> (Προαιρετικό)</span>
                                                            </label>
                                                            <InputFile id="positionAttachment" class="form-control" OnChange="HandleFileSelected" />
                                                            <small class="form-text text-muted">Όριο 10MB - Μόνο αρχεία PDF</small>
                                                            @if (!string.IsNullOrEmpty(PositionAttachmentErrorMessage))
                                                            {
                                                                <div class="text-danger mt-2">@PositionAttachmentErrorMessage</div>
                                                            }
                                                        </div>
                                                    </div>


                                                    <!-- Save Buttons -->
                                                    <div class="row mb-3">
                                                        <div class="col-md-12">
                                                            <button class="modern-button" style="background-color: #818589; color: white; display: inline-flex; align-items: center;" @onclick="HandleTemporarySaveJobAsCompany">
                                                                <i class="fa-regular fa-floppy-disk" style="margin-right: 8px;"></i>Προσωρινή Αποθήκευση Θέσης Εργασίας
                                                            </button>
                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="HandlePublishSaveJobAsCompany">
                                                                <i class="fa-solid fa-floppy-disk" style="margin-right: 8px;"></i>Δημοσίευση Θέσης Εργασίας
                                                            </button>
                                                        </div>
                                                    </div>

                                                    <!-- Loading Modal for Company Job -->
                                                    @if (showLoadingModalForJob)
                                                    {
                                                        <div class="loading-modal">
                                                            <div class="loading-modal-content">
                                                                <div class="loading-spinner"></div>
                                                                <p>Αποθήκευση Θέσης Εργασίας...</p>
                                                                <div class="progress-bar">
                                                                    <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    }
                                                    
                                                        @if (showSuccessMessage)
                                                        {
                                                            <div class="good-message">
                                                                Η Νέα Θέση Εργασίας υποβλήθηκε με επιτυχία!
                                                            </div>
                                                        }
                                                        @if (showErrorMessageforUploadingjobsAsCompany)
                                                        {
                                                            <div class="alert alert-danger" role="alert">
                                                                Συμπληρώστε Όλα Τα Υποχρεωτικά Πεδία και Προσπαθήστε Ξανά
                                                            </div>
                                                        }
                                                }
                                                    <div id="energes-theseis-ergasias-company"></div>
                                                    <!-- VIEW UPLOADED JOBS AS COMPANY -->
                                                    <div class="mb-3 row-dark-gray">
                                                        <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityToShowMyActiveJobsAsCompany" style="cursor: pointer;">
                                                            <label class="form-label" style="color: #FFF8DC;">
                                                                @if (isLoadingJobsHistory)
                                                                {
                                                                    <span>
                                                                        <i class="fas fa-spinner fa-spin me-2"></i>
                                                                        Φόρτωση Ιστορικού...
                                                                    </span>
                                                                }
                                                                else
                                                                {
                                                                    <span>• Ιστορικό Θέσεων Εργασίας •</span>
                                                                }
                                                            </label>
                                                            <button class="btn btn-link" @onclick="ToggleFormVisibilityToShowMyActiveJobsAsCompany" @onclick:stopPropagation="true">
                                                                @if (isForm2Visible && !isLoadingJobsHistory)
                                                                {
                                                                    <span>&#8722;</span> <!-- Minus sign -->
                                                                }
                                                                else if (!isLoadingJobsHistory)
                                                                {
                                                                    <span>&#43;</span> <!-- Plus sign -->
                                                                }
                                                            </button>
                                                        </div>
                                                    </div>
                                                    @if (isForm2Visible && !isLoadingJobsHistory)
                                                    {                                                       
                                                        <div class="col-md-2">
                                                            <label for="statusFilterForJobs" style="color: #2d3748;"><strong>Φίλτρο Εμφάνισης</strong></label>
                                                            <div class="input-group">
                                                                <select id="statusFilterForJobs" class="form-control form-control-sm" @bind="selectedStatusFilterForJobs">
                                                                    <option value="Όλα">Όλες</option>
                                                                    <option value="Δημοσιευμένη">Δημοσιευμένες</option>
                                                                    <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένες</option>
                                                                    <option value="Αποσυρμένη">Αποσυρμένες</option>
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-2">
                                                            <label style="color: #2d3748;"><strong>Αποτελέσματα ανά Σελίδα</strong></label>
                                                            <div class="input-group" style="max-width: 65px;">
                                                                <select class="form-control form-control-sm" @onchange="OnPageSizeChange_SeeMyUploadedJobsAsCompany">
                                                                    @foreach (var option in pageSizeOptions_SeeMyUploadedJobsAsCompany)
                                                                    {
                                                                        <option value="@option" selected="@(JobsPerPage == option)">@option</option>
                                                                    }
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <br/>
                                                        <div class="col-md-2">
                                                            @if (selectedStatusFilterForJobs == "Όλα")
                                                            {
                                                                <span><strong>Σύνολο: </strong>@totalCountJobs</span>
                                                            }
                                                            else if (selectedStatusFilterForJobs == "Δημοσιευμένη")
                                                            {
                                                                <span><strong>Σύνολο: </strong>@publishedCountJobs</span>
                                                            }
                                                            else if (selectedStatusFilterForJobs == "Μη Δημοσιευμένη")
                                                            {
                                                                <span><strong>Σύνολο: </strong>@unpublishedCountJobs</span>
                                                            }
                                                            else if (selectedStatusFilterForJobs == "Αποσυρμένη")
                                                            {
                                                                <span><strong>Σύνολο: </strong>@withdrawnCountJobs</span>
                                                            }
                                                        </div>                                                    

                                                        <!-- Bulk Edit Section for Jobs - Only show when there are jobs -->
                                                        @if (jobs != null && jobs.Any())
                                                        {
                                                            <div class="row mb-3">
                                                                <div class="col-md-12">
                                                                    <!-- Bulk Edit Button - Show when NOT in bulk edit mode -->
                                                                    @if (!isBulkEditMode)
                                                                    {
                                                                        <div class="mb-2" style="margin-left: -10px;">
                                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                    @onclick="EnableBulkEditMode"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-edit" style="margin-right: 8px;"></i>Μαζική Επεξεργασία Θέσεων Εργασίας
                                                                            </button>
                                                                        </div>
                                                                    }

                                                                    <!-- Bulk Action Controls - Show when in bulk edit mode -->
                                                                    @if (isBulkEditMode)
                                                                    {
                                                                        <div class="mb-2" style="margin-left: -10px;">
                                                                            <div class="d-flex gap-2 align-items-center flex-wrap">
                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                        @onclick='() => ExecuteBulkStatusChangeForJobs("Δημοσιευμένη")'
                                                                                        disabled="@(selectedJobIds.Count == 0)"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-arrow-up me-2"></i>Αλλαγή σε Δημοσιευμένη
                                                                                </button>
                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                        @onclick='() => ExecuteBulkStatusChangeForJobs("Μη Δημοσιευμένη")'
                                                                                        disabled="@(selectedJobIds.Count == 0)"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-arrow-down me-2"></i>Αλλαγή σε Μη Δημοσιευμένη
                                                                                </button>
                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                        @onclick='() => ExecuteBulkStatusChangeForJobs("Αποσυρμένη")'
                                                                                        disabled="@(selectedJobIds.Count == 0)"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-times me-2"></i>Αλλαγή σε Αποσυρμένη
                                                                                </button>
                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                        @onclick="ExecuteBulkCopyForJobs"
                                                                                        disabled="@(selectedJobIds.Count == 0)"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-copy me-2"></i>Κλωνοποίηση 
                                                                                </button>
                                                                                <button class="modern-button" style="background-color: #6c757d; color: white; display: inline-flex; align-items: center;" 
                                                                                        @onclick="CancelBulkEdit"
                                                                                        onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                        onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                    <i class="fas fa-times me-2"></i>Ακύρωση
                                                                                </button>
                                                                            </div>

                                                                            <!-- Selected count badge -->
                                                                            @if (selectedJobIds.Count > 0)
                                                                            {
                                                                                <div class="mt-2">
                                                                                    <span class="badge bg-primary">
                                                                                        Επιλεγμένες Θέσεις: @selectedJobIds.Count
                                                                                    </span>
                                                                                </div>
                                                                            }

                                                                            <!-- Instruction text - ALWAYS show when in bulk edit mode -->
                                                                            <div class="mt-2">
                                                                                <div class="alert alert-info" style="background-color: #e7f3ff; border: 1px solid #b3d9ff; color: #004085; border-radius: 6px; padding: 8px 12px;">
                                                                                    <i class="fas fa-info-circle me-2"></i>
                                                                                    <strong>Επιλέξτε Θέσεις Εργασίας στον Πίνακα</strong>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    }
                                                                </div>
                                                            </div>
                                                        }

                                                        <!-- Add the legend here - right before the table -->
                                                        <div class="d-flex justify-content-end mb-2">
                                                            <div class="status-legend" style="display: flex; align-items: center; gap: 15px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 6px; padding: 6px 12px;">
                                                                <div style="display: flex; align-items: center; gap: 8px;">
                                                                    <div style="display: flex; align-items: center;">
                                                                        <div style="width: 16px; height: 16px; background-color: lightblue; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                        <span>Δημοσιευμένη</span>
                                                                    </div>
                                                                    <div style="display: flex; align-items: center;">
                                                                        <div style="width: 16px; height: 16px; background-color: lightcoral; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                        <span>Μη Δημοσιευμένη</span>
                                                                    </div>
                                                                    <div style="display: flex; align-items: center;">
                                                                        <div style="width: 16px; height: 16px; background-color: lightyellow; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                        <span>Αποσυρμένη</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div style="max-width: auto; margin-left: 0;">
                                                            <div class="table-responsive">
                                                                <table class="table table-striped">
                                                                    <thead>
                                                                        <tr style="border: 2px solid black; background-color: lightgray;">
                                                                            @if (isBulkEditMode && jobs != null && jobs.Any())
                                                                            {
                                                                                <th style="border: 2px solid black; width: 40px;">
                                                                                    #
                                                                                </th>
                                                                            }
                                                                            <th style="border: 2px solid black;"><i class="fa-solid fa-key fa-sm" style="color: #0d6efd;"></i> Κωδικός Θέσης</th>
                                                                            <th style="border: 2px solid black;">
                                                                              <i class="fa-solid fa-font fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                              Τίτλος
                                                                            </th>
                                                                            <th style="border: 2px solid black;">
                                                                              <i class="fa-solid fa-arrows-up-down fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                              Κατάσταση Θέσης
                                                                            </th>
                                                                            <th style="border: 2px solid black;">
                                                                              <i class="fa-solid fa-calendar-days fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                              Δημιουργία Θέσης
                                                                            </th>
                                                                            <th style="border: 2px solid black;">
                                                                              <i class="fa-solid fa-hand fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                              Ενέργειες
                                                                            </th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        @if (jobs != null && jobs.Any())
                                                                        {
                                                                            @foreach (var job in GetPaginatedJobs().Where(j => selectedStatusFilterForJobs == "Όλα" || j.PositionStatus == selectedStatusFilterForJobs))
                                                                            {
                                                                                <!-- Main Job Row -->
                                                                                <tr style="background-color: @(job.PositionStatus == "Δημοσιευμένη" ? "lightblue" : (job.PositionStatus == "Μη Δημοσιευμένη" ? "lightcoral" : "lightyellow")); border: 2px solid black;">
                                                                                    @if (isBulkEditMode)
                                                                                    {
                                                                                        <td style="border: 1px solid black; text-align: center;">
                                                                                            <input type="checkbox" 
                                                                                                   @onchange="@((e) => ToggleJobSelection(job.Id, e))" 
                                                                                                   checked="@selectedJobIds.Contains(job.Id)" />
                                                                                        </td>
                                                                                    }
                                                                                    <td style="color: #2d3748; border: 1px solid black;">
                                                                                        @job.RNGForPositionUploaded_HashedAsUniqueID
                                                                                    </td>
                                                                                    <td style="border: 1px solid black;">@job.PositionTitle</td>
                                                                                    <td style="border: 1px solid black;">@job.PositionStatus</td>
                                                                                    <td style="border: 1px solid black;">@job.UploadDateTime</td>
                                                                                    <td style="border: 1px solid black; position: relative;" class="actions-cell">
                                                                                        <div class="dropdown">
                                                                                            <!-- Options menu button with ellipsis-h icon -->
                                                                                            <button class="btn btn-action btn-menu" 
                                                                                                    @onclick="() => ToggleJobMenu(job.Id)" 
                                                                                                    title="Ενέργειες"
                                                                                                    @onclick:stopPropagation="true">
                                                                                                <i class="fas fa-ellipsis-h icon-button"></i>
                                                                                            </button>
        
                                                                                            <!-- Dropdown menu -->
                                                                                            @if (activeJobMenuId == job.Id)
                                                                                            {
                                                                                                <!-- Invisible backdrop that covers entire screen -->
                                                                                                <div class="dropdown-backdrop" @onclick="() => ToggleJobMenu(0)"></div>
            
                                                                                                <div class="dropdown-menu show" @onclick:stopPropagation="true">
                                                                                                    <!-- Delete option -->
                                                                                                    <button class="dropdown-item" @onclick="() => { DeleteJobPosition(job.Id); ToggleJobMenu(0); }">
                                                                                                        <i class="fas fa-trash me-2" style="color: #f56565;"></i>
                                                                                                        <span>Διαγραφή</span>
                                                                                                    </button>
                
                                                                                                    <!-- View details option -->
                                                                                                    <button class="dropdown-item" @onclick="() => { ShowJobDetails(job); ToggleJobMenu(0); }">
                                                                                                        <i class="fas fa-eye me-2" style="color: #63b3ed;"></i>
                                                                                                        <span>Προβολή</span>
                                                                                                    </button>

                                                                                                    <!-- Download attachment option (only if attachment exists) -->
                                                                                                    @if (job.PositionAttachment != null && job.PositionAttachment.Length > 0)
                                                                                                    {
                                                                                                        <button class="dropdown-item" @onclick="() => { DownloadAttachmentForCompanyJobs(job.Id); ToggleJobMenu(0); }">
                                                                                                            <i class="fas fa-download me-2" style="color: #48bb78;"></i>
                                                                                                            <span>Λήψη Αρχείου</span>
                                                                                                        </button>
                                                                                                    }

                                                                                                    <!-- View applicants option -->
                                                                                                    <button class="dropdown-item" @onclick="() => { ToggleJobsExpanded(job.RNGForPositionUploaded); ToggleJobMenu(0); }">
                                                                                                        <i class="fa-solid fa-graduation-cap me-2" style="color: #63b3ed;"></i>
                                                                                                        <span>Αιτούντες</span>
                                                                                                    </button>

                                                                                                    <!-- Status change options -->
                                                                                                    @if (job.PositionStatus != "Δημοσιευμένη")
                                                                                                    {
                                                                                                        <!-- Edit option (only for non-published) -->
                                                                                                        <button class="dropdown-item" @onclick="() => { EditJobDetails(job); ToggleJobMenu(0); }">
                                                                                                            <i class="fas fa-pencil-alt me-2" style="color: #8b5cf6;"></i>
                                                                                                            <span>Επεξεργασία</span>
                                                                                                        </button>
                    
                                                                                                        <!-- Publish option -->
                                                                                                        <button class="dropdown-item" @onclick='async () => { await UpdateJobStatusAsCompany(job.Id, "Δημοσιευμένη"); ToggleJobMenu(0); }'>
                                                                                                            <i class="fas fa-arrow-up me-2" style="color: #68d391;"></i>
                                                                                                            <span>Δημοσίευση</span>
                                                                                                        </button>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <!-- Withdraw option (only for published) -->
                                                                                                        <button class="dropdown-item" @onclick='async () => { await UpdateJobStatusAsCompany(job.Id, "Αποσυρμένη"); ToggleJobMenu(0); }'>
                                                                                                            <i class="fas fa-times me-2" style="color: #f56565;"></i>
                                                                                                            <span>Απόσυρση</span>
                                                                                                        </button>
                                                                                                    }

                                                                                                    @if (job.PositionStatus != "Μη Δημοσιευμένη")
                                                                                                    {
                                                                                                        <!-- Unpublish option -->
                                                                                                        <button class="dropdown-item" @onclick='() => { ChangeJobStatusToUnpublished(job.Id); ToggleJobMenu(0); }'>
                                                                                                            <i class="fas fa-arrow-down me-2" style="color: #f6e05e;"></i>
                                                                                                            <span>Αποδημοσίευση</span>
                                                                                                        </button>
                                                                                                    }
                                                                                                </div>
                                                                                            }
                                                                                        </div>
    
                                                                                        <!-- Loading Modal for Delete Job Position -->
                                                                                        @if (showLoadingModalForDeleteJob)
                                                                                        {
                                                                                            <div class="loading-modal">
                                                                                                <div class="loading-modal-content">
                                                                                                    <div class="loading-spinner"></div>
                                                                                                    <p>Διαγραφή Θέσης Εργασίας...</p>
                                                                                                    <div class="progress-bar">
                                                                                                        <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        }
                                                                                    </td>
                                                                                </tr>

                                                                                <!-- Applicants Section - Connected to the main row -->
                                                                                @if (currentlyExpandedJobId == job.RNGForPositionUploaded)
                                                                                {
                                                                                    <tr style="background-color: #e8f4f8; border-left: 4px solid #0d6efd;">
                                                                                        <td colspan="@(isBulkEditMode ? "6" : "5")" style="padding: 0; border: 1px solid #0d6efd;">
                                                                                            <div style="background: linear-gradient(135deg, #e8f4f8 0%, #d1ecf1 100%); padding: 15px; border-radius: 0 0 5px 5px;">
                                                                                                <!-- Loading State for Applicants -->
                                                                                                @if (isLoadingJobApplicants && loadingJobPositionId == job.RNGForPositionUploaded)
                                                                                                {
                                                                                                    <div class="text-center" style="padding: 40px;">
                                                                                                        <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                                                                                                            <span class="sr-only">Φόρτωση...</span>
                                                                                                        </div>
                                                                                                        <p style="color: #0d6efd; font-weight: bold; margin-top: 15px; font-size: 16px;">
                                                                                                            Φόρτωση αιτούντων...
                                                                                                        </p>
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <!-- BULK ACTIONS SECTION FOR APPLICANTS -->
                                                                                                    @if (jobApplicantsMap.ContainsKey(job.RNGForPositionUploaded) && jobApplicantsMap[job.RNGForPositionUploaded].Any())
                                                                                                    {
                                                                                                        <div class="row mb-3">
                                                                                                            <div class="col-md-12">
                                                                                                                <!-- Bulk Edit Button for Applicants - Show when NOT in bulk edit mode -->
                                                                                                                @if (!isBulkEditModeForApplicants)
                                                                                                                {
                                                                                                                    <div class="mb-2" style="text-align: left; margin-left: -15px;">
                                                                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                @onclick="() => EnableBulkEditModeForApplicants(job.RNGForPositionUploaded)"
                                                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                            <i class="fas fa-edit" style="margin-right: 8px;"></i>Μαζική Επεξεργασία Αιτούντων
                                                                                                                        </button>
                                                                                                                    </div>
                                                                                                                }

                                                                                                                <!-- Bulk Action Controls - Show when in bulk edit mode -->
                                                                                                                @if (isBulkEditModeForApplicants)
                                                                                                                {
                                                                                                                    <div class="mb-2" style="text-align: left; margin-left: -15px;">
                                                                                                                        <div class="d-flex gap-2 align-items-center flex-wrap">
                                                                                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                    @onclick='() => ShowEmailConfirmationModalForApplicants("accept")'
                                                                                                                                    disabled="@(selectedApplicantIds.Count == 0)"
                                                                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                                <i class="fas fa-check me-2"></i>Μαζική Αποδοχή
                                                                                                                            </button>
                                                                                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                    @onclick='() => ShowEmailConfirmationModalForApplicants("reject")'
                                                                                                                                    disabled="@(selectedApplicantIds.Count == 0)"
                                                                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                                <i class="fas fa-times me-2"></i>Μαζική Απόρριψη
                                                                                                                            </button>
                                                                                                                            <button class="modern-button" style="background-color: #6c757d; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                    @onclick="CancelBulkEditForApplicants"
                                                                                                                                    onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                                                                    onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                                                                <i class="fas fa-times me-2"></i>Ακύρωση
                                                                                                                            </button>
                                                                                                                        </div>

                                                                                                                        <!-- Badges section - All badges together -->
                                                                                                                        <div class="mt-2 d-flex gap-2 align-items-center flex-wrap">
                                                                                                                            <!-- Selected count badge -->
                                                                                                                            @if (selectedApplicantIds.Count > 0)
                                                                                                                            {
                                                                                                                                <span class="badge bg-primary">
                                                                                                                                    Επιλεγμένες Αιτήσεις: @selectedApplicantIds.Count
                                                                                                                                </span>
                                                                                                                            }
                        
                                                                                                                            <!-- Total and Accepted badges -->
                                                                                                                            <span class="badge badge-primary" style="background-color: #0d6efd; padding: 5px 10px; border-radius: 15px;">
                                                                                                                                Σύνολο Αιτήσεων: @(jobApplicantsMap.ContainsKey(job.RNGForPositionUploaded) ? jobApplicantsMap[job.RNGForPositionUploaded].Count().ToString() : "0")
                                                                                                                            </span>
                                                                                                                            <span class="badge badge-info" style="background-color: #17a2b8; padding: 5px 10px; border-radius: 15px;">
                                                                                                                                Έχετε Αποδεχτεί: @acceptedApplicantsCountPerJob_ForCompanyJob.GetValueOrDefault(job.RNGForPositionUploaded, 0)/@availableSlotsPerJob_ForCompanyJob.GetValueOrDefault(job.RNGForPositionUploaded, job.OpenSlots)
                                                                                                                            </span>                                                                                                                        
                                                                                                                        </div>

                                                                                                                        <!-- Instruction text - ALWAYS show when in bulk edit mode -->
                                                                                                                        <div class="mt-2">
                                                                                                                            <div class="alert alert-info" style="background-color: #e7f3ff; border: 1px solid #b3d9ff; color: #004085; border-radius: 6px; padding: 8px 12px;">
                                                                                                                                <i class="fas fa-info-circle me-2"></i>
                                                                                                                                <strong>Επιλέξτε Αιτήσεις στον Πίνακα</strong>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                }
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    }
                                                                                                    <!-- END BULK ACTIONS SECTION -->

                                                                                                    @if (jobApplicantsMap.ContainsKey(job.RNGForPositionUploaded) && jobApplicantsMap[job.RNGForPositionUploaded].Any())
                                                                                                    {
                                                                                                        <div class="table-responsive">
                                                                                                            <table class="table table-striped">
                                                                                                                <thead>
                                                                                                                    <tr style="background-color: #cce7ff; border: 1px solid #0d6efd;">
                                                                                                                        @if (isBulkEditModeForApplicants)
                                                                                                                        {
                                                                                                                            <th style="border: 1px solid #0d6efd; width: 40px;">
                                                                                                                                #
                                                                                                                            </th>
                                                                                                                        }
                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fa-solid fa-user fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                            Προφίλ
                                                                                                                        </th>
                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fa-solid fa-signature fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                            Όνομα
                                                                                                                        </th>
                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fa-solid fa-signature fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                            Επώνυμο
                                                                                                                        </th>
                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fa-solid fa-calendar-plus fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                            Ημερομηνία Αίτησης
                                                                                                                        </th>
                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fa-solid fa-calendar-plus fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                            Έτος Φοίτησης
                                                                                                                        </th>
                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fa-solid fa-phone fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                            Τηλέφωνο
                                                                                                                        </th>
                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                            Email
                                                                                                                        </th>
                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fa-solid fa-hand fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                            Ενέργεια
                                                                                                                        </th>
                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fa-solid fa-hourglass-half fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                            Κατάσταση Αίτησης
                                                                                                                        </th>
                                                                                                                    </tr>
                                                                                                                </thead>
                                                                                                                <tbody>
                                                                                                                    @if (studentDataCache == null)
                                                                                                                    {
                                                                                                                        <tr>
                                                                                                                            <td colspan="9" class="text-center" style="border: 1px solid #0d6efd;">
                                                                                                                                <div class="spinner-border text-primary" role="status">
                                                                                                                                    <span class="sr-only">Φόρτωση...</span>
                                                                                                                                </div>
                                                                                                                                <p>Φόρτωση δεδομένων φοιτητών...</p>
                                                                                                                            </td>
                                                                                                                        </tr>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        @foreach (var applicant in jobApplicantsMap[job.RNGForPositionUploaded])
                                                                                                                        {
                                                                                                                            var student = studentDataCache.TryGetValue(applicant.StudentEmailAppliedForCompanyJob, out var s) ? s : null;
                                                                                                                            var status = applicant.CompanyPositionStatusAppliedAtTheStudentSide ?? "N/A";
                                                                                                                            var companyStatus = applicant.CompanyPositionStatusAppliedAtTheCompanySide ?? "N/A";

                                                                                                                            <tr style="background-color: @(companyStatus == "Επιτυχής" ? "lightgreen" :
                                                                                                                                                            companyStatus == "Απορρίφθηκε" ? "lightcoral" :
                                                                                                                                                            companyStatus == "Απορρίφθηκε (Απόσυρση Θέσεως Από Εταιρία)" ? "coral" :
                                                                                                                                                            companyStatus == "Αποσύρθηκε από τον φοιτητή" ? "lightyellow" : "transparent")">
                                                                                                                                @if (isBulkEditModeForApplicants)
                                                                                                                                {
                                                                                                                                    <td style="border: 1px solid #0d6efd; text-align: center;">
                                                                                                                                        <div class="disabled-checkbox-container">
                                                                                                                                            <input type="checkbox" 
                                                                                                                                                   @onchange="@((e) => ToggleApplicantSelection(applicant.RNGForCompanyJobApplied, applicant.StudentUniqueIDAppliedForCompanyJob, e))" 
                                                                                                                                                   checked="@selectedApplicantIds.Contains((applicant.RNGForCompanyJobApplied, applicant.StudentUniqueIDAppliedForCompanyJob))"
                                                                                                                                                   disabled="@(companyStatus != "Σε Επεξεργασία")"
                                                                                                                                                   class="@(companyStatus != "Σε Επεξεργασία" ? "disabled-checkbox" : "")" />
                                                                                                                                        </div>
                                                                                                                                    </td>
                                                                                                                                }
                                                                                                                                <td style="border: 1px solid #0d6efd;">
                                                                                                                                    <a href="#" @onclick='() => ShowStudentDetailsInNameAsHyperlink(applicant.StudentUniqueIDAppliedForCompanyJob, applicant.Id, "Job")' 
                                                                                                                                       title="Προφίλ Υποψήφιου Σπουδαστή" style="color: #0d6efd; text-decoration: none;">
                                                                                                                                        <i class="fas fa-eye icon-button text-dark"></i>
                                                                                                                                        @if (student == null)
                                                                                                                                        {
                                                                                                                                            <span class="badge badge-warning ml-1">Δε βρέθηκε</span>
                                                                                                                                        }
                                                                                                                                    </a>
                                                                                                                                </td>
                                                                                                                                <td style="border: 1px solid #0d6efd;">@(student?.Name ?? "Δε βρέθηκε")</td>
                                                                                                                                <td style="border: 1px solid #0d6efd;">@(student?.Surname ?? "Δε βρέθηκε")</td>
                                                                                                                                <td style="border: 1px solid #0d6efd;">@applicant.DateTimeStudentAppliedForCompanyJob.ToString("dd/MM/yyyy HH:mm")</td>
                                                                                                                                <td style="border: 1px solid #0d6efd;">@(student?.StudyYear ?? "-")</td>
                                                                                                                                <td style="border: 1px solid #0d6efd;">
                                                                                                                                    <i class="fas fa-phone-alt"></i> @(student?.Telephone ?? "-")
                                                                                                                                </td>
                                                                                                                                <td style="border: 1px solid #0d6efd;">
                                                                                                                                    <i class="fas fa-envelope"></i> @applicant.StudentEmailAppliedForCompanyJob
                                                                                                                                </td>
                                                                                                                                <td style="border: 1px solid #0d6efd;">
                                                                                                                                    @if (status == "Σε Επεξεργασία")
                                                                                                                                    {
                                                                                                                                        <div style="display: flex; gap: 10px; justify-content: center;">
                                                                                                                                            <span @onclick="() => ConfirmAndAcceptJob(applicant.RNGForCompanyJobApplied, applicant.StudentUniqueIDAppliedForCompanyJob)" 
                                                                                                                                                  title="Αποδοχή Αίτησης" style="cursor: pointer;">
                                                                                                                                                <i class="fas fa-check action-icon accept-icon"></i>
                                                                                                                                            </span>

                                                                                                                                            <span @onclick="() => ConfirmAndRejectJob(applicant.RNGForCompanyJobApplied, applicant.StudentUniqueIDAppliedForCompanyJob)" 
                                                                                                                                                  title="Απόρριψη Αίτησης" style="cursor: pointer;">
                                                                                                                                                <i class="fas fa-times action-icon reject-icon"></i>
                                                                                                                                            </span>
                                                                                                                                        </div>
                                                                                                                                    }
                                                                                                                                    else
                                                                                                                                    {
                                                                                                                                        <span class="text">@status</span>
                                                                                                                                    }
                                                                                                                                </td>
                                                                                                                                <td style="border: 1px solid #0d6efd;">
                                                                                                                                    @if (companyStatus == "Επιτυχής")
                                                                                                                                    {
                                                                                                                                        <span style="color: green; font-weight: bold;">Έχει γίνει Αποδοχή</span>
                                                                                                                                    }
                                                                                                                                    else if (companyStatus == "Απορρίφθηκε")
                                                                                                                                    {
                                                                                                                                        <span style="color: red; font-weight: bold;">Έχει Απορριφθεί</span>
                                                                                                                                    }
                                                                                                                                    else
                                                                                                                                    {
                                                                                                                                        <span>@companyStatus</span>
                                                                                                                                    }
                                                                                                                                </td>
                                                                                                                            </tr>
                                                                                                                        }
                                                                                                                    }
                                                                                                                </tbody>
                                                                                                            </table>
                                                                                                        </div>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <div class="text-center" style="padding: 20px;">
                                                                                                            <i class="fas fa-users fa-2x" style="color: #6c757d; margin-bottom: 10px;"></i>
                                                                                                            <p style="color: #6c757d; font-weight: bold; margin: 0;">
                                                                                                                Δεν Υπάρχουν Αιτούντες για αυτήν την Θέση Εργασίας Ακόμη
                                                                                                            </p>
                                                                                                        </div>
                                                                                                    }
                                                                                                }
                                                                                            </div>
                                                                                        </td>
                                                                                    </tr>
                                                                                }
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            <tr>
                                                                                <td colspan="@(isBulkEditMode && jobs != null && jobs.Any() ? "6" : "5")" class="text-center" style="border: 1px solid black;">
                                                                                    <div class="empty-state">
                                                                                        <i class="fas fa-briefcase fa-3x mb-3" style="color: #6c757d;"></i>
                                                                                        <h5 style="color: #2d3748; margin-bottom: 10px;">Δεν υπάρχουν Θέσεις Εργασίας</h5>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                        }
                                                                    </tbody>
                                                                </table>
            
                                                                @if (jobs != null && jobs.Any())
                                                                {
                                                                    <br/>
                                                                    <!-- Pagination Controls -->
                                                                    <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                        <!-- First Page (<<) -->
                                                                        <span class="pagination-item @(currentPageForJobs == 1 ? "disabled" : "")" 
                                                                              @onclick="@(() => GoToFirstPageForJobs())">
                                                                            &lt;&lt;
                                                                        </span>

                                                                        <!-- Previous Page (<) -->
                                                                        <span class="pagination-item @(currentPageForJobs == 1 ? "disabled" : "")" 
                                                                              @onclick="@(() => PreviousPageForJobs())">
                                                                            &lt;
                                                                        </span>

                                                                        <!-- Page Numbers -->
                                                                        @foreach (var pageNum in GetVisiblePagesForJobs())
                                                                        {
                                                                            @if (pageNum == -1)
                                                                            {
                                                                                <span class="pagination-ellipsis">...</span>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span class="pagination-item @(pageNum == currentPageForJobs ? "active" : "")" 
                                                                                      @onclick="@(() => GoToPageForJobs(pageNum))">
                                                                                    @pageNum
                                                                                </span>
                                                                            }
                                                                        }

                                                                        <!-- Next Page (>) -->
                                                                        <span class="pagination-item @(currentPageForJobs == totalPagesForJobs ? "disabled" : "")" 
                                                                              @onclick="@(() => NextPageForJobs())">
                                                                            &gt;
                                                                        </span>

                                                                        <!-- Last Page (>>) -->
                                                                        <span class="pagination-item @(currentPageForJobs == totalPagesForJobs ? "disabled" : "")" 
                                                                              @onclick="@(() => GoToLastPageForJobs())">
                                                                            &gt;&gt;
                                                                        </span>

                                                                        <!-- Page counter -->
                                                                        <span class="ms-3">Σελίδα @currentPageForJobs από @totalPagesForJobs</span>
                                                                    </div>
                                                                    <br/>
                                                                }
                                                            </div>
                                                        </div>
                                                        <br/>
                                                        <br/>
                                                    }
                                                            
                                                        </div>
                                                    </div>

                                            <!-- Slot Warning Modal - NEW CODE -->
                                            @if (showSlotWarningModal_ForCompanyJob)
                                            {
                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); border: 2px solid #2d3748;">
                                                            <div class="modal-header" style="border-bottom: 1px solid #2d3748; border-radius: 12px 12px 0 0; background-color: #FFFFFF;">
                                                                <h5 class="modal-title" style="color: #2d3748; font-weight: 600; font-size: 1.25rem;">
                                                                    <i class="fas fa-exclamation-triangle me-2"></i>Προσοχή - Όριο Slots Θέσης Εργασίας
                                                                </h5>
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                        @onclick="CloseSlotWarningModal_ForCompanyJob"
                                                                        onmouseover="this.style.backgroundColor='#2d3748'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                </button>
                                                            </div>
                                                            <div class="modal-body" style="padding: 20px;">
                                                                <div class="alert alert-warning" style="border-radius: 8px; margin: 0;">
                                                                    <div class="d-flex align-items-center">
                                                                        <i class="fas fa-exclamation-circle fa-2x me-3" style="color: #2d3748;"></i>
                                                                        <div>
                                                                            <h6 style="color: #2d3748; margin-bottom: 8px; font-weight: bold;">Υπέρβαση Διαθέσιμων Θέσεων</h6>
                                                                            <p style="color: #2d3748; margin: 0; line-height: 1.5;">@slotWarningMessage_ForCompanyJob</p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer" style="border-top: 1px solid #2d3748; border-radius: 0 0 12px 12px; background-color: #FFFFFF;">
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                        @onclick="CloseSlotWarningModal_ForCompanyJob"
                                                                        onmouseover="this.style.backgroundColor='#2d3748'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <i class="fas fa-times me-1"></i>Κλείσιμο
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }

                                            <!-- Bulk Action Modal -->
                                            @if (showBulkActionModal)
                                            {
                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                    <i class="fas fa-cogs me-2"></i>Μαζική Επεξεργασία
                                                                </h5>
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                        @onclick="CloseBulkActionModal"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                </button>
                                                            </div>
                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                <div class="list-group">
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold; color: #2d3748;">Επιλεγμένες Θέσεις</label>
                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-list-check" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                            <span>@selectedJobIds.Count θέσεις</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold; color: #2d3748;">Επιλέξτε Ενέργεια</label>
                                                                        <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; border: none;">
                                                                            <div class="form-check mb-2">
                                                                                <input class="form-check-input" type="radio" name="bulkAction" 
                                                                                       id="actionStatus" value="status" @onchange="@((e) => bulkAction = "status")" 
                                                                                       style="cursor: pointer; margin-right: 8px;" />
                                                                                <label class="form-check-label" for="actionStatus" style="cursor: pointer; color: #2d3748;">
                                                                                    <i class="fas fa-arrows-up-down me-1" style="color: #4682B4;"></i>
                                                                                    Αλλαγή Κατάστασης
                                                                                </label>
                                                                            </div>
                                                                            <div class="form-check">
                                                                                <input class="form-check-input" type="radio" name="bulkAction" 
                                                                                       id="actionCopy" value="copy" @onchange="@((e) => bulkAction = "copy")" 
                                                                                       style="cursor: pointer; margin-right: 8px;" />
                                                                                <label class="form-check-label" for="actionCopy" style="cursor: pointer; color: #2d3748;">
                                                                                    <i class="fas fa-copy me-1" style="color: #4682B4;"></i>
                                                                                    Αντιγραφή Θέσεων
                                                                                </label>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    @if (bulkAction == "status")
                                                                    {
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold; color: #2d3748;">Νέα Κατάσταση</label>
                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; padding: 0;">
                                                                                <select class="form-select" @bind="newStatusForBulkAction" style="border: none; background: transparent; box-shadow: none;">
                                                                                    <option value="Δημοσιευμένη">Δημοσιευμένη</option>
                                                                                    <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένη</option>
                                                                                    <option value="Αποσυρμένη">Αποσυρμένη</option>
                                                                                </select>
                                                                            </div>
                                                                        </div>
                                                                    }
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                        @onclick="CloseBulkActionModal"
                                                                        onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                        onmouseout="this.style.backgroundColor='#6c757d'">
                                                                    <i class="fas fa-times me-1"></i>Ακύρωση
                                                                </button>
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                        @onclick="ExecuteBulkAction" 
                                                                        disabled="@string.IsNullOrEmpty(bulkAction)"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <i class="fas fa-play me-1"></i>Εκτέλεση
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }

                                            <!-- Email Confirmation Modal for Applicants -->
                                            @if (showEmailConfirmationModalForApplicants)
                                            {
                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                    <i class="fas fa-envelope me-2"></i>Αποστολή Email
                                                                </h5>
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                        @onclick="CloseEmailConfirmationModalForApplicants"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                </button>
                                                            </div>
                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                <div class="list-group">
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold; color: #2d3748;">Επιλεγμένες Αιτήσεις</label>
                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-list-check" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                            <span>@selectedApplicantIds.Count αιτήσεις</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold; color: #2d3748;">Ενέργεια</label>
                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas @(pendingBulkActionForApplicants == "accept" ? "fa-check text-success" : "fa-times text-danger") me-2"></i>
                                                                            <span>@(pendingBulkActionForApplicants == "accept" ? "Μαζική Αποδοχή" : "Μαζική Απόρριψη")</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold; color: #2d3748;">Αποστολή Email Ειδοποιήσεων</label>
                                                                        <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; border: none;">
                                                                            <div class="form-check mb-2">
                                                                                <input class="form-check-input" type="radio" name="emailOption" 
                                                                                       id="sendEmails" value="true" @onchange="@((e) => sendEmailsForBulkAction = true)" 
                                                                                       checked="@sendEmailsForBulkAction"
                                                                                       style="cursor: pointer; margin-right: 8px;" />
                                                                                <label class="form-check-label" for="sendEmails" style="cursor: pointer; color: #2d3748;">
                                                                                    <i class="fas fa-envelope me-1" style="color: #4682B4;"></i>
                                                                                    Να σταλούν Email στους Φοιτητές και στην Εταιρεία
                                                                                </label>
                                                                            </div>
                                                                            <div class="form-check">
                                                                                <input class="form-check-input" type="radio" name="emailOption" 
                                                                                       id="dontSendEmails" value="false" @onchange="@((e) => sendEmailsForBulkAction = false)" 
                                                                                       checked="@(!sendEmailsForBulkAction)"
                                                                                       style="cursor: pointer; margin-right: 8px;" />
                                                                                <label class="form-check-label" for="dontSendEmails" style="cursor: pointer; color: #2d3748;">
                                                                                    <i class="fas fa-envelope-slash me-1" style="color: #6c757d;"></i>
                                                                                    Να μην σταλούν Email (μόνο ενημέρωση κατάστασης)
                                                                                </label>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="alert @(sendEmailsForBulkAction ? "alert-info" : "alert-warning")" style="border-radius: 8px;">
                                                                        <i class="fas @(sendEmailsForBulkAction ? "fa-info-circle" : "fa-exclamation-triangle") me-2"></i>
                                                                        @if (sendEmailsForBulkAction)
                                                                        {
                                                                            <strong>Πληροφορία:</strong> 
                                                                            <span>Θα σταλούν @selectedApplicantIds.Count email @(pendingBulkActionForApplicants == "accept" ? "αποδοχής" : "απόρριψης") στους φοιτητές και email ειδοποίησης στην εταιρεία.</span>
                                                                        }
                                                                        else
                                                                        {
                                                                            <strong>Προσοχή:</strong> 
                                                                            <span>Η ενέργεια θα εφαρμοστεί μόνο στην εφαρμογή. Δεν θα σταλούν email ειδοποιήσεων. Οι φοιτητές θα δουν την αλλαγή κατάστασης όταν συνδεθούν.</span>
                                                                        }
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                        @onclick="CloseEmailConfirmationModalForApplicants"
                                                                        onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                        onmouseout="this.style.backgroundColor='#6c757d'">
                                                                    <i class="fas fa-times me-1"></i>Ακύρωση
                                                                </button>
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                        @onclick="ExecuteBulkActionForApplicants" 
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <i class="fas fa-play me-1"></i>Εκτέλεση
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }
                                            

                                            @if (isModalVisibleForJobs)
                                            {
                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0,0,0,0.5);">
                                                    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                <h5 class="modal-title" style="color: #007BFF; font-weight: 600; font-size: 1.25rem;">
                                                                    <span>@currentJob.PositionTitle</span>
                                                                </h5>
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                        @onclick="CloseModalForJobs"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                </button>
                                                            </div>
                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                <div class="form-group">
                                                                    <label for="viewDescription"><strong>Περιγραφή</strong></label>
                                                                    <textarea id="viewDescription" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly>@currentJob.PositionDescription</textarea>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="viewType"><strong>Τύπος</strong></label>
                                                                    <input type="text" id="viewType" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;"
                                                                           value="@(currentJob.PositionType == "Full-Time" ? "Αορίστου Χρόνου" : 
                                                                                  currentJob.PositionType == "Part-Time" ? "Περιορισμένου Χρόνου" : 
                                                                                  currentJob.PositionType == "Simvasi-Ergou" ? "Σύμβαση Έργου" : "")" 
                                                                           readonly />
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="viewForeas"><strong>Φορέας</strong></label>
                                                                    <input type="text" id="viewForeas" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@currentJob.PositionForeas" readonly />
                                                                </div>
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Ξεκινάει Από</label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="far fa-calendar-alt" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                        <span>@currentJob.PositionActivePeriod.ToString("yyyy-MM-dd")</span>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Email Επικοινωνίας</label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-envelope" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                        <span>@currentJob.PositionContactPerson</span>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="viewPerifereiaLocation"><strong>Περιφέρεια</strong></label>
                                                                    <input type="text" id="viewPerifereiaLocation" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@currentJob.PositionPerifereiaLocation" readonly />
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="viewDimosLocation"><strong>Δήμος</strong></label>
                                                                    <input type="text" id="viewDimosLocation" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@currentJob.PositionDimosLocation" readonly />
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="viewPostalCodeLocation"><strong>Ταχ. Κώδικας</strong></label>
                                                                    <input type="text" id="viewPostalCodeLocation" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@currentJob.PositionPostalCodeLocation" readonly />
                                                                </div>
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Προσφορά Μεταφορικού Μέσου</label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; 
                                                                         @(currentJob.PositionTransportOffer ? "color: #28a745;" : "color: #dc3545;")">
                                                                        <i class="fas fa-car" style="margin-right: 8px;"></i>
                                                                        <span>@(currentJob.PositionTransportOffer ? "Ναι" : "Όχι")</span>
                                                                    </div>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="viewAreas"><strong>Τομείς</strong></label>
                                                                    <textarea id="viewAreas" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="3" readonly>@currentJob.PositionAreas</textarea>
                                                                </div>
                                                                <!-- ADDED: Open Slots Field -->
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Διαθέσιμες Θέσεις</label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; color: #007BFF;">
                                                                        <i class="fas fa-users" style="margin-right: 8px;"></i>
                                                                        <span>@currentJob.OpenSlots θέσεις</span>
                                                                    </div>
                                                                    <small class="form-text text-muted">Αριθμός ανοιχτών θέσεων για αυτή τη θέση εργασίας</small>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="viewStatus"><strong>Κατάσταση</strong></label>
                                                                    <select id="viewStatus" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" disabled>
                                                                        <option value="Δημοσιευμένη" selected="@(currentJob.PositionStatus == "Δημοσιευμένη")">Δημοσιευμένη</option>
                                                                        <option value="Μη Δημοσιευμένη" selected="@(currentJob.PositionStatus == "Μη Δημοσιευμένη")">Μη Δημοσιευμένη</option>
                                                                        <option value="Αποσυρμένη" selected="@(currentJob.PositionStatus == "Αποσυρμένη")">Αποσυρμένη</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                        @onclick="CloseModalForJobs"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <i class="fas fa-times me-2"></i> Κλείσιμο
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }

                                            @*MODAL FOR EDIT COMPANY JOBS*@
                                            @if (isEditPopupVisibleForJobs) 
                                            {
                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                <h5 class="modal-title" style="color: #007BFF; font-weight: 600; font-size: 1.25rem;">@selectedJob.PositionTitle</h5>
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                        @onclick="CloseEditPopupForJobs"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                </button>
                                                            </div>
                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                <div class="form-group">
                                                                    <label for="editTitle"><strong>Τίτλος</strong></label>
                                                                    <input type="text" id="editTitle" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedJob.PositionTitle" />
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="editDescription"><strong>Περιγραφή</strong></label>
                                                                    <textarea id="editDescription" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedJob.PositionDescription"></textarea>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label for="editType"><strong>Τύπος</strong></label>
                                                                    <div class="input-group">
                                                                        <select id="editType" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(selectedJob.PositionType) ? "shake error" : "")" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedJob.PositionType">
                                                                            <option value="Full-Time">Αορίστου Χρόνου</option>
                                                                            <option value="Part-Time">Περιορισμένου Χρόνου</option>
                                                                            <option value="Simvasi-Ergou">Σύμβαση Έργου</option>
                                                                        </select>
                                                                        <div class="input-group-append">
                                                                            <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #f8f9fa;">
                                                                                <i class="fas fa-chevron-down"></i>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label for="editForeas"><strong>Φορέας</strong></label>
                                                                    <div class="input-group">
                                                                        <select id="editForeas" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(selectedJob.PositionForeas) ? "shake error" : "")" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedJob.PositionForeas">
                                                                            @foreach (var foreas in ForeasType)
                                                                            {
                                                                                <option value="@foreas">@foreas</option>
                                                                            }
                                                                        </select>
                                                                        <div class="input-group-append">
                                                                            <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #f8f9fa;">
                                                                                <i class="fas fa-chevron-down"></i>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                 
                                                                <div class="form-group">
                                                                    <label for="editContactPerson"><strong>Υπεύθυνος Επικοινωνίας</strong></label>
                                                                    <input type="text" id="editContactPerson" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedJob.PositionContactPerson" />
                                                                </div>

                                                                <div class="form-group">
                                                                    <label for="editPerifereiaLocationForInternship"><strong>Περιφέρεια</strong></label>
                                                                    <div class="input-group">
                                                                        <select id="editPerifereiaLocationForInternship" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(selectedJob.PositionPerifereiaLocation) ? "shake error" : "")" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedJob.PositionPerifereiaLocation">
                                                                            <option value="">-- Επιλέξτε Περιφέρεια --</option>
                                                                            @foreach (var region in Regions)
                                                                            {
                                                                                <option value="@region">@region</option>
                                                                            }
                                                                        </select>
                                                                        <div class="input-group-append">
                                                                            <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #f8f9fa;">
                                                                                <i class="fas fa-chevron-down"></i>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label for="editDimosLocation"><strong>Δήμος</strong></label>
                                                                    <div class="input-group">
                                                                        <select id="editDimosLocation" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(selectedJob.PositionDimosLocation) ? "shake error" : "")" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedJob.PositionDimosLocation">
                                                                            <option value="">-- Επιλέξτε Δήμο --</option>
                                                                            @if (!string.IsNullOrEmpty(selectedJob.PositionPerifereiaLocation) && RegionToTownsMap.ContainsKey(selectedJob.PositionPerifereiaLocation))
                                                                            {
                                                                                foreach (var town in RegionToTownsMap[selectedJob.PositionPerifereiaLocation])
                                                                                {
                                                                                    <option value="@town">@town</option>
                                                                                }
                                                                            }
                                                                        </select>
                                                                        <div class="input-group-append">
                                                                            <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #f8f9fa;">
                                                                                <i class="fas fa-chevron-down"></i>
                                                                            </span>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label for="editPostalCodeLocation"><strong>Ταχυδρομικός Κώδικας</strong></label>
                                                                    <input type="text" id="editPostalCodeLocation" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedJob.PositionPostalCodeLocation" />
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="editTransportOffer"><strong>Προσφορά Μεταφοράς</strong></label>
                                                                    <div>
                                                                        <input type="checkbox" id="editTransportOffer" class="form-check-input" @bind="selectedJob.PositionTransportOffer" />
                                                                        <span class="ml-2">@(selectedJob.PositionTransportOffer ? "Ναι" : "Όχι")</span>
                                                                    </div>
                                                                </div>
                                                                <br/>
                    
                                                                <!-- UPDATED: Areas with Subfields -->
                                                                <div class="form-group">
                                                                    <label @onclick="ToggleCheckboxesForEditCompanyJob" style="cursor: pointer; display: flex; align-items: center;">
                                                                        <strong>Τομείς Εργασίας</strong>
                                                                        <span style="color: #1565c0; font-size: 0.9em; margin-left: 8px; display: flex; align-items: center;">
                                                                            <i class="fas @(showCheckboxesForEditCompanyJob ? "fa-chevron-up" : "fa-chevron-down")" style="margin-right: 4px;"></i>
                                                                            @(showCheckboxesForEditCompanyJob ? "Κλείσιμο" : "Άνοιγμα")
                                                                        </span>
                                                                    </label>
                                                                    @if (showCheckboxesForEditCompanyJob)
                                                                    {
                                                                        <div id="toggleCheckboxes" class="checkbox-container">
                                                                            @foreach (var area in Areas)
                                                                            {
                                                                                <div class="area-container" style="margin-bottom: 8px; border: 2px solid #1565c0; border-radius: 4px; padding: 8px; background-color: #f8f9fa;">
                                                                                    <div class="form-check area-header">
                                                                                        <input type="checkbox"
                                                                                               id="edit_area_@area.Id"
                                                                                               class="form-check-input"
                                                                                               @onchange="(e) => OnAreaCheckedChangedForEditCompanyJob(e, area)"
                                                                                               checked="@IsAreaSelectedForEditCompanyJob(area)" />
                                                                                        <label class="form-check-label area-label" 
                                                                                               for="edit_area_@area.Id"
                                                                                               @onclick="@(() => ToggleSubFieldsForEditCompanyJob(area))"
                                                                                               @onclick:stopPropagation="true"
                                                                                               style="cursor: pointer; font-weight: bold; display: flex; align-items: center; justify-content: space-between; width: 100%; color: #1565c0;">
                                                                                            @area.AreaName
                                                                                            <span class="expand-icon" style="font-size: 10px; transition: transform 0.2s; margin-left: 8px;">▶</span>
                                                                                        </label>
                                                                                    </div>
                                        
                                                                                    @if (ExpandedAreasForEditCompanyJob.Contains(area.Id))
                                                                                    {
                                                                                        <div class="subfields-container" style="margin-top: 8px; margin-left: 20px; padding-left: 15px; border-left: 2px solid #1565c0;">
                                                                                            @if (!string.IsNullOrEmpty(area.AreaSubFields))
                                                                                            {
                                                                                                var subFields = area.AreaSubFields.Split(',').Select(s => s.Trim()).ToList();
                                                                                                @foreach (var subField in subFields)
                                                                                                {
                                                                                                    <div class="form-check subfield-checkbox" style="margin-bottom: 4px;">
                                                                                                        <input type="checkbox"
                                                                                                               id="edit_subfield_@(area.Id)_@(subField)"
                                                                                                               class="form-check-input"
                                                                                                               @onchange="(e) => OnSubFieldCheckedChangedForEditCompanyJob(e, area, subField)"
                                                                                                               checked="@IsSubFieldSelectedForEditCompanyJob(area, subField)" />
                                                                                                        <label class="form-check-label" for="edit_subfield_@(area.Id)_@(subField)" style="font-weight: normal; font-size: 0.9em;">
                                                                                                            @subField
                                                                                                        </label>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    }
                                                                                </div>
                                                                            }
                                                                        </div>
                                                                    }
                                                                </div>
                                                                <br/>
                    
                                                                <div class="form-group">
                                                                    <label for="editActivePeriod"><strong>Ξεκινάει Από</strong></label>
                                                                    <input type="date" id="editActivePeriod" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedJob.PositionActivePeriod" />
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="editLastUpdate"><strong>Ημερομηνία Τελευταίας Ανανέωσης Θέσης</strong></label>
                                                                    <input type="date" id="editLastUpdate" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedJob.UpdateDateTime" />
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="editOpenSlots">
                                                                        <strong>Διαθέσιμες Θέσεις</strong>
                                                                        <span style="color: red;">*</span>
                                                                    </label>
                                                                    <input type="number" 
                                                                           id="editOpenSlots" 
                                                                           class="form-control @(showErrorMessage && (selectedJob?.OpenSlots ?? 0) < 3 ? "shake error" : "")" 
                                                                           style="border-radius: 8px; background-color: #f8f9fa;" 
                                                                           @bind="selectedJob.OpenSlots" 
                                                                           min="3" 
                                                                           step="1" />
                                                                    @if (showErrorMessage && (selectedJob?.OpenSlots ?? 0) < 3)
                                                                    {
                                                                        <div class="text-danger mt-1">Ο αριθμός των διαθέσιμων θέσεων πρέπει να είναι τουλάχιστον 3.</div>
                                                                    }
                                                                    <small class="form-text text-muted">Αριθμός ανοιχτών θέσεων για αυτή τη θέση εργασίας (ελάχιστο 3)</small>
                                                                </div>
                                                                <div class="form-group">
                                                                    <label for="editJobAttachment"><strong>Αντικατάσταση Συνημμένου</strong></label>
                                                                    <InputFile class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" OnChange="HandleFileUploadToEditCompanyJobAttachment" />
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                        @onclick="CloseEditPopupForJobs"
                                                                        onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                        onmouseout="this.style.backgroundColor='#6c757d'">
                                                                    <i class="fas fa-times me-2"></i> Ακύρωση
                                                                </button>
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                        @onclick="SaveEditedJob"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <i class="fas fa-save me-2"></i> Αποθήκευση
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }













                                                    <div id="jobs-tab-companies-end"></div>


                                                    <div id="internships-tab-companies-start"></div>


                                            <div class="tab-pane fade" id="internships" role="tabpanel" aria-labelledby="internships-tab">
                                                <!-- ΔΗΜΙΟΥΡΓΙΑ ΠΡΑΚΤΙΚΉΣ ΑΣΚΗΣΗΣ ΩΣ COMPANY USER-->
                                                <div class="mb-3 row-dark-gray">
                                                    <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityForUploadCompanyInternships" style="cursor: pointer;">
                                                        <label class="form-label" style="color: #FFF8DC;">• Δημιουργία Πρακτικής Άσκησης •</label>
                                                        <button class="btn btn-link" @onclick="ToggleFormVisibilityForUploadCompanyInternships" @onclick:stopPropagation="true">
                                                            @if (isUploadCompanyInternshipsFormVisible)
                                                            {
                                                                <span>&#8722;</span> <!-- Minus sign -->
                                                            }
                                                            else
                                                            {
                                                                <span>&#43;</span> <!-- Plus sign -->
                                                            }
                                                        </button>
                                                    </div>
                                                </div>
                                                @if (isUploadCompanyInternshipsFormVisible)
                                                {

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="companyinternshipType"><strong>Τύπος Θέσης</strong><span style="color: red;"> *</span></label>
                                                            <div class="input-group">
                                                                <select id="companyinternshipType" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(companyInternship.CompanyInternshipType) ? "shake error" : "")" @bind="companyInternship.CompanyInternshipType">
                                                                    <option value="">-- Επιλέξτε Τύπο Πρακτικής --</option>
                                                                    <option value="Full-Time">Πλήρης Απασχόλησης</option>
                                                                    <option value="Part-Time">Μερικής Απασχόλησης</option>
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        @if (showErrorMessage && string.IsNullOrWhiteSpace(companyInternship.CompanyInternshipType))
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται επιλογή Τύπου Θέσης.</div>
                                                        }
                                                    </div>
                                                    

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="companyinternshipESPA"><strong>Χρηματοδότηση</strong><span style="color: red;"> *</span></label>
                                                            <div class="input-group">
                                                                <select id="companyinternshipESPA" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(companyInternship.CompanyInternshipESPA) ? "shake error" : "")" @bind="companyInternship.CompanyInternshipESPA">
                                                                    <option value="">-- Επιλέξτε Χρηματοδότηση --</option>
                                                                    <option value="ESPA-Funding">Μέσω ΕΣΠΑ</option>
                                                                    <option value="Self-Funding">Ιδίου Φορέα</option>
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        @if (showErrorMessage && string.IsNullOrWhiteSpace(companyInternship.CompanyInternshipESPA))
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται επιλογή Τύπου Χρηματοδότησης.</div>
                                                        }
                                                    </div>
                                                    

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyInternshipActivePeriod"><strong>Διαθέσιμη Από</strong><span style="color: red;"> *</span></label>
                                                            <input type="date" id="CompanyInternshipActivePeriod" class="form-control @(showErrorMessage && companyInternship.CompanyInternshipActivePeriod.Date <= DateTime.Today ? "shake error" : "")" 
                                                                   @bind="companyInternship.CompanyInternshipActivePeriod" />
                                                        </div>
                                                        @if (showErrorMessage && companyInternship.CompanyInternshipActivePeriod.Date <= DateTime.Today)
                                                        {
                                                            <div class="text-danger mt-1">Η ημερομηνία πρέπει να είναι μεταγενέστερη της σημερινής ημερομηνίας.</div>
                                                        }
                                                    </div>
                                                    

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyInternshipFinishEstimation"><strong>Ολοκλήρωση Μέχρι</strong><span style="color: red;"> *</span></label>
                                                            <input type="date" id="CompanyInternshipFinishEstimation" class="form-control @(showErrorMessage && companyInternship.CompanyInternshipFinishEstimation.Date <= DateTime.Today ? "shake error" : "")" 
                                                                   @bind="companyInternship.CompanyInternshipFinishEstimation" />
                                                        </div>
                                                        @if (showErrorMessage && companyInternship.CompanyInternshipFinishEstimation.Date <= DateTime.Today)
                                                        {
                                                            <div class="text-danger mt-1">Η ημερομηνία λήξης πρέπει να είναι μεταγενέστερη της ημερομηνίας έναρξης</div>
                                                        }
                                                    </div>
                                                    

                                                    <div class="row mb-3">
                                                        <div class="col-md-4 position-relative">
                                                            <label for="positionTitle"><strong>Τίτλος Θέσης</strong><span style="color: red;"> *</span></label>
                                                            <input type="text" id="positionTitle" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(companyInternship.CompanyInternshipTitle) ? "shake error" : "")" @bind="companyInternship.CompanyInternshipTitle" @oninput="CheckCharacterLimitInInternshipFieldUploadAsCompany" maxlength="120" />
                                                            <small class="character-limit light-cadetblue-text">@remainingCharactersInInternshipFieldUploadAsCompany/120</small>
                                                        </div>
                                                        @if (showErrorMessage && string.IsNullOrWhiteSpace(companyInternship.CompanyInternshipTitle))
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται Τίτλος Θέσης.</div>
                                                        }
                                                    </div>
                                                    

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyInternshipContactPerson"><strong>Email Υπευθύνου</strong><span style="color: red;"> *</span></label>
                                                            <input type="email" id="CompanyInternshipContactPerson" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(companyInternship.CompanyInternshipContactPerson) ? "shake error" : "")" @bind="companyInternship.CompanyInternshipContactPerson" placeholder="example@mail.com" />
                                                        </div>
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyInternshipContactTelephonePerson">
                                                                Τηλέφωνο Υπευθύνου
                                                                <span style="font-style: italic; color: gray;"> (Προαιρετικό)</span>
                                                            </label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend">
                                                                    <span class="input-group-textfortelephone">+30</span>
                                                                </div>
                                                                <input type="tel" id="CompanyInternshipContactTelephonePerson"
                                                                       class="form-control @(showErrorMessage && !IsValidPhoneNumber(companyInternship.CompanyInternshipContactTelephonePerson) ? "shake error" : "")"
                                                                       @bind="companyInternship.CompanyInternshipContactTelephonePerson"
                                                                       @oninput="OnCompanyCreateInternshipPhoneNumberInput"
                                                                       placeholder="Τηλέφωνο Υπευθύνου"
                                                                       maxlength="10" />
                                                            </div>
                                                            @if (showErrorMessage && !IsValidPhoneNumber(companyInternship.CompanyInternshipContactTelephonePerson) && !string.IsNullOrWhiteSpace(companyInternship.CompanyInternshipContactTelephonePerson))
                                                            {
                                                                <small style="color: red;">Παρακαλώ εισάγετε έγκυρο αριθμό τηλεφώνου...</small>
                                                            }
                                                        </div>
                                                    </div>


                                                    <!-- Region Dropdown -->
                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyInternshipPerifereiaLocation"><strong>Περιφέρεια</strong><span style="color: red;"> *</span></label>
                                                            <div class="input-group">
                                                                <select id="CompanyInternshipPerifereiaLocation" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(companyInternship.CompanyInternshipPerifereiaLocation) ? "shake error" : "")" @bind="companyInternship.CompanyInternshipPerifereiaLocation">
                                                                    <option value="">-- Επιλέξτε Περιφέρεια --</option>
                                                                    @foreach (var region in Regions)
                                                                    {
                                                                        <option value="@region">@region</option>
                                                                    }
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        @if (showErrorMessage && string.IsNullOrWhiteSpace(companyInternship.CompanyInternshipPerifereiaLocation))
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται επιλογή Περιφέρειας.</div>
                                                        }
                                                    </div>
                                                    

                                                    <!-- Town Dropdown -->
                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyInternshipDimosLocation"><strong>Δήμος</strong><span style="color: red;"> *</span></label>
                                                            <div class="input-group">
                                                                <select id="CompanyInternshipDimosLocation" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(companyInternship.CompanyInternshipDimosLocation) ? "shake error" : "")" @bind="companyInternship.CompanyInternshipDimosLocation">
                                                                    <option value="">-- Επιλέξτε Δήμο --</option>
                                                                    @foreach (var town in GetTownsForRegion(companyInternship.CompanyInternshipPerifereiaLocation))
                                                                    {
                                                                        <option value="@town">@town</option>
                                                                    }
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        @if (showErrorMessage && string.IsNullOrWhiteSpace(companyInternship.CompanyInternshipDimosLocation))
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται επιλογή δήμου.</div>
                                                        }
                                                    </div>
                                                    

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyInternshipPostalCodeLocation">Ταχυδρομικός Κώδικας Τοποθεσίας<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                            <input type="text" id="CompanyInternshipPostalCodeLocation" class="form-control" @bind="companyInternship.CompanyInternshipPostalCodeLocation" placeholder="Ταχυδρομικός Κώδικας" />
                                                        </div>
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label><strong>Προσφορά Μεταφοράς προς Εταιρία</strong><span style="color: red;"> *</span></label>
                                                            <div class="form-check">
                                                                <input type="radio" id="CompanyInternshipTransportOfferYes" class="form-check-input" name="CompanyInternshipTransportOffer" value="true" checked="@(companyInternship.CompanyInternshipTransportOffer ? "checked" : "")" @onchange="() => UpdateTransportOffer(true)" />
                                                                <label for="CompanyInternshipTransportOfferYes" class="form-check-label">Ναι</label>
                                                            </div>
                                                            <div class="form-check">
                                                                <input type="radio" id="CompanyInternshipTransportOfferNo" class="form-check-input" name="CompanyInternshipTransportOffer" value="false" checked="@(companyInternship.CompanyInternshipTransportOffer ? "" : "checked")" @onchange="() => UpdateTransportOffer(false)" />
                                                                <label for="CompanyInternshipTransportOfferNo" class="form-check-label">Όχι</label>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!-- Company Internship Areas -->
                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px; flex-wrap: wrap;">
                                                                <label style="margin: 0; display: flex; align-items: center; gap: 4px;">
                                                                    <strong>Τομείς Πρακτικής</strong>
                                                                    <span style="color: red;">*</span>
                                                                </label>
            
                                                                <button type="button" 
                                                                        @onclick="ToggleCheckboxesForCompanyInternship"
                                                                        class="toggle-all-areas-btn @(showErrorMessage && !HasAnySelectionForCompanyInternship() ? "shake error" : "")"
                                                                        style="border: 1px solid #2d3748; background: white; border-radius: 6px; padding: 4px 10px; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; color: #2d3748; font-size: 0.85em; transition: all 0.2s;">
                                                                    <span>👆</span>
                                                                    <span>Προβολή τομέων</span>
                                                                </button>
                                                            </div>

                                                            @if (showCheckboxesForCompanyInternship)
                                                            {
                                                                <div id="toggleCheckboxes" class="checkbox-container">
                                                                    @if (Areas == null || !Areas.Any())
                                                                    {
                                                                        <p>Φορτώνει...</p>
                                                                    }
                                                                    else
                                                                    {
                                                                        @foreach (var area in Areas)
                                                                        {
                                                                            <div class="area-container" style="margin-bottom: 8px; border: 2px solid #1565c0; border-radius: 6px; padding: 8px; background-color: #f8f9fa;">
                                                                                <div class="form-check area-header" style="display: flex; align-items: center; gap: 8px;">
                                                                                    <input type="checkbox"
                                                                                           id="internship_area_@area.Id"
                                                                                           class="form-check-input"
                                                                                           @onchange="(e) => OnAreaCheckedChangedForCompanyInternship(e, area)"
                                                                                           checked="@IsAreaSelectedForCompanyInternship(area)" />
                                                                                    <label class="form-check-label area-label @(showErrorMessage && !HasAnySelectionForCompanyInternship() ? "shake error" : "")" 
                                                                                           for="internship_area_@area.Id"
                                                                                           style="cursor: pointer; font-weight: bold; flex-grow: 1; color: #1565c0;">
                                                                                        @area.AreaName
                                                                                    </label>
                                                                                    <button type="button"
                                                                                            @onclick="@(() => ToggleSubFieldsForCompanyInternship(area))"
                                                                                            @onclick:stopPropagation="true"
                                                                                            class="expand-btn"
                                                                                            style="border: 1px solid #1565c0; background: white; border-radius: 4px; padding: 4px 8px; cursor: pointer; display: flex; align-items: center; gap: 4px; font-size: 0.8em; color: #1565c0; transition: all 0.2s;">
                                                                                        <span>Υποτομείς</span>
                                                                                        <span class="expand-icon" style="font-size: 10px; transition: transform 0.2s; transform: @(ExpandedAreasForCompanyInternship.Contains(area.Id) ? "rotate(90deg)" : "rotate(0deg)")">▶</span>
                                                                                    </button>
                                                                                </div>
                            
                                                                                @if (ExpandedAreasForCompanyInternship.Contains(area.Id))
                                                                                {
                                                                                    <div class="subfields-container" style="margin-top: 12px; margin-left: 28px; padding: 12px; background: white; border: 1px solid #e0e0e0; border-radius: 4px;">
                                                                                        <div style="font-size: 0.85em; color: #666; margin-bottom: 8px; font-weight: 500;">
                                                                                            Επιλέξτε υποτομείς:
                                                                                        </div>
                                                                                        @if (!string.IsNullOrEmpty(area.AreaSubFields))
                                                                                        {
                                                                                            var subFields = area.AreaSubFields.Split(',').Select(s => s.Trim()).ToList();
                                                                                            @foreach (var subField in subFields)
                                                                                            {
                                                                                                <div class="form-check subfield-checkbox" style="margin-bottom: 6px;">
                                                                                                    <input type="checkbox"
                                                                                                           id="internship_subfield_@(area.Id)_@(subField)"
                                                                                                           class="form-check-input"
                                                                                                           @onchange="(e) => OnSubFieldCheckedChangedForCompanyInternship(e, area, subField)"
                                                                                                           checked="@IsSubFieldSelectedForCompanyInternship(area, subField)" />
                                                                                                    <label class="form-check-label" for="internship_subfield_@(area.Id)_@(subField)" style="font-weight: normal; font-size: 0.9em;">
                                                                                                        @subField
                                                                                                    </label>
                                                                                                </div>
                                                                                            }
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>
                                                                        }
                                                                    }
                                                                </div>
                                                            }
                                                        </div>
                                                        @if (showErrorMessage && !HasAnySelectionForCompanyInternship())
                                                        {
                                                            <div class="text-danger mt-1">Πρέπει να επιλέξετε τουλάχιστον 1 Τομέα Πρακτικής ή Υποτομέα.</div>
                                                        }
                                                    </div>


                                                    <div class="row mb-3">
                                                        <div class="col-md-4 position-relative">
                                                            <label for="CompanyInternshipDescription"><strong>Περιγραφή Πρακτικής</strong><span style="color: red;"> *</span></label>
                                                            <textarea id="CompanyInternshipDescription" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(companyInternship.CompanyInternshipDescription) ? "shake error" : "")"
                                                                      @bind="companyInternship.CompanyInternshipDescription"
                                                                      @oninput="CheckCharacterLimitInInternshipDescriptionUploadAsCompany"
                                                                      maxlength="1000"
                                                                      placeholder="Περιγραφή Πρακτικής"></textarea>
                                                            <small class="character-limit light-cadetblue-text">@remainingCharactersInInternshipDescriptionUploadAsCompany/1000</small>
                                                        </div>
                                                        @if (showErrorMessage && string.IsNullOrWhiteSpace(companyInternship.CompanyInternshipDescription))
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται περιγραφή της θέσης.</div>
                                                        }
                                                    </div>
                                                    
                                                    <!-- Open Slots Field -->
                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="companyInternshipOpenSlots">
                                                                <strong>Διαθέσιμες Θέσεις</strong>
                                                                <span style="color: red;">*</span>
                                                            </label>
                                                            <input type="number" 
                                                                   id="companyInternshipOpenSlots" 
                                                                   class="form-control @(showErrorMessage && companyInternship.OpenSlots_CompanyInternships < 3 ? "shake error" : "")" 
                                                                   @bind="companyInternship.OpenSlots_CompanyInternships" 
                                                                   min="3" 
                                                                   step="1" />
                                                            @if (showErrorMessage && companyInternship.OpenSlots_CompanyInternships < 3)
                                                            {
                                                                <div class="text-danger mt-1">Ο αριθμός των διαθέσιμων θέσεων πρέπει να είναι τουλάχιστον 3.</div>
                                                            }
                                                            <small class="form-text text-muted">Αριθμός ανοιχτών θέσεων για αυτή τη πρακτική άσκηση (ελάχιστο 3)</small>
                                                        </div>
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyInternshipAttachment">Συνημμένο Αρχείο Πρακτικής Άσκησης<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                            <InputFile id="CompanyInternshipAttachment" class="form-control" OnChange="HandleFileSelectedForUploadInternshipAsCompany" />
                                                            <small class="form-text text-muted">Όριο 10MB - Μόνο αρχεία PDF</small>
                                                            @if (!string.IsNullOrEmpty(CompanyInternshipAttachmentErrorMessage))
                                                            {
                                                                <div class="text-danger mt-2">@CompanyInternshipAttachmentErrorMessage</div>
                                                            }
                                                        </div>
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyInternshipEKPASupervisor">Επιβλέπων Καθηγητής<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                            <div class="input-group">
                                                                <select id="CompanyInternshipEKPASupervisor" class="form-control" @bind="selectedProfessorId">
                                                                    <option value="">-- Χωρίς Προτίμηση --</option>
                                                                    @foreach (var professor in professors)
                                                                    {
                                                                        <option value="@professor.Id">
                                                                            @($"{professor.ProfName} {professor.ProfSurname}")
                                                                        </option>
                                                                    }
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>


                                                    <div class="mb-3">
                                                        <button class="modern-button" style="background-color: #818589; color: white; display: inline-flex; align-items: center;" @onclick="HandleSaveClickToSaveInternshipsAsCompany">
                                                            <i class="fa-regular fa-floppy-disk" style="margin-right: 8px;"></i>Προσωρινή Αποθήκευση Πρακτικής Άσκησης
                                                        </button>
                                                        
                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="HandlePublishClickToSaveInternshipsAsCompany">
                                                            <i class="fa-solid fa-floppy-disk" style="margin-right: 8px;"></i>Δημοσίευση Πρακτικής Άσκησης
                                                        </button>
                                                    </div>
                                                    <!-- Loading Modal for Company Internship -->
                                                    @if (showLoadingModalForInternship)
                                                    {
                                                        <div class="loading-modal">
                                                            <div class="loading-modal-content">
                                                                <div class="loading-spinner"></div>
                                                                <p>Αποθήκευση Πρακτικής Άσκησης...</p>
                                                                <div class="progress-bar">
                                                                    <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    }
                                                    @if (showSuccessMessageWhenSaveInternshipAsCompany)
                                                    {
                                                        <div class="alert alert-success alert-dismissible fade show" role="alert">
                                                            <strong>Η Θέση Έχει Δημιουργηθεί Επιτυχώς!</strong>
                                                        </div>
                                                    }

                                                }


                                                    @*EDW THA MPOOUNE TA PEDIA GIA TO ANEVASMA PRAKTIKIS APO COMPANY - EDW EMEINA PRIN TIS DIAKOPES FRIDAY 26/7*@
                                                    @*ΠΡΕΠΕΙ ΝΑ ΜΠΕΙ ΚΟΥΜΠΑΚΙ ΓΙΑ ΑΝΕΒΑΣΜΑ ΠΡΑΚΤΙΚΗΣ ΩΣ ΕΤΑΙΡΙΑ ΚΑΙ ΤΑ ΥΠΟΛΟΙΠΟΑ ΠΕΔΙΑ. ΜΕΤΑ ΚΑΝΕ ΤΗΝ ΕΜΦΑΝΙΣΗ ΤΩΝ ΠΡΑΚΤΙΚΩΝ ΟΠΩΣ ΟΙ STUDENTS*@



                                                    <div id="show-my-uploaded-internships-as-company"></div>


                                                <!-- VIEW UPLOADED INTERNSHIPS AS COMPANY -->
                                                <div class="mb-3 row-dark-gray">
                                                    <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityToShowMyActiveInternshipsAsCompany" style="cursor: pointer;">
                                                        <label class="form-label" style="color: #FFF8DC;">
                                                            @if (isLoadingInternshipsHistory)
                                                            {
                                                                <span>
                                                                    <i class="fas fa-spinner fa-spin me-2"></i>
                                                                    Φόρτωση Ιστορικού...
                                                                </span>
                                                            }
                                                            else
                                                            {
                                                                <span>• Ιστορικό Θέσεων Πρακτικής Άσκησης •</span>
                                                            }
                                                        </label>
                                                        <button class="btn btn-link" @onclick="ToggleFormVisibilityToShowMyActiveInternshipsAsCompany" @onclick:stopPropagation="true">
                                                            @if (isShowActiveInternshipsAsCompanyFormVisible && !isLoadingInternshipsHistory)
                                                            {
                                                                <span>&#8722;</span> <!-- Minus sign -->
                                                            }
                                                            else if (!isLoadingInternshipsHistory)
                                                            {
                                                                <span>&#43;</span> <!-- Plus sign -->
                                                            }
                                                        </button>
                                                    </div>
                                                </div>                                             
                                                @if (isShowActiveInternshipsAsCompanyFormVisible && !isLoadingInternshipsHistory)
                                                {
                                                    <div class="col-md-2">
                                                        <label for="statusFilter" style="color: #2d3748;"><strong>Φίλτρο Εμφάνισης</strong></label>
                                                        <div class="input-group">
                                                            <select id="statusFilter" class="form-control form-control-sm" @bind="selectedStatusFilterForInternships">
                                                                <option value="Όλα">Όλες</option>
                                                                <option value="Δημοσιευμένη">Δημοσιευμένες</option>
                                                                <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένες</option>
                                                                <option value="Αποσυρμένη">Αποσυρμένες</option>
                                                            </select>
                                                            <div class="input-group-append">
                                                                <span class="input-group-text">
                                                                    <i class="fas fa-chevron-down"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label style="color: #2d3748;"><strong>Αποτελέσματα ανά Σελίδα</strong></label>
                                                        <div class="input-group" style="max-width: 65px;">
                                                            <select class="form-control form-control-sm" @onchange="OnPageSizeChange_SeeMyUploadedInternshipsAsCompany">
                                                                @foreach (var option in pageSizeOptions_SeeMyUploadedInternshipsAsCompany)
                                                                {
                                                                    <option value="@option" selected="@(companyInternshipsPerPage == option)">@option</option>
                                                                }
                                                            </select>
                                                            <div class="input-group-append">
                                                                <span class="input-group-text">
                                                                    <i class="fas fa-chevron-down"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br/>
                                                    <div class="col-md-2">
                                                        @if (selectedStatusFilterForInternships == "Όλα")
                                                        {
                                                            <span><strong>Σύνολο: </strong>@totalCount</span>
                                                        }
                                                        @if (selectedStatusFilterForInternships == "Δημοσιευμένη")
                                                        {
                                                            <span><strong>Σύνολο: </strong>@publishedCount</span>
                                                        }
                                                        else if (selectedStatusFilterForInternships == "Μη Δημοσιευμένη")
                                                        {
                                                            <span><strong>Σύνολο: </strong>@unpublishedCount</span>
                                                        }
                                                        else if (selectedStatusFilterForInternships == "Αποσυρμένη")
                                                        {
                                                            <span><strong>Σύνολο: </strong>@withdrawnCount</span>
                                                        }
                                                    </div>       
                                                        <!-- Bulk Edit Section for Internships - Only show when there are internships -->
                                                        @if (internships != null && internships.Any())
                                                        {
                                                            <div class="row mb-3">
                                                                <div class="col-md-12">
                                                                    <!-- Bulk Edit Button - Show when NOT in bulk edit mode -->
                                                                    @if (!isBulkEditModeForInternships)
                                                                    {
                                                                        <div class="mb-2" style="margin-left: -10px;">
                                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                    @onclick="EnableBulkEditModeForInternships"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-edit" style="margin-right: 8px;"></i>Μαζική Επεξεργασία Θέσεων Πρακτικής
                                                                            </button>
                                                                        </div>
                                                                    }

                                                                    <!-- Bulk Action Controls - Show when in bulk edit mode -->
                                                                    @if (isBulkEditModeForInternships)
                                                                    {
                                                                        <div class="mb-2" style="margin-left: -10px;">
                                                                            <div class="d-flex gap-2 align-items-center flex-wrap">
                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                        @onclick='() => ExecuteBulkStatusChangeForInternships("Δημοσιευμένη")'
                                                                                        disabled="@(selectedInternshipIds.Count == 0)"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-arrow-up me-2"></i>Αλλαγή σε Δημοσιευμένη
                                                                                </button>
                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                        @onclick='() => ExecuteBulkStatusChangeForInternships("Μη Δημοσιευμένη")'
                                                                                        disabled="@(selectedInternshipIds.Count == 0)"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-arrow-down me-2"></i>Αλλαγή σε Μη Δημοσιευμένη
                                                                                </button>
                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                        @onclick='() => ExecuteBulkStatusChangeForInternships("Αποσυρμένη")'
                                                                                        disabled="@(selectedInternshipIds.Count == 0)"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-times me-2"></i>Αλλαγή σε Αποσυρμένη
                                                                                </button>
                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                        @onclick="ExecuteBulkCopyForInternships"
                                                                                        disabled="@(selectedInternshipIds.Count == 0)"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <i class="fas fa-copy me-2"></i>Κλωνοποίηση
                                                                                </button>
                                                                                <button class="modern-button" style="background-color: #6c757d; color: white; display: inline-flex; align-items: center;" 
                                                                                        @onclick="CancelBulkEditForInternships"
                                                                                        onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                        onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                    <i class="fas fa-times me-2"></i>Ακύρωση
                                                                                </button>
                                                                            </div>

                                                                            <!-- Selected count badge -->
                                                                            @if (selectedInternshipIds.Count > 0)
                                                                            {
                                                                                <div class="mt-2">
                                                                                    <span class="badge bg-primary">
                                                                                        Επιλεγμένες Θέσεις: @selectedInternshipIds.Count
                                                                                    </span>
                                                                                </div>
                                                                            }

                                                                            <!-- Instruction text - ALWAYS show when in bulk edit mode -->
                                                                            <div class="mt-2">
                                                                                <div class="alert alert-info" style="background-color: #e7f3ff; border: 1px solid #b3d9ff; color: #004085; border-radius: 6px; padding: 8px 12px;">
                                                                                    <i class="fas fa-info-circle me-2"></i>
                                                                                    <strong>Επιλέξτε Θέσεις Πρακτικής Άσκησης στον Πίνακα</strong>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    }
                                                                </div>
                                                            </div>
                                                        }

                                                    <!-- Add the legend here - right before the table -->
                                                    <div class="d-flex justify-content-end mb-2">
                                                        <div class="status-legend" style="display: flex; align-items: center; gap: 15px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 6px; padding: 6px 12px;">
                                                            <div style="display: flex; align-items: center; gap: 8px;">
                                                                <div style="display: flex; align-items: center;">
                                                                    <div style="width: 16px; height: 16px; background-color: lightblue; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                    <span>Δημοσιευμένη</span>
                                                                </div>
                                                                <div style="display: flex; align-items: center;">
                                                                    <div style="width: 16px; height: 16px; background-color: lightcoral; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                    <span>Μη Δημοσιευμένη</span>
                                                                </div>
                                                                <div style="display: flex; align-items: center;">
                                                                    <div style="width: 16px; height: 16px; background-color: lightyellow; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                    <span>Αποσυρμένη</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div style="max-width: auto; margin-left: 0;">
                                                        <div class="table-responsive">
                                                            <table class="table table-striped">
                                                                <thead>
                                                                    <tr style="border: 2px solid black; background-color: lightgray;">
                                                                        @if (isBulkEditModeForInternships && internships != null && internships.Any())
                                                                        {
                                                                            <th style="border: 2px solid black; width: 40px;">
                                                                                #
                                                                            </th>
                                                                        }
                                                                        <th style="border: 2px solid black;"><i class="fa-solid fa-key fa-sm" style="color: #0d6efd;"></i> Κωδικός Θέσης</th>
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-font fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Τίτλος
                                                                        </th>
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-arrows-up-down fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Κατάσταση Θέσης
                                                                        </th>
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-calendar-days fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Δημιουργία Θέσης
                                                                        </th>
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-location-dot fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Τόπος Άσκησης Πρακτικής
                                                                        </th>
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-hand fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Ενέργειες
                                                                        </th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    @if (internships != null && internships.Any())
                                                                    {
                                                                        @foreach (var internship in GetPaginatedCompanyInternships().Where(i => selectedStatusFilterForInternships == "Όλα" || i.CompanyUploadedInternshipStatus == selectedStatusFilterForInternships))
                                                                        {
                                                                            <!-- Main Internship Row -->
                                                                            <tr style="background-color: @(internship.CompanyUploadedInternshipStatus == "Δημοσιευμένη" ? "lightblue" : (internship.CompanyUploadedInternshipStatus == "Μη Δημοσιευμένη" ? "lightcoral" : "lightyellow")); border: 2px solid black;">
                                                                                @if (isBulkEditModeForInternships)
                                                                                {
                                                                                    <td style="border: 1px solid black; text-align: center;">
                                                                                        <input type="checkbox" 
                                                                                               @onchange="@((e) => ToggleInternshipSelection(internship.Id, e))" 
                                                                                               checked="@selectedInternshipIds.Contains(internship.Id)" />
                                                                                    </td>
                                                                                }
                                                                                <td style="color: #2d3748; border: 1px solid black;">
                                                                                    @internship.RNGForInternshipUploadedAsCompany_HashedAsUniqueID
                                                                                </td>
                                                                                <td style="border: 1px solid black;">@internship.CompanyInternshipTitle</td>
                                                                                <td style="border: 1px solid black;">@internship.CompanyUploadedInternshipStatus</td>
                                                                                <td style="border: 1px solid black;">@internship.CompanyInternshipUploadDate</td>
                                                                                <td style="border: 1px solid black;">@internship.CompanyInternshipDimosLocation</td>
                                                                                <td style="border: 1px solid black; position: relative;" class="actions-cell">
                                                                                    <div class="dropdown">
                                                                                        <!-- Options menu button with ellipsis-h icon -->
                                                                                        <button class="btn btn-action btn-menu" 
                                                                                                @onclick="() => ToggleInternshipMenu(internship.Id)" 
                                                                                                title="Ενέργειες"
                                                                                                @onclick:stopPropagation="true">
                                                                                            <i class="fas fa-ellipsis-h icon-button"></i>
                                                                                        </button>
        
                                                                                        <!-- Dropdown menu -->
                                                                                        @if (activeInternshipMenuId == internship.Id)
                                                                                        {
                                                                                            <!-- Invisible backdrop that covers entire screen -->
                                                                                            <div class="dropdown-backdrop" @onclick="() => ToggleInternshipMenu(0)"></div>
            
                                                                                            <div class="dropdown-menu show" @onclick:stopPropagation="true">
                                                                                                <!-- Delete option -->
                                                                                                <button class="dropdown-item" @onclick="() => { DeleteInternship(internship.Id); ToggleInternshipMenu(0); }">
                                                                                                    <i class="fas fa-trash me-2" style="color: #f56565;"></i>
                                                                                                    <span>Διαγραφή</span>
                                                                                                </button>
                
                                                                                                <!-- View details option -->
                                                                                                <button class="dropdown-item" @onclick="() => { ShowInternshipDetails(internship); ToggleInternshipMenu(0); }">
                                                                                                    <i class="fas fa-eye me-2" style="color: #63b3ed;"></i>
                                                                                                    <span>Προβολή</span>
                                                                                                </button>

                                                                                                <!-- Download attachment option (only if attachment exists) -->
                                                                                                @if (internship.CompanyInternshipAttachment != null && internship.CompanyInternshipAttachment.Length > 0)
                                                                                                {
                                                                                                    <button class="dropdown-item" @onclick="() => { DownloadAttachmentForCompanyInternships(internship.Id); ToggleInternshipMenu(0); }">
                                                                                                        <i class="fas fa-download me-2" style="color: #48bb78;"></i>
                                                                                                        <span>Λήψη Αρχείου</span>
                                                                                                    </button>
                                                                                                }

                                                                                                <!-- View applicants option -->
                                                                                                <button class="dropdown-item" @onclick="() => { ToggleInternshipExpanded(internship.RNGForInternshipUploadedAsCompany); ToggleInternshipMenu(0); }">
                                                                                                    <i class="fa-solid fa-graduation-cap me-2" style="color: #63b3ed;"></i>
                                                                                                    <span>Αιτούντες</span>
                                                                                                </button>

                                                                                                <!-- Status change options -->
                                                                                                @if (internship.CompanyUploadedInternshipStatus != "Δημοσιευμένη")
                                                                                                {
                                                                                                    <!-- Edit option (only for non-published) -->
                                                                                                    <button class="dropdown-item" @onclick="() => { EditInternshipDetails(internship); ToggleInternshipMenu(0); }">
                                                                                                        <i class="fas fa-pencil-alt me-2" style="color: #8b5cf6;"></i>
                                                                                                        <span>Επεξεργασία</span>
                                                                                                    </button>
                    
                                                                                                    <!-- Publish option -->
                                                                                                    <button class="dropdown-item" @onclick='async () => { await UpdateInternshipStatusAsCompany(internship.Id, "Δημοσιευμένη"); ToggleInternshipMenu(0); }'>
                                                                                                        <i class="fas fa-arrow-up me-2" style="color: #68d391;"></i>
                                                                                                        <span>Δημοσίευση</span>
                                                                                                    </button>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <!-- Withdraw option (only for published) -->
                                                                                                    <button class="dropdown-item" @onclick='async () => { await UpdateInternshipStatusAsCompany(internship.Id, "Αποσυρμένη"); ToggleInternshipMenu(0); }'>
                                                                                                        <i class="fas fa-times me-2" style="color: #f56565;"></i>
                                                                                                        <span>Απόσυρση</span>
                                                                                                    </button>
                                                                                                }

                                                                                                @if (internship.CompanyUploadedInternshipStatus != "Μη Δημοσιευμένη")
                                                                                                {
                                                                                                    <!-- Unpublish option -->
                                                                                                    <button class="dropdown-item" @onclick='() => { ChangeInternshipStatusToUnpublished(internship.Id); ToggleInternshipMenu(0); }'>
                                                                                                        <i class="fas fa-arrow-down me-2" style="color: #f6e05e;"></i>
                                                                                                        <span>Αποδημοσίευση</span>
                                                                                                    </button>
                                                                                                }
                                                                                            </div>
                                                                                        }
                                                                                    </div>
    
                                                                                    <!-- Loading Modal for Delete Internship -->
                                                                                    @if (showLoadingModalForDeleteInternship)
                                                                                    {
                                                                                        <div class="loading-modal">
                                                                                            <div class="loading-modal-content">
                                                                                                <div class="loading-spinner"></div>
                                                                                                <p>Διαγραφή Πρακτικής Άσκησης...</p>
                                                                                                <div class="progress-bar">
                                                                                                    <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                </td>
                                                                            </tr>

                                                                            <!-- Applicants Section - Connected to the main row -->
                                                                            @if (currentlyExpandedInternshipId == internship.RNGForInternshipUploadedAsCompany)
                                                                            {
                                                                                <tr style="background-color: #e8f4f8; border-left: 4px solid #0d6efd;">
                                                                                    <td colspan="@(isBulkEditModeForInternships ? "7" : "6")" style="padding: 0; border: 1px solid #0d6efd;">
                                                                                        <div style="background: linear-gradient(135deg, #e8f4f8 0%, #d1ecf1 100%); padding: 15px; border-radius: 0 0 5px 5px;">
                                                                                            <!-- Loading State for Applicants -->
                                                                                            @if (isLoadingInternshipApplicants && loadingInternshipId == internship.RNGForInternshipUploadedAsCompany)
                                                                                            {
                                                                                                <div class="text-center" style="padding: 40px;">
                                                                                                    <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                                                                                                        <span class="sr-only">Φόρτωση...</span>
                                                                                                    </div>
                                                                                                    <p style="color: #0d6efd; font-weight: bold; margin-top: 15px; font-size: 16px;">
                                                                                                        Φόρτωση αιτούντων...
                                                                                                    </p>
                                                                                                </div>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <!-- BULK ACTIONS SECTION FOR INTERNSHIP APPLICANTS -->
                                                                                                @if (internshipApplicantsMap.ContainsKey(internship.RNGForInternshipUploadedAsCompany) && internshipApplicantsMap[internship.RNGForInternshipUploadedAsCompany].Any())
                                                                                                {
                                                                                                    <div class="row mb-3">
                                                                                                        <div class="col-md-12">
                                                                                                            <!-- Bulk Edit Button for Internship Applicants - Show when NOT in bulk edit mode -->
                                                                                                            @if (!isBulkEditModeForInternshipApplicants)
                                                                                                            {
                                                                                                                <div class="mb-2" style="text-align: left; margin-left: -15px;">
                                                                                                                    <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                                            @onclick="() => EnableBulkEditModeForInternshipApplicants(internship.RNGForInternshipUploadedAsCompany.ToString())"
                                                                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                        <i class="fas fa-edit" style="margin-right: 8px;"></i>Μαζική Επεξεργασία Αιτούντων Πρακτικής
                                                                                                                    </button>
                                                                                                                </div>
                                                                                                            }

                                                                                                            <!-- Bulk Action Controls - Show when in bulk edit mode -->
                                                                                                            @if (isBulkEditModeForInternshipApplicants)
                                                                                                            {
                                                                                                                <div class="mb-2" style="text-align: left; margin-left: -15px;">
                                                                                                                    <div class="d-flex gap-2 align-items-center flex-wrap">
                                                                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                @onclick='() => ShowEmailConfirmationModalForInternshipApplicants("accept")'
                                                                                                                                disabled="@(selectedInternshipApplicantIds.Count == 0)"
                                                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                            <i class="fas fa-check me-2"></i>Μαζική Αποδοχή
                                                                                                                        </button>
                                                                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                @onclick='() => ShowEmailConfirmationModalForInternshipApplicants("reject")'
                                                                                                                                disabled="@(selectedInternshipApplicantIds.Count == 0)"
                                                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                            <i class="fas fa-times me-2"></i>Μαζική Απόρριψη
                                                                                                                        </button>
                                                                                                                        <button class="modern-button" style="background-color: #6c757d; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                @onclick="CancelBulkEditForInternshipApplicants"
                                                                                                                                onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                                                                onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                                                            <i class="fas fa-times me-2"></i>Ακύρωση
                                                                                                                        </button>
                                                                                                                    </div>

                                                                                                                    <!-- Badges section - All badges together -->
                                                                                                                    <div class="mt-2 d-flex gap-2 align-items-center flex-wrap">
                                                                                                                        <!-- Selected count badge -->
                                                                                                                        @if (selectedInternshipApplicantIds.Count > 0)
                                                                                                                        {
                                                                                                                            <span class="badge bg-primary">
                                                                                                                                Επιλεγμένες Αιτήσεις: @selectedInternshipApplicantIds.Count
                                                                                                                            </span>
                                                                                                                        }
                        
                                                                                                                        <!-- Total and Accepted badges -->
                                                                                                                        <span class="badge badge-primary" style="background-color: #0d6efd; padding: 5px 10px; border-radius: 15px;">
                                                                                                                            Σύνολο Αιτήσεων: @(internshipApplicantsMap.ContainsKey(internship.RNGForInternshipUploadedAsCompany) ? internshipApplicantsMap[internship.RNGForInternshipUploadedAsCompany].Count().ToString() : "0")
                                                                                                                        </span>
                                                                                                                        <span class="badge badge-info" style="background-color: #17a2b8; padding: 5px 10px; border-radius: 15px;">
                                                                                                                            Έχετε Αποδεχτεί: @acceptedApplicantsCountPerInternship_ForCompanyInternship.GetValueOrDefault(internship.RNGForInternshipUploadedAsCompany, 0)/@availableSlotsPerInternship_ForCompanyInternship.GetValueOrDefault(internship.RNGForInternshipUploadedAsCompany, internship.OpenSlots_CompanyInternships)
                                                                                                                        </span>                                                                                                                        
                                                                                                                    </div>

                                                                                                                    <!-- Instruction text - ALWAYS show when in bulk edit mode -->
                                                                                                                    <div class="mt-2">
                                                                                                                        <div class="alert alert-info" style="background-color: #e7f3ff; border: 1px solid #b3d9ff; color: #004085; border-radius: 6px; padding: 8px 12px;">
                                                                                                                            <i class="fas fa-info-circle me-2"></i>
                                                                                                                            <strong>Επιλέξτε Αιτήσεις στον Πίνακα</strong>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            }
                                                                                                        </div>
                                                                                                    </div>
                                                                                                }
                                                                                                <!-- END BULK ACTIONS SECTION -->

                                                                                                @if (internshipApplicantsMap.ContainsKey(internship.RNGForInternshipUploadedAsCompany) && 
                                                                                                     internshipApplicantsMap[internship.RNGForInternshipUploadedAsCompany].Any())
                                                                                                {
                                                                                                    <div class="table-responsive">
                                                                                                        <table class="table table-striped">
                                                                                                            <thead>
                                                                                                                <tr style="background-color: #cce7ff; border: 1px solid #0d6efd;">
                                                                                                                    @if (isBulkEditModeForInternshipApplicants)
                                                                                                                    {
                                                                                                                        <th style="border: 1px solid #0d6efd; width: 40px;">
                                                                                                                            #
                                                                                                                        </th>
                                                                                                                    }
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-user fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Προφίλ
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-signature fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Όνομα
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-signature fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Επώνυμο
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-calendar-plus fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Ημερομηνία Αίτησης
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-calendar-plus fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Έτος Φοίτησης
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-phone fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Τηλέφωνο
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Email
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-hand fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Ενέργεια
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-hourglass-half fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Κατάσταση Αίτησης
                                                                                                                    </th>
                                                                                                                </tr>
                                                                                                            </thead>
                                                                                                            <tbody>
                                                                                                                @if (studentDataCache == null)
                                                                                                                {
                                                                                                                    <tr>
                                                                                                                        <td colspan="9" class="text-center" style="border: 1px solid #0d6efd;">
                                                                                                                            <div class="spinner-border text-primary" role="status">
                                                                                                                                <span class="sr-only">Φόρτωση...</span>
                                                                                                                            </div>
                                                                                                                            <p>Φόρτωση δεδομένων φοιτητών...</p>
                                                                                                                        </td>
                                                                                                                    </tr>
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                    @foreach (var applicant in internshipApplicantsMap[internship.RNGForInternshipUploadedAsCompany])
                                                                                                                    {
                                                                                                                        var student = studentDataCache.TryGetValue(applicant.StudentDetails.StudentEmailAppliedForInternship, out var s) ? s : null;
                                                                                                                        var status = applicant.InternshipStatusAppliedAtTheStudentSide ?? "N/A";
                                                                                                                        var companyStatus = applicant.InternshipStatusAppliedAtTheCompanySide ?? "N/A";

                                                                                                                        <tr style="background-color: @(companyStatus == "Επιτυχής" ? "lightgreen" :
                                                                                                                                                        companyStatus == "Απορρίφθηκε" ? "lightcoral" :
                                                                                                                                                        companyStatus == "Απορρίφθηκε (Απόσυρση Θέσεως Από Εταιρία)" ? "coral" :
                                                                                                                                                        companyStatus == "Αποσύρθηκε από τον φοιτητή" ? "lightyellow" : "transparent")">
                                                                                                                            @if (isBulkEditModeForInternshipApplicants)
                                                                                                                            {
                                                                                                                                <td style="border: 1px solid #0d6efd; text-align: center;">
                                                                                                                                    <div class="disabled-checkbox-container">
                                                                                                                                        <input type="checkbox" 
                                                                                                                                               @onchange="@((e) => ToggleInternshipApplicantSelection(applicant.RNGForInternshipApplied, applicant.StudentDetails.StudentUniqueIDAppliedForInternship, e))" 
                                                                                                                                               checked="@selectedInternshipApplicantIds.Contains((applicant.RNGForInternshipApplied, applicant.StudentDetails.StudentUniqueIDAppliedForInternship))"
                                                                                                                                               disabled="@(companyStatus != "Σε Επεξεργασία")"
                                                                                                                                               class="@(companyStatus != "Σε Επεξεργασία" ? "disabled-checkbox" : "")" />
                                                                                                                                    </div>
                                                                                                                                </td>
                                                                                                                            }
                                                                                                                            <td style="border: 1px solid #0d6efd;">
                                                                                                                                <a href="#" @onclick='() => ShowStudentDetailsInNameAsHyperlink(applicant.StudentDetails.StudentUniqueIDAppliedForInternship, applicant.Id, "Internship")' 
                                                                                                                                   title="Προφίλ Υποψήφιου Σπουδαστή" style="color: #0d6efd; text-decoration: none;">
                                                                                                                                    <i class="fas fa-eye icon-button text-dark"></i>
                                                                                                                                    @if (student == null)
                                                                                                                                    {
                                                                                                                                        <span class="badge badge-warning ml-1">Δε βρέθηκε</span>
                                                                                                                                    }
                                                                                                                                </a>
                                                                                                                            </td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">@(student?.Name ?? "Δε βρέθηκε")</td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">@(student?.Surname ?? "Δε βρέθηκε")</td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">@applicant.StudentDetails.DateTimeStudentAppliedForInternship.ToString("dd/MM/yyyy HH:mm")</td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">@(student?.StudyYear ?? "-")</td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">
                                                                                                                                <i class="fas fa-phone-alt"></i> @(student?.Telephone ?? "-")
                                                                                                                            </td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">
                                                                                                                                <i class="fas fa-envelope"></i> @applicant.StudentDetails.StudentEmailAppliedForInternship
                                                                                                                            </td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">
                                                                                                                                @if (status == "Σε Επεξεργασία")
                                                                                                                                {
                                                                                                                                    <div style="display: flex; gap: 10px; justify-content: center;">
                                                                                                                                        <span @onclick="() => ConfirmAndAcceptInternship(applicant.RNGForInternshipApplied, applicant.StudentDetails.StudentUniqueIDAppliedForInternship)" 
                                                                                                                                              title="Αποδοχή Αίτησης" style="cursor: pointer;">
                                                                                                                                            <i class="fas fa-check action-icon accept-icon"></i>
                                                                                                                                        </span>

                                                                                                                                        <span @onclick="() => ConfirmAndRejectInternship(applicant.RNGForInternshipApplied, applicant.StudentDetails.StudentUniqueIDAppliedForInternship)" 
                                                                                                                                              title="Απόρριψη Αίτησης" style="cursor: pointer;">
                                                                                                                                            <i class="fas fa-times action-icon reject-icon"></i>
                                                                                                                                        </span>
                                                                                                                                    </div>
                                                                                                                                }
                                                                                                                                else
                                                                                                                                {
                                                                                                                                    <span class="text">@status</span>
                                                                                                                                }
                                                                                                                            </td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">
                                                                                                                                @if (companyStatus == "Επιτυχής")
                                                                                                                                {
                                                                                                                                    <span style="color: green; font-weight: bold;">Έχει γίνει Αποδοχή</span>
                                                                                                                                }
                                                                                                                                else if (companyStatus == "Απορρίφθηκε")
                                                                                                                                {
                                                                                                                                    <span style="color: red; font-weight: bold;">Έχει Απορριφθεί</span>
                                                                                                                                }
                                                                                                                                else
                                                                                                                                {
                                                                                                                                    <span>@companyStatus</span>
                                                                                                                                }
                                                                                                                            </td>
                                                                                                                        </tr>
                                                                                                                    }
                                                                                                                }
                                                                                                            </tbody>
                                                                                                        </table>
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <div class="text-center" style="padding: 20px;">
                                                                                                        <i class="fas fa-users fa-2x" style="color: #6c757d; margin-bottom: 10px;"></i>
                                                                                                        <p style="color: #6c757d; font-weight: bold; margin: 0;">
                                                                                                            Δεν Υπάρχουν Αιτούντες για αυτήν την Πρακτική Άσκηση Ακόμη
                                                                                                        </p>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                            }
                                                                        }
                                                                    }
                                                                    else
                                                                    {
                                                                        <tr>
                                                                            <td colspan="@(isBulkEditModeForInternships && internships != null && internships.Any() ? "7" : "6")" class="text-center" style="border: 1px solid black;">
                                                                                <div class="empty-state">
                                                                                    <i class="fas fa-briefcase fa-3x mb-3" style="color: #6c757d;"></i>
                                                                                    <h5 style="color: #2d3748; margin-bottom: 10px;">Δεν υπάρχουν Θέσεις Πρακτικής Άσκησης</h5>
                                                                                </div>
                                                                            </td>
                                                                        </tr>
                                                                    }
                                                                </tbody>
                                                            </table>
            
                                                            @if (internships != null && internships.Any())
                                                            {
                                                                <br/>
                                                                <!-- Pagination Controls -->
                                                                <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                    <!-- First Page (<<) -->
                                                                    <span class="pagination-item @(currentPageForCompanyInternships == 1 ? "disabled" : "")" 
                                                                          @onclick="@(() => GoToFirstPageForCompanyInternships())">
                                                                        &lt;&lt;
                                                                    </span>

                                                                    <!-- Previous Page (<) -->
                                                                    <span class="pagination-item @(currentPageForCompanyInternships == 1 ? "disabled" : "")" 
                                                                          @onclick="@(() => PreviousPageForCompanyInternships())">
                                                                        &lt;
                                                                    </span>

                                                                    <!-- Page Numbers -->
                                                                    @foreach (var pageNum in GetVisiblePagesForCompanyInternships())
                                                                    {
                                                                        @if (pageNum == -1)
                                                                        {
                                                                            <span class="pagination-ellipsis">...</span>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span class="pagination-item @(pageNum == currentPageForCompanyInternships ? "active" : "")" 
                                                                                  @onclick="@(() => GoToPageForCompanyInternships(pageNum))">
                                                                                @pageNum
                                                                            </span>
                                                                        }
                                                                    }

                                                                    <!-- Next Page (>) -->
                                                                    <span class="pagination-item @(currentPageForCompanyInternships == totalPagesForCompanyInternships ? "disabled" : "")" 
                                                                          @onclick="@(() => NextPageForCompanyInternships())">
                                                                        &gt;
                                                                    </span>

                                                                    <!-- Last Page (>>) -->
                                                                    <span class="pagination-item @(currentPageForCompanyInternships == totalPagesForCompanyInternships ? "disabled" : "")" 
                                                                          @onclick="@(() => GoToLastPageForCompanyInternships())">
                                                                        &gt;&gt;
                                                                    </span>

                                                                    <!-- Page counter -->
                                                                    <span class="ms-3">Σελίδα @currentPageForCompanyInternships από @totalPagesForCompanyInternships</span>
                                                                </div>
                                                                <br/>
                                                            }
                                                        </div>
                                                    </div>
                                                    <br/>
                                                    <br/>
                                                
                                                
                                                

                                                    <!-- Slot Warning Modal for Internships - NEW CODE -->
                                                    @if (showSlotWarningModal_ForCompanyInternship)
                                                    {
                                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5); z-index: 1060;">
                                                            <div class="modal-dialog modal-dialog-centered" role="document">
                                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); border: 2px solid #2d3748;">
                                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #FFFFFF;">
                                                                        <h5 class="modal-title" style="color: #2d3748; font-weight: 600; font-size: 1.25rem;">
                                                                            <i class="fas fa-exclamation-triangle me-2"></i>Προσοχή - Όριο Slots Πρακτικής
                                                                        </h5>
                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                @onclick="CloseSlotWarningModal_ForCompanyInternship"
                                                                                onmouseover="this.style.backgroundColor='#2d3748'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                        </button>
                                                                    </div>
                                                                    <div class="modal-body" style="padding: 20px;">
                                                                        <div class="alert alert-warning" style="border-radius: 8px; margin: 0;">
                                                                            <div class="d-flex align-items-center">
                                                                                <i class="fas fa-exclamation-circle fa-2x me-3" style="color: #2d3748;"></i>
                                                                                <div>
                                                                                    <h6 style="color: #2d3748; margin-bottom: 8px; font-weight: bold;">Υπέρβαση Διαθέσιμων Θέσεων Πρακτικής</h6>
                                                                                    <p style="color: #2d3748; margin: 0; line-height: 1.5;">@slotWarningMessage_ForCompanyInternship</p>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #FFFFFF;">
                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                @onclick="CloseSlotWarningModal_ForCompanyInternship"
                                                                                onmouseover="this.style.backgroundColor='#2d3748'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <i class="fas fa-times me-1"></i>Κλείσιμο
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    }

                                                    <!-- Bulk Action Modal for Internships -->
                                                    @if (showBulkActionModalForInternships)
                                                    {
                                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                            <div class="modal-dialog modal-dialog-centered" role="document">
                                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                        <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                            <i class="fas fa-cogs me-2"></i>Μαζική Επεξεργασία Πρακτικών Ασκήσεων
                                                                        </h5>
                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                @onclick="CloseBulkActionModalForInternships"
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                        </button>
                                                                    </div>
                                                                    <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                        <div class="list-group">
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold; color: #2d3748;">Επιλεγμένες Θέσεις</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-list-check" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                    <span>@selectedInternshipIds.Count θέσεις πρακτικής άσκησης</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold; color: #2d3748;">Επιλέξτε Ενέργεια</label>
                                                                                <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; border: none;">
                                                                                    <div class="form-check mb-2">
                                                                                        <input class="form-check-input" type="radio" name="bulkActionForInternships" 
                                                                                               id="actionStatusInternships" value="status" @onchange="@((e) => bulkActionForInternships = "status")" 
                                                                                               style="cursor: pointer; margin-right: 8px;" />
                                                                                        <label class="form-check-label" for="actionStatusInternships" style="cursor: pointer; color: #2d3748;">
                                                                                            <i class="fas fa-arrows-up-down me-1" style="color: #4682B4;"></i>
                                                                                            Αλλαγή Κατάστασης
                                                                                        </label>
                                                                                    </div>
                                                                                    <div class="form-check">
                                                                                        <input class="form-check-input" type="radio" name="bulkActionForInternships" 
                                                                                               id="actionCopyInternships" value="copy" @onchange="@((e) => bulkActionForInternships = "copy")" 
                                                                                               style="cursor: pointer; margin-right: 8px;" />
                                                                                        <label class="form-check-label" for="actionCopyInternships" style="cursor: pointer; color: #2d3748;">
                                                                                            <i class="fas fa-copy me-1" style="color: #4682B4;"></i>
                                                                                            Αντιγραφή Θέσεων
                                                                                        </label>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            @if (bulkActionForInternships == "status")
                                                                            {
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold; color: #2d3748;">Νέα Κατάσταση</label>
                                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; padding: 0;">
                                                                                        <select class="form-select" @bind="newStatusForBulkActionForInternships" style="border: none; background: transparent; box-shadow: none;">
                                                                                            <option value="Δημοσιευμένη">Δημοσιευμένη</option>
                                                                                            <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένη</option>
                                                                                            <option value="Αποσυρμένη">Αποσυρμένη</option>
                                                                                        </select>
                                                                                    </div>
                                                                                </div>
                                                                            }
                                                                        </div>
                                                                    </div>
                                                                    <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                        <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                @onclick="CloseBulkActionModalForInternships"
                                                                                onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                onmouseout="this.style.backgroundColor='#6c757d'">
                                                                            <i class="fas fa-times me-1"></i>Ακύρωση
                                                                        </button>
                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                @onclick="ExecuteBulkActionForInternships" 
                                                                                disabled="@string.IsNullOrEmpty(bulkActionForInternships)"
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <i class="fas fa-play me-1"></i>Εκτέλεση
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    }

                                                    <!-- Email Confirmation Modal for Internship Applicants -->
                                                    @if (showEmailConfirmationModalForInternshipApplicants)
                                                    {
                                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                            <div class="modal-dialog modal-dialog-centered" role="document">
                                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                        <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                            <i class="fas fa-envelope me-2"></i>Αποστολή Email Πρακτικής
                                                                        </h5>
                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                @onclick="CloseEmailConfirmationModalForInternshipApplicants"
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                        </button>
                                                                    </div>
                                                                    <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                        <div class="list-group">
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold; color: #2d3748;">Επιλεγμένες Αιτήσεις</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-list-check" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                    <span>@selectedInternshipApplicantIds.Count αιτήσεις</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold; color: #2d3748;">Ενέργεια</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas @(pendingBulkActionForInternshipApplicants == "accept" ? "fa-check text-success" : "fa-times text-danger") me-2"></i>
                                                                                    <span>@(pendingBulkActionForInternshipApplicants == "accept" ? "Μαζική Αποδοχή" : "Μαζική Απόρριψη")</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold; color: #2d3748;">Αποστολή Email Ειδοποιήσεων</label>
                                                                                <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; border: none;">
                                                                                    <div class="form-check mb-2">
                                                                                        <input class="form-check-input" type="radio" name="emailOptionInternship" 
                                                                                               id="sendEmailsInternship" value="true" @onchange="@((e) => sendEmailsForBulkInternshipAction = true)" 
                                                                                               checked="@sendEmailsForBulkInternshipAction"
                                                                                               style="cursor: pointer; margin-right: 8px;" />
                                                                                        <label class="form-check-label" for="sendEmailsInternship" style="cursor: pointer; color: #2d3748;">
                                                                                            <i class="fas fa-envelope me-1" style="color: #4682B4;"></i>
                                                                                            Να σταλούν Email στους Φοιτητές και στην Εταιρεία
                                                                                        </label>
                                                                                    </div>
                                                                                    <div class="form-check">
                                                                                        <input class="form-check-input" type="radio" name="emailOptionInternship" 
                                                                                               id="dontSendEmailsInternship" value="false" @onchange="@((e) => sendEmailsForBulkInternshipAction = false)" 
                                                                                               checked="@(!sendEmailsForBulkInternshipAction)"
                                                                                               style="cursor: pointer; margin-right: 8px;" />
                                                                                        <label class="form-check-label" for="dontSendEmailsInternship" style="cursor: pointer; color: #2d3748;">
                                                                                            <i class="fas fa-envelope-slash me-1" style="color: #6c757d;"></i>
                                                                                            Να μην σταλούν Email (μόνο ενημέρωση κατάστασης)
                                                                                        </label>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div class="alert @(sendEmailsForBulkInternshipAction ? "alert-info" : "alert-warning")" style="border-radius: 8px;">
                                                                                <i class="fas @(sendEmailsForBulkInternshipAction ? "fa-info-circle" : "fa-exclamation-triangle") me-2"></i>
                                                                                @if (sendEmailsForBulkInternshipAction)
                                                                                {
                                                                                    <strong>Πληροφορία:</strong> 
                                                                                    <span>Θα σταλούν @selectedInternshipApplicantIds.Count email @(pendingBulkActionForInternshipApplicants == "accept" ? "αποδοχής" : "απόρριψης") στους φοιτητές και email ειδοποίησης στην εταιρεία.</span>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <strong>Προσοχή:</strong> 
                                                                                    <span>Η ενέργεια θα εφαρμοστεί μόνο στην εφαρμογή. Δεν θα σταλούν email ειδοποιήσεων. Οι φοιτητές θα δουν την αλλαγή κατάστασης όταν συνδεθούν.</span>
                                                                                }
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                        <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                @onclick="CloseEmailConfirmationModalForInternshipApplicants"
                                                                                onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                onmouseout="this.style.backgroundColor='#6c757d'">
                                                                            <i class="fas fa-times me-1"></i>Ακύρωση
                                                                        </button>
                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                @onclick="ExecuteBulkActionForInternshipApplicants" 
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <i class="fas fa-play me-1"></i>Εκτέλεση
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    }

                                                    <!-- KEEP YOUR EXISTING MODALS HERE - THEY REMAIN UNCHANGED -->
                                                    @if (isEditPopupVisibleForInternships)
                                                    {
                                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                            <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                        <h5 class="modal-title" style="color: #007BFF; font-weight: 600; font-size: 1.25rem;">@selectedInternship.CompanyInternshipTitle</h5>
                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                @onclick="CloseEditPopupForInternships"
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                        </button>
                                                                    </div>
                                                                    <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                        <!-- Form to edit the internship details -->
                                                                        <div class="form-group">
                                                                            <label for="editTitle"><strong>Τίτλος</strong></label>
                                                                            <input type="text" id="editTitle" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedInternship.CompanyInternshipTitle" />
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label for="editDescription"><strong>Περιγραφή</strong></label>
                                                                            <textarea id="editDescription" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedInternship.CompanyInternshipDescription"></textarea>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label for="editType"><strong>Τύπος</strong></label>
                                                                            <div class="input-group">
                                                                                <select id="editType" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(selectedInternship.CompanyInternshipType) ? "shake error" : "")" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedInternship.CompanyInternshipType">
                                                                                    <option value="">-- Επιλέξτε --</option>
                                                                                    <option value="Full-Time">Πλήρους Απασχόλησης</option>
                                                                                    <option value="Part-Time">Μερικής Απασχόλησης</option>
                                                                                </select>
                                                                                <div class="input-group-append">
                                                                                    <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-chevron-down"></i>
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label for="editFunding"><strong>Χρηματοδότηση</strong></label>
                                                                            <div class="input-group">
                                                                                <select id="editFunding" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(selectedInternship.CompanyInternshipESPA) ? "shake error" : "")" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedInternship.CompanyInternshipESPA">
                                                                                    <option value="">-- Επιλέξτε --</option>
                                                                                    <option value="ESPA-Funding">Μέσω ΕΣΠΑ</option>
                                                                                    <option value="Self-Funding">Ιδίου Φορέα</option>
                                                                                </select>
                                                                                <div class="input-group-append">
                                                                                    <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-chevron-down"></i>
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        @*
                                                                        <div class="form-group">
                                                                            <label for="editForeas"><strong>Φορέας</strong></label>
                                                                            <div class="input-group">
                                                                                <select id="editForeas" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(selectedInternship.CompanyInternshipForeas) ? "shake error" : "")" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedInternship.CompanyInternshipForeas">
                                                                                    <option value="">-- Επιλέξτε --</option>
                                                                                    @foreach (var foreas in ForeasType)
                                                                                    {
                                                                                        <option value="@foreas">@foreas</option>
                                                                                    }
                                                                                </select>
                                                                                <div class="input-group-append">
                                                                                    <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-chevron-down"></i>
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        *@

                                                                        <div class="form-group">
                                                                            <label for="editContactPerson"><strong>Υπεύθυνος Επικοινωνίας</strong></label>
                                                                            <input type="text" id="editContactPerson" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedInternship.CompanyInternshipContactPerson" />
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label for="editPerifereiaLocation"><strong>Περιφέρεια</strong></label>
                                                                            <div class="input-group">
                                                                                <select id="editPerifereiaLocation" class="form-control @(showErrorMessage && string.IsNullOrWhiteSpace(selectedInternship.CompanyInternshipPerifereiaLocation) ? "shake error" : "")" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedInternship.CompanyInternshipPerifereiaLocation">
                                                                                    <option value="">-- Επιλέξτε Περιφέρεια --</option>
                                                                                    @foreach (var region in Regions)
                                                                                    {
                                                                                        <option value="@region">@region</option>
                                                                                    }
                                                                                </select>
                                                                                <div class="input-group-append">
                                                                                    <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-chevron-down"></i>
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label for="editDimosLocation"><strong>Δήμος</strong></label>
                                                                            <div class="input-group">
                                                                                <select id="editDimosLocation" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedInternship.CompanyInternshipDimosLocation">
                                                                                    <option value="">-- Επιλέξτε Δήμο --</option>
                                                                                    @if (!string.IsNullOrEmpty(selectedInternship.CompanyInternshipDimosLocation) && RegionToTownsMap.ContainsKey(selectedInternship.CompanyInternshipPerifereiaLocation))
                                                                                    {
                                                                                        foreach (var town in RegionToTownsMap[selectedInternship.CompanyInternshipPerifereiaLocation])
                                                                                        {
                                                                                            <option value="@town">@town</option>
                                                                                        }
                                                                                    }
                                                                                </select>
                                                                                <div class="input-group-append">
                                                                                    <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-chevron-down"></i>
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label for="editPostalCodeLocation"><strong>Ταχυδρομικός Κώδικας</strong></label>
                                                                            <input type="text" id="editPostalCodeLocation" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedInternship.CompanyInternshipPostalCodeLocation" />
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label for="editTransportOffer"><strong>Προσφορά Μεταφοράς</strong></label>
                                                                            <div>
                                                                                <input type="checkbox" id="editTransportOffer" class="form-check-input" @bind="selectedInternship.CompanyInternshipTransportOffer" />
                                                                                <span class="ml-2">@(selectedInternship.CompanyInternshipTransportOffer ? "Ναι" : "Όχι")</span>
                                                                            </div>
                                                                        </div>

                                                                        <br/>
                    
                                                                        <!-- UPDATED: Areas with Subfields for Internship -->
                                                                        <div class="form-group">
                                                                            <label @onclick="ToggleCheckboxesForEditCompanyInternship" style="cursor: pointer; display: flex; align-items: center;">
                                                                                <strong>Τομείς Πρακτικής</strong>
                                                                                <span style="color: #1565c0; font-size: 0.9em; margin-left: 8px; display: flex; align-items: center;">
                                                                                    <i class="fas @(showCheckboxesForEditCompanyInternship ? "fa-chevron-up" : "fa-chevron-down")" style="margin-right: 4px;"></i>
                                                                                    @(showCheckboxesForEditCompanyInternship ? "Κλείσιμο" : "Άνοιγμα")
                                                                                </span>
                                                                            </label>
                                                                            @if (showCheckboxesForEditCompanyInternship)
                                                                            {
                                                                                <div id="toggleCheckboxes" class="checkbox-container">
                                                                                    @foreach (var area in Areas)
                                                                                    {
                                                                                        <div class="area-container" style="margin-bottom: 8px; border: 2px solid #1565c0; border-radius: 4px; padding: 8px; background-color: #f8f9fa;">
                                                                                            <div class="form-check area-header">
                                                                                                <input type="checkbox"
                                                                                                       id="edit_internship_area_@area.Id"
                                                                                                       class="form-check-input"
                                                                                                       @onchange="(e) => OnAreaCheckedChangedForEditCompanyInternship(e, area)"
                                                                                                       checked="@IsAreaSelectedForEditCompanyInternship(area)" />
                                                                                                <label class="form-check-label area-label" 
                                                                                                       for="edit_internship_area_@area.Id"
                                                                                                       @onclick="@(() => ToggleSubFieldsForEditCompanyInternship(area))"
                                                                                                       @onclick:stopPropagation="true"
                                                                                                       style="cursor: pointer; font-weight: bold; display: flex; align-items: center; justify-content: space-between; width: 100%; color: #1565c0;">
                                                                                                    @area.AreaName
                                                                                                    <span class="expand-icon" style="font-size: 10px; transition: transform 0.2s; margin-left: 8px; transform: @(ExpandedAreasForEditCompanyInternship.Contains(area.Id) ? "rotate(90deg)" : "rotate(0deg)")">▶</span>
                                                                                                </label>
                                                                                            </div>
                                        
                                                                                            @if (ExpandedAreasForEditCompanyInternship.Contains(area.Id))
                                                                                            {
                                                                                                <div class="subfields-container" style="margin-top: 8px; margin-left: 20px; padding-left: 15px; border-left: 2px solid #1565c0;">
                                                                                                    @if (!string.IsNullOrEmpty(area.AreaSubFields))
                                                                                                    {
                                                                                                        var subFields = area.AreaSubFields.Split(',').Select(s => s.Trim()).ToList();
                                                                                                        @foreach (var subField in subFields)
                                                                                                        {
                                                                                                            <div class="form-check subfield-checkbox" style="margin-bottom: 4px;">
                                                                                                                <input type="checkbox"
                                                                                                                       id="edit_internship_subfield_@(area.Id)_@(subField)"
                                                                                                                       class="form-check-input"
                                                                                                                       @onchange="(e) => OnSubFieldCheckedChangedForEditCompanyInternship(e, area, subField)"
                                                                                                                       checked="@IsSubFieldSelectedForEditCompanyInternship(area, subField)" />
                                                                                                                <label class="form-check-label" for="edit_internship_subfield_@(area.Id)_@(subField)" style="font-weight: normal; font-size: 0.9em;">
                                                                                                                    @subField
                                                                                                                </label>
                                                                                                            </div>
                                                                                                        }
                                                                                                    }
                                                                                                </div>
                                                                                            }
                                                                                        </div>
                                                                                    }
                                                                                </div>
                                                                            }
                                                                        </div>

                                                                        <br/>
                    
                                                                        <div class="form-group">
                                                                            <label for="editActivePeriod"><strong>Ξεκινάει Από</strong></label>
                                                                            <input type="date" id="editActivePeriod" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedInternship.CompanyInternshipActivePeriod" />
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label for="editFinishEstimation"><strong>Εκτιμώμενη Ημερομηνία Ολοκλήρωσης</strong></label>
                                                                            <input type="date" id="editFinishEstimation" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedInternship.CompanyInternshipFinishEstimation" />
                                                                        </div>

                                                                        <!-- UPDATED: Open Slots Field for Editing -->
                                                                        <div class="form-group">
                                                                            <label for="editInternshipOpenSlots">
                                                                                <strong>Διαθέσιμες Θέσεις</strong>
                                                                                <span style="color: red;">*</span>
                                                                            </label>
                                                                            <input type="number" 
                                                                                   id="editInternshipOpenSlots" 
                                                                                   class="form-control @(showErrorMessage && (selectedInternship?.OpenSlots_CompanyInternships ?? 0) < 3 ? "shake error" : "")" 
                                                                                   style="border-radius: 8px; background-color: #f8f9fa;" 
                                                                                   @bind="selectedInternship.OpenSlots_CompanyInternships" 
                                                                                   min="3" 
                                                                                   step="1" />
                                                                            @if (showErrorMessage && (selectedInternship?.OpenSlots_CompanyInternships ?? 0) < 3)
                                                                            {
                                                                                <div class="text-danger mt-1">Ο αριθμός των διαθέσιμων θέσεων πρέπει να είναι τουλάχιστον 3.</div>
                                                                            }
                                                                            <small class="form-text text-muted">Αριθμός ανοιχτών θέσεων για αυτή τη πρακτική άσκηση (ελάχιστο 3)</small>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label for="editSupervisor"><strong style="color: #87CEEB;">Επιβλέπων Καθηγητής</strong></label>
                                                                            <div class="input-group">
                                                                                <select id="editSupervisor" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedInternship.CompanyInternshipEKPASupervisor">
                                                                                    <option value="">Κανένας Καθηγητής</option>
                                                                                    @foreach (var professor in professors)
                                                                                    {
                                                                                        <option value="@professor.ProfName @professor.ProfSurname">@professor.ProfName @professor.ProfSurname</option>
                                                                                    }
                                                                                </select>
                                                                                <div class="input-group-append">
                                                                                    <span class="input-group-text" style="border-radius: 0 8px 8px 0; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-chevron-down"></i>
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label for="editInternshipAttachment"><strong>Αντικατάσταση Συνημμένου</strong></label>
                                                                            <InputFile class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" OnChange="HandleFileUploadToEditCompanyInternshipAttachment" />
                                                                        </div>
                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                @onclick="CloseEditPopupForInternships"
                                                                                onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                onmouseout="this.style.backgroundColor='#6c757d'">
                                                                            <i class="fas fa-times me-2"></i> Ακύρωση
                                                                        </button>
                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                @onclick="SaveEditedInternship"
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <i class="fas fa-save me-2"></i> Αποθήκευση
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    }

                                                    @if (isModalVisibleForInternships && currentInternship != null)
                                                    {
                                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                        <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                            @currentInternship.CompanyInternshipTitle
                                                                        </h5>
                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                @onclick="CloseModalForInternships"
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                        </button>
                                                                    </div>
                                                                    <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                        <!-- Description -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Περιγραφή</label>
                                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="4">@currentInternship.CompanyInternshipDescription</textarea>
                                                                        </div>

                                                                        <!-- Internship Type -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Τύπος</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-briefcase mr-2 text-primary"></i>
                                                                                <span>
                                                                                    @(currentInternship.CompanyInternshipType == "Full-Time" ? "Πλήρους Απασχόλησης" : 
                                                                                      currentInternship.CompanyInternshipType == "Part-Time" ? "Μερικής Απασχόλησης" : "")
                                                                                </span>
                                                                            </div>
                                                                        </div>

                                                                        <!-- Funding -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Χρηματοδότηση</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-hand-holding-dollar mr-2 text-success"></i>
                                                                                <span>
                                                                                    @(
                                                                                        currentInternship.CompanyInternshipESPA == "ESPA-Funding" ? "Μέσω ΕΣΠΑ" :
                                                                                        currentInternship.CompanyInternshipESPA == "Self-Funding" ? "Ιδίου Φορέα" : ""
                                                                                    )
                                                                                </span>
                                                                            </div>
                                                                        </div>

                                                                        <!-- Organization -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Φορέας</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-building mr-2"></i>
                                                                                <span>@currentInternship.CompanyInternshipForeas</span>
                                                                            </div>
                                                                        </div>

                                                                        <!-- Contact Email -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Email Επικοινωνίας</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                <span>@currentInternship.CompanyInternshipContactPerson</span>
                                                                            </div>
                                                                        </div>

                                                                        <!-- Location Information -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Περιφέρεια</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-map-marked-alt mr-2"></i>
                                                                                <span>@currentInternship.CompanyInternshipPerifereiaLocation</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Δήμος</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-city mr-2"></i>
                                                                                <span>@currentInternship.CompanyInternshipDimosLocation</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Ταχ. Κώδικας</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-mail-bulk mr-2 text-info"></i>
                                                                                <span>@currentInternship.CompanyInternshipPostalCodeLocation</span>
                                                                            </div>
                                                                        </div>

                                                                        <!-- Transport Offer -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Προσφορά Μεταφορικού Μέσου</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;
                                                                                 @(currentInternship.CompanyInternshipTransportOffer ? "color: #28a745;" : "color: #dc3545;")">
                                                                                <i class="fas fa-car mr-2"></i>
                                                                                <span>@(currentInternship.CompanyInternshipTransportOffer ? "Ναι" : "Όχι")</span>
                                                                            </div>
                                                                        </div>

                                                                        <!-- Areas -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Τομείς</label>
                                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@string.Join(Environment.NewLine, currentInternship.CompanyInternshipAreas.Split(','))</textarea>
                                                                        </div>

                                                                        <!-- Dates -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Ξεκινάει Από</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="far fa-calendar-alt mr-2 text-info"></i>
                                                                                <span>@currentInternship.CompanyInternshipActivePeriod.ToString("yyyy-MM-dd")</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Εκτιμώμενη Ημερομηνία Ολοκλήρωσης</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="far fa-calendar-check mr-2 text-info"></i>
                                                                                <span>@currentInternship.CompanyInternshipFinishEstimation.ToString("yyyy-MM-dd")</span>
                                                                            </div>
                                                                        </div>

                                                                        <!-- UPDATED: Open Slots Field -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Διαθέσιμες Θέσεις</label>
                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; color: #007BFF;">
                                                                                <i class="fas fa-users" style="margin-right: 8px;"></i>
                                                                                <span>@currentInternship.OpenSlots_CompanyInternships θέσεις</span>
                                                                            </div>
                                                                            <small class="form-text text-muted">Αριθμός ανοιχτών θέσεων για αυτή τη πρακτική άσκηση</small>
                                                                        </div>

                                                                        <!-- Supervisor -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold; color: #87CEEB;">Επιβλέπων Καθηγητής</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-user-tie mr-2" style="color: #87CEEB;"></i>
                                                                                <span>@currentInternship.CompanyInternshipEKPASupervisor</span>
                                                                            </div>
                                                                        </div>

                                                                        <!-- Status -->
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Κατάσταση</label>
                                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-info-circle mr-2 text-info"></i>
                                                                                <span>@currentInternship.CompanyUploadedInternshipStatus</span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                @onclick="CloseModalForInternships"
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    }
                                                }
                                            </div>

                                            <!-- MODAL FOR STUDENT DETAILS FROM COMPANY JOBS/INTERNSHIPS/THESIS -->
                                            @if (isModalVisibleToShowStudentDetailsAsCompanyFromTheirHyperlinkNameInCompanyInternships)
                                            {
                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                    @($"{selectedStudentFromCache?.Name} {selectedStudentFromCache?.Surname}")
                                                                </h5>
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                        @onclick="CloseModalforHyperLinkTitleStudentName"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                </button>
                                                            </div>
                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                @if (selectedStudentFromCache == null)
                                                                {
                                                                    <div class="alert alert-warning text-center" style="border-radius: 8px;">
                                                                        <i class="fas fa-exclamation-triangle me-2"></i>Δεν βρέθηκαν στοιχεία για τον φοιτητή
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <!-- Profile Picture -->
                                                                    <div class="text-center mb-4">
                                                                        @if (selectedStudentFromCache?.Image != null && selectedStudentFromCache.Image.Length > 0)
                                                                        {
                                                                            var base64Image = Convert.ToBase64String(selectedStudentFromCache.Image);
                                                                            <img src="data:image/jpeg;base64,@base64Image" alt="Φωτογραφία Προφίλ Σπουδαστή" 
                                                                                 style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                        }
                                                                        else
                                                                        {
                                                                            <div style="width: 150px; height: 150px; border-radius: 50%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; margin: 0 auto; border: 3px solid #ddd;">
                                                                                <i class="fas fa-user" style="font-size: 3rem; color: #6c757d;"></i>
                                                                            </div>
                                                                        }
                                                                    </div>

                                                                    <!-- Student Details -->
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Επίπεδο Σπουδών</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-graduation-cap mr-2"></i>
                                                                            <span>@selectedStudentFromCache?.LevelOfDegree</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Όνοματεπώνυμο</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-user mr-2 text-primary"></i>
                                                                            <span>@($"{selectedStudentFromCache?.Name} {selectedStudentFromCache?.Surname}")</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-university mr-2 text-primary"></i>
                                                                            <span>@selectedStudentFromCache?.University</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Τμήμα</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-building mr-2"></i>
                                                                            <span>@selectedStudentFromCache?.Department</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Αριθμός Μητρώου</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-id-card mr-2 text-info"></i>
                                                                            <span>@selectedStudentFromCache?.RegNumber</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Ημερομηνία Εγγραφής</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="far fa-calendar-alt mr-2 text-info"></i>
                                                                            <span>@selectedStudentFromCache?.EnrollmentDate</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Email</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                            <span>@selectedStudentFromCache?.Email</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Τηλέφωνο</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-phone mr-2 text-success"></i>
                                                                            <span>@(selectedStudentFromCache?.Telephone ?? "N/A")</span>
                                                                        </div>
                                                                    </div>

                                                                    <!-- Address Information -->
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Μόνιμη Περιοχή</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-map-marked-alt mr-2"></i>
                                                                            <span>@selectedStudentFromCache?.PermanentRegion</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Μόνιμος Τόπος</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-city mr-2"></i>
                                                                            <span>@selectedStudentFromCache?.PermanentTown</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Μόνιμη Διεύθυνση</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-map-marker-alt mr-2 text-danger"></i>
                                                                            @if (!string.IsNullOrEmpty(selectedStudentFromCache?.PermanentAddress))
                                                                            {
                                                                                <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(selectedStudentFromCache.PermanentAddress)"
                                                                                   target="_blank"
                                                                                   class="text-primary text-decoration-underline">
                                                                                    @selectedStudentFromCache.PermanentAddress
                                                                                </a>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span class="text-muted">N/A</span>
                                                                            }
                                                                        </div>
                                                                    </div>

                                                                    <!-- Social Links -->
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">LinkedIn Προφίλ</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fab fa-linkedin mr-2 text-info"></i>
                                                                            @if (!string.IsNullOrEmpty(selectedStudentFromCache?.LinkedInProfile))
                                                                            {
                                                                                <a href="@selectedStudentFromCache.LinkedInProfile" target="_blank" class="text-info text-decoration-underline">
                                                                                    @selectedStudentFromCache.LinkedInProfile
                                                                                </a>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span class="text-muted">Δεν έχει οριστεί προφίλ LinkedIn ακόμη..</span>
                                                                            }
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Προσωπική Ιστοσελίδα</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-globe mr-2 text-info"></i>
                                                                            @if (!string.IsNullOrEmpty(selectedStudentFromCache?.PersonalWebsite))
                                                                            {
                                                                                <a href="@selectedStudentFromCache.PersonalWebsite" target="_blank" class="text-primary text-decoration-underline">
                                                                                    @selectedStudentFromCache.PersonalWebsite
                                                                                </a>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span class="text-muted">Δεν έχει οριστεί ιστοσελίδα ακόμη..</span>
                                                                            }
                                                                        </div>
                                                                    </div>

                                                                    <!-- Skills and Expertise -->
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Δεξιότητες</label>
                                                                        <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedStudentFromCache?.Keywords</textarea>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Τομείς Εξειδίκευσης</label>
                                                                        <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedStudentFromCache?.AreasOfExpertise</textarea>
                                                                    </div>

                                                                    <!-- Transport Info -->
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Διαθέτει Μέσο Μεταφοράς</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-car mr-2"></i>
                                                                            <span>@(selectedStudentFromCache?.Transport == true ? "Ναι" : "Όχι")</span>
                                                                        </div>
                                                                    </div>

                                                                    <!-- CV Download -->
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Βιογραφικό</label>
                                                                        <div>
                                                                            @if (selectedStudentFromCache?.Attachment != null)
                                                                            {
                                                                                <button class="modern-button" @onclick="() => DownloadStudentCVFromCompanyInternships(selectedStudentFromCache.Email)"
                                                                                        style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'; this.style.transform='translateY(-1px)';" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'; this.style.transform='translateY(0)';">
                                                                                    <i class="fas fa-download me-2"></i>Λήψη Βιογραφικού
                                                                                </button>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span class="text-muted">Δεν Διατίθεται Βιογραφικό!</span>
                                                                            }
                                                                        </div>
                                                                    </div>
                                                                }
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                        @onclick="CloseModalforHyperLinkTitleStudentName"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }



                                                    <div id="internships-tab-companies-end"></div>



                                                    <div id="thesis-companies-start"></div>
                                            <!-- COMPANY THESIS tab content -->
                                            <div class="tab-pane fade" id="thesis" role="tabpanel" aria-labelledby="thesis-tab">
                                                <!-- ΔΗΜΙΟΥΡΓΙΑ ΠΤΥΧΙΑΚΗΣ ΕΡΓΑΣΙΑΣ ΩΣ COMPANY USER-->
                                                <div class="mb-3 row-dark-gray">
                                                    <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityForUploadCompanyThesis" style="cursor: pointer;">
                                                        <label class="form-label" style="color: #FFF8DC;">• Δημιουργία Διπλωματικής Εργασίας •</label>
                                                        <button class="btn btn-link" @onclick="ToggleFormVisibilityForUploadCompanyThesis" @onclick:stopPropagation="true">
                                                            @if (isUploadCompanyThesisFormVisible)
                                                            {
                                                                <span>&#8722;</span> <!-- Minus sign -->
                                                            }
                                                            else
                                                            {
                                                                <span>&#43;</span> <!-- Plus sign -->
                                                            }
                                                        </button>
                                                    </div>
                                                </div>

                                                @if (isUploadCompanyThesisFormVisible)
                                                {
                                                    <div class="row mb-3">
                                                         <div class="col-md-4">
                                                                <label for="companyThesisPositionTitle"><strong>Τίτλος</strong><span style="color: red;"> *</span></label>
                                                                <input type="text" id="companyThesisTitle" class="form-control @(showErrorMessageforUploadingthesisAsCompany && string.IsNullOrWhiteSpace(thesis.CompanyThesisTitle) ? "shake error" : "")" @bind="thesis.CompanyThesisTitle" @oninput="CheckCharacterLimitInThesisFieldUploadAsCompany" maxlength="120" />
                                                                <small class="character-limit light-cadetblue-text">@remainingCharactersInThesisFieldUploadAsCompany/120</small>
                                                         </div>
                                                         @if (showErrorMessageforUploadingthesisAsCompany && string.IsNullOrWhiteSpace(thesis.CompanyThesisTitle))
                                                         {
                                                            <div class="text-danger mt-1">Απαιτείται επιλογή Τίτλος Θέσης.</div>
                                                         }
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="companyThesisDescription"><strong>Περιγραφή</strong> <span style="color: red;"> *</span></label>
                                                            <textarea id="CompanyThesisDescription" class="form-control @(showErrorMessageforUploadingthesisAsCompany && string.IsNullOrWhiteSpace(thesis.CompanyThesisDescriptionsUploaded) ? "shake error" : "")"
                                                                      @bind="thesis.CompanyThesisDescriptionsUploaded"
                                                                      @oninput="CheckCharacterLimitInThesisDescriptionUploadAsCompany"
                                                                      maxlength="1000"
                                                                      placeholder="Σύντομη Περιγραφή Διπλωματικής"></textarea>
                                                            <small class="character-limit light-cadetblue-text">@remainingCharactersInThesisDescriptionUploadAsCompany/1000</small>
                                                        </div>
                                                        @if (showErrorMessageforUploadingthesisAsCompany && string.IsNullOrWhiteSpace(thesis.CompanyThesisDescriptionsUploaded))
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται Περιγραφή της Θέσης.</div>
                                                        }
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="companyThesisCompanySupervisorFullName">
                                                                <strong>Όνομ/νυμο Υπευθύνου</strong><span style="color: red;"> *</span>
                                                            </label>
                                                            <input type="text" id="CompanyThesisCompanySupervisorFullName" 
                                                                   class="form-control @(showErrorMessageforUploadingthesisAsCompany && string.IsNullOrWhiteSpace(thesis.CompanyThesisCompanySupervisorFullName) ? "shake error" : "")" 
                                                                   @bind="thesis.CompanyThesisCompanySupervisorFullName" />
                                                        </div>
                                                        @if (showErrorMessageforUploadingthesisAsCompany && string.IsNullOrWhiteSpace(thesis.CompanyThesisCompanySupervisorFullName))
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται Όνομα Υπευθύνου Διπλωματικής Εργασίας.</div>
                                                        }
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="companyThesisContactPersonEmail">
                                                                <strong>Email Υπευθύνου</strong><span style="color: red;"> *</span>
                                                            </label>
                                                            <input type="text" id="thesisContactPersonEmail" 
                                                                   class="form-control @(showErrorMessageforUploadingthesisAsCompany && string.IsNullOrWhiteSpace(thesis.CompanyThesisContactPersonEmail) ? "shake error" : "")" 
                                                                   @bind="thesis.CompanyThesisContactPersonEmail" />
                                                        </div>
                                                        @if (showErrorMessageforUploadingthesisAsCompany && string.IsNullOrWhiteSpace(thesis.CompanyThesisContactPersonEmail))
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται το Email Υπευθύνου Διπλωματικής Εργασίας.</div>
                                                        }
                                                    </div>


                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyThesisContactTelephonePerson">
                                                                Τηλέφωνο Υπευθύνου
                                                                <span style="font-style: italic; color: gray;"> (Προαιρετικό)</span>
                                                            </label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend">
                                                                    <span class="input-group-textfortelephone">+30</span>
                                                                </div>
                                                                <input type="tel" id="CompanyThesisContactTelephonePerson"
                                                                       class="form-control @(showErrorMessageforUploadingthesisAsCompany && !IsValidPhoneNumber(thesis.CompanyThesisContactPersonTelephone) ? "shake error" : "")"
                                                                       @bind="thesis.CompanyThesisContactPersonTelephone"
                                                                       @oninput="OnCompanyCreateThesisPhoneNumberInput"
                                                                       placeholder="Τηλέφωνο Υπευθύνου"
                                                                       maxlength="10" />
                                                            </div>
                                                            @if (showErrorMessageforUploadingthesisAsCompany && !IsValidPhoneNumber(thesis.CompanyThesisContactPersonTelephone) && !string.IsNullOrWhiteSpace(thesis.CompanyThesisContactPersonTelephone))
                                                            {
                                                                <small style="color: red;">Παρακαλώ εισάγετε αριθμό έγκυρο τηλεφώνου...</small>
                                                            }
                                                        </div>
                                                    </div>

                                                    <!-- Company Thesis Areas -->
                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px; flex-wrap: wrap;">
                                                                <label style="margin: 0; display: flex; align-items: center; gap: 4px;">
                                                                    <strong>Τομείς Διπλωματικής</strong>
                                                                    <span style="color: red;">*</span>
                                                                </label>
            
                                                                <button type="button" 
                                                                        @onclick="ToggleCheckboxesForCompanyThesis"
                                                                        class="toggle-all-areas-btn @(showErrorMessageforUploadingthesisAsCompany && !HasAnySelectionForCompanyThesis() ? "shake error" : "")"
                                                                        style="border: 1px solid #2d3748; background: white; border-radius: 6px; padding: 4px 10px; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; color: #2d3748; font-size: 0.85em; transition: all 0.2s;">
                                                                    <span>👆</span>
                                                                    <span>Προβολή τομέων</span>
                                                                </button>
                                                            </div>

                                                            @if (showCheckboxesForCompanyThesis)
                                                            {
                                                                <div class="checkbox-container">
                                                                    @if (Areas == null || !Areas.Any())
                                                                    {
                                                                        <p>Φορτώνει...</p>
                                                                    }
                                                                    else
                                                                    {
                                                                        @foreach (var area in Areas)
                                                                        {
                                                                            <div class="area-container" style="margin-bottom: 8px; border: 2px solid #1565c0; border-radius: 6px; padding: 8px; background-color: #f8f9fa;">
                                                                                <div class="form-check area-header" style="display: flex; align-items: center; gap: 8px;">
                                                                                    <input type="checkbox"
                                                                                           id="thesis_area_@area.Id"
                                                                                           class="form-check-input"
                                                                                           @onchange="(e) => OnAreaCheckedChangedForCompanyThesis(e, area)"
                                                                                           checked="@IsAreaSelectedForCompanyThesis(area)" />
                                                                                    <label class="form-check-label area-label @(showErrorMessageforUploadingthesisAsCompany && !HasAnySelectionForCompanyThesis() ? "shake error" : "")" 
                                                                                           for="thesis_area_@area.Id"
                                                                                           style="cursor: pointer; font-weight: bold; flex-grow: 1; color: #1565c0;">
                                                                                        @area.AreaName
                                                                                    </label>
                                                                                    <button type="button"
                                                                                            @onclick="@(() => ToggleSubFieldsForCompanyThesis(area))"
                                                                                            @onclick:stopPropagation="true"
                                                                                            class="expand-btn"
                                                                                            style="border: 1px solid #1565c0; background: white; border-radius: 4px; padding: 4px 8px; cursor: pointer; display: flex; align-items: center; gap: 4px; font-size: 0.8em; color: #1565c0; transition: all 0.2s;">
                                                                                        <span>Υποτομείς</span>
                                                                                        <span class="expand-icon" style="font-size: 10px; transition: transform 0.2s; transform: @(ExpandedAreasForCompanyThesis.Contains(area.Id) ? "rotate(90deg)" : "rotate(0deg)")">▶</span>
                                                                                    </button>
                                                                                </div>
                            
                                                                                @if (ExpandedAreasForCompanyThesis.Contains(area.Id))
                                                                                {
                                                                                    <div class="subfields-container" style="margin-top: 12px; margin-left: 28px; padding: 12px; background: white; border: 1px solid #e0e0e0; border-radius: 4px;">
                                                                                        <div style="font-size: 0.85em; color: #666; margin-bottom: 8px; font-weight: 500;">
                                                                                            Επιλέξτε υποτομείς:
                                                                                        </div>
                                                                                        @if (!string.IsNullOrEmpty(area.AreaSubFields))
                                                                                        {
                                                                                            var subFields = area.AreaSubFields.Split(',').Select(s => s.Trim()).ToList();
                                                                                            @foreach (var subField in subFields)
                                                                                            {
                                                                                                <div class="form-check subfield-checkbox" style="margin-bottom: 6px;">
                                                                                                    <input type="checkbox"
                                                                                                           id="thesis_subfield_@(area.Id)_@(subField)"
                                                                                                           class="form-check-input"
                                                                                                           @onchange="(e) => OnSubFieldCheckedChangedForCompanyThesis(e, area, subField)"
                                                                                                           checked="@IsSubFieldSelectedForCompanyThesis(area, subField)" />
                                                                                                    <label class="form-check-label" for="thesis_subfield_@(area.Id)_@(subField)" style="font-weight: normal; font-size: 0.9em;">
                                                                                                        @subField
                                                                                                    </label>
                                                                                                </div>
                                                                                            }
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>
                                                                        }
                                                                    }
                                                                </div>
                                                            }
                                                        </div>
                                                        @if (showErrorMessageforUploadingthesisAsCompany && !HasAnySelectionForCompanyThesis())
                                                        {
                                                            <div class="text-danger mt-1">Πρέπει να επιλέξετε τουλάχιστον 1 Τομέα Διπλωματικής ή Υποτομέα.</div>
                                                        }
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px; flex-wrap: wrap;">
                                                                <label style="margin: 0; display: flex; align-items: center; gap: 4px;">
                                                                    <strong>Απαιτούμενες Δεξιότητες</strong>
                                                                    <span style="color: red;">*</span>
                                                                </label>
            
                                                                <button type="button" 
                                                                        @onclick="ToggleCheckboxesForSkillsForCompanyThesis"
                                                                        class="toggle-all-areas-btn @(showErrorMessageforUploadingthesisAsCompany && string.IsNullOrWhiteSpace(thesis.CompanyThesisSkillsNeeded) ? "shake error" : "")"
                                                                        style="border: 1px solid @(showErrorMessageforUploadingthesisAsCompany && string.IsNullOrWhiteSpace(thesis.CompanyThesisSkillsNeeded) ? "#2d3748" : "#2d3748"); background: white; border-radius: 6px; padding: 4px 10px; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; color: @(showErrorMessageforUploadingthesisAsCompany && string.IsNullOrWhiteSpace(thesis.CompanyThesisSkillsNeeded) ? "#2d3748" : "#1565c0"); font-size: 0.85em; transition: all 0.2s;">
                                                                    <span>👆</span>
                                                                    <span>Προβολή δεξιοτήτων</span>
                                                                </button>
                                                            </div>

                                                            <div id="toggleCheckboxesForThesisSkills" class="checkbox-containerThesisSkills" style="display: none;">
                                                                @if (Skills == null || !Skills.Any())
                                                                {
                                                                    <p>Φορτώνει...</p>
                                                                }
                                                                else
                                                                {
                                                                    <div class="d-flex flex-wrap">
                                                                        @foreach (var skill in Skills)
                                                                        {
                                                                            <div class="form-check me-2 mb-2" style="flex-basis: 20%;">
                                                                                <input type="checkbox"
                                                                                       id="skill_@skill.Id"
                                                                                       class="form-check-input"
                                                                                       @onchange="(e) => OnCheckedChangedForSkillsWhenUploadThesisAsCompany(e, skill)"
                                                                                       checked="@IsSelectedForSkillsWhenUploadThesisAsCompany(skill)" />
                                                                                <label class="form-check-label @(showErrorMessageforUploadingthesisAsCompany && string.IsNullOrWhiteSpace(thesis.CompanyThesisSkillsNeeded) ? "shake error" : "")" 
                                                                                       for="skill_@skill.Id">
                                                                                    @skill.SkillName
                                                                                </label>
                                                                            </div>
                                                                        }
                                                                    </div>
                                                                }
                                                            </div>
        
                                                            @if (showErrorMessageforUploadingthesisAsCompany && string.IsNullOrWhiteSpace(thesis.CompanyThesisSkillsNeeded))
                                                            {
                                                                <div class="text-danger mt-1">Πρέπει να επιλέξετε τουλάχιστον 1 Δεξιότητα.</div>
                                                            }
                                                        </div>
                                                    </div>

                                                    <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label for="companyThesisDepartment">Τμήμα Εταιρείας<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                                <input type="text" id="thesisDepartment" class="form-control" @bind="thesis.CompanyThesisDepartment" />
                                                            </div>
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="companyThesisStartingDate">
                                                                <strong>Ημερομηνία Έναρξης</strong><span style="color: red;"> *</span>
                                                            </label>
                                                            <input type="date" id="CompanyThesisStartingDate" 
                                                                   class="form-control @(showErrorMessageforUploadingthesisAsCompany && thesis.CompanyThesisStartingDate.Date <= DateTime.Today ? "shake error" : "")" 
                                                                   @bind="thesis.CompanyThesisStartingDate" />
                                                        </div>
                                                        @if (showErrorMessageforUploadingthesisAsCompany && thesis.CompanyThesisStartingDate.Date <= DateTime.Today)
                                                        {
                                                            <div class="text-danger mt-1">Η ημερομηνία πρέπει να είναι μεταγενέστερη της σημερινής ημερομηνίας.</div>
                                                        }                                                      
                                                    </div>

                                                    <!-- Open Slots Field -->
                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="companyThesisOpenSlots">
                                                                <strong>Διαθέσιμες Θέσεις</strong>
                                                                <span style="color: red;">*</span>
                                                            </label>
                                                            <input type="number" 
                                                                   id="companyThesisOpenSlots" 
                                                                   class="form-control @(showErrorMessageforUploadingthesisAsCompany && thesis.OpenSlots_CompanyThesis < 3 ? "shake error" : "")" 
                                                                   @bind="thesis.OpenSlots_CompanyThesis" 
                                                                   min="3" 
                                                                   step="1" />
                                                            @if (showErrorMessageforUploadingthesisAsCompany && thesis.OpenSlots_CompanyThesis < 3)
                                                            {
                                                                <div class="text-danger mt-1">Ο αριθμός των διαθέσιμων θέσεων πρέπει να είναι τουλάχιστον 3.</div>
                                                            }
                                                            <small class="form-text text-muted">Αριθμός ανοιχτών θέσεων για αυτή τη Διπλωματική εργασία (ελάχιστο 3)</small>
                                                        </div>
                                                    </div>
                                              
                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="companyThesisAttachment">Συνημμένο Αρχείο Διπλωματικής Εργασίας<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                            <InputFile id="companyThesisAttachment" class="form-control" OnChange="HandleFileSelectedForCompanyThesisAttachment" />
                                                            <small class="form-text text-muted">Όριο 10MB - Μόνο αρχεία PDF</small>
                                                            @if (!string.IsNullOrEmpty(CompanyThesisAttachmentErrorMessage))
                                                            {
                                                                <div class="text-danger mt-2">@CompanyThesisAttachmentErrorMessage</div>
                                                            }
                                                        </div>
                                                    </div>

                                                    <div class="mb-3">
                                                        <button class="modern-button" style="background-color: #818589; color: white; display: inline-flex; align-items: center;" 
                                                                @onclick="HandleTemporarySaveThesisAsCompany">
                                                                <i class="fa-regular fa-floppy-disk" style="margin-right: 8px;"></i>Προσωρινή Αποθήκευση Διπλωματικής Εργασίας
                                                        </button>      
                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                @onclick="HandlePublishSaveThesisAsCompany">
                                                                <i class="fa-solid fa-floppy-disk" style="margin-right: 8px;"></i>Δημοσίευση Διπλωματικής Εργασίας
                                                        </button>
                                                    </div>
                                                    <!-- Loading Modal for Company Thesis -->
                                                    @if (showLoadingModalForThesis)
                                                    {
                                                        <div class="loading-modal">
                                                            <div class="loading-modal-content">
                                                                <div class="loading-spinner"></div>
                                                                <p>Αποθήκευση Διπλωματικής Εργασίας...</p>
                                                                <div class="progress-bar">
                                                                    <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    }
                                                        @if (showErrorMessageforUploadingthesisAsCompany)
                                                        {
                                                            <div class="alert alert-danger" role="alert">
                                                                Συμπληρώστε Όλα Τα Υποχρεωτικά Πεδία και Προσπαθήστε Ξανά
                                                            </div>
                                                        }
                                                        @if (showSuccessMessage)
                                                        {
                                                            <div class="alert alert-success alert-dismissible fade show" role="alert">
                                                                <strong>Η Θέση Έχει Δημιουργηθεί Επιτυχώς!</strong>
                                                            </div>
                                                        }
                                                }

                                                        
                                                <!-- COMPANY SHOW MY UPLOADED THESIS tab content -->
                                                <div class="mb-3 row-dark-gray">
                                                    <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityToShowMyActiveThesesAsCompany" style="cursor: pointer;">
                                                        <label class="form-label" style="color: #FFF8DC;">
                                                            @if (isLoadingThesesHistory)
                                                            {
                                                                <span>
                                                                    <i class="fas fa-spinner fa-spin me-2"></i>
                                                                    Φόρτωση Ιστορικού...
                                                                </span>
                                                            }
                                                            else
                                                            {
                                                                <span>• Ιστορικό Θέσεων Διπλωματικών Εργασιών •</span>
                                                            }
                                                        </label>
                                                        <button class="btn btn-link" @onclick="ToggleFormVisibilityToShowMyActiveThesesAsCompany" @onclick:stopPropagation="true">
                                                            @if (isShowActiveThesesAsCompanyFormVisible && !isLoadingThesesHistory)
                                                            {
                                                                <span>&#8722;</span> <!-- Minus sign -->
                                                            }
                                                            else if (!isLoadingThesesHistory)
                                                            {
                                                                <span>&#43;</span> <!-- Plus sign -->
                                                            }
                                                        </button>
                                                    </div>
                                                </div>
                                                @if (isShowActiveThesesAsCompanyFormVisible && !isLoadingThesesHistory)
                                                {
                                                    <div class="row mb-3">
                                                        <div class="col-md-2">
                                                            <label for="statusFilterForCompanyTheses" style="color: #2d3748;"><strong>Φίλτρο Εμφάνισης</strong></label>
                                                            <div class="input-group">
                                                                <select id="statusFilterForCompanyTheses" class="form-control form-control-sm" @onchange="HandleStatusFilterChangeForThesesAsCompany">
                                                                    <option value="Όλα">Όλες</option>
                                                                    <option value="Δημοσιευμένη">Δημοσιευμένες</option>
                                                                    <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένες</option>
                                                                    <option value="Αποσυρμένη">Αποσυρμένες</option>
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-2">
                                                            <label style="color: #2d3748;"><strong>Αποτελέσματα ανά Σελίδα</strong></label>
                                                            <div class="input-group" style="max-width: 65px;">
                                                                <select class="form-control form-control-sm" @onchange="OnPageSizeChange_SeeMyUploadedThesesAsCompany">
                                                                    @foreach (var option in pageSizeOptions_SeeMyUploadedThesesAsCompany)
                                                                    {
                                                                        <option value="@option" selected="@(CompanyThesesPerPage == option)">@option</option>
                                                                    }
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-2">
                                                            @if (selectedStatusFilterForCompanyTheses == "Όλα")
                                                            {
                                                                <span><strong>Σύνολο: </strong>@totalCountForCompanyTheses</span>
                                                            }
                                                            else if (selectedStatusFilterForCompanyTheses == "Δημοσιευμένη")
                                                            {
                                                                <span><strong>Σύνολο: </strong>@publishedCountForCompanyTheses</span>
                                                            }
                                                            else if (selectedStatusFilterForCompanyTheses == "Μη Δημοσιευμένη")
                                                            {
                                                                <span><strong>Σύνολο: </strong>@unpublishedCountForCompanyTheses</span>
                                                            }
                                                            else if (selectedStatusFilterForCompanyTheses == "Αποσυρμένη")
                                                            {
                                                                <span><strong>Σύνολο: </strong>@withdrawnCountForCompanyTheses</span>
                                                            }
                                                        </div>
                                                    </div>

                                                    <!-- Bulk Edit Section for Theses - Only show when there are theses -->
                                                    @if (companytheses != null && companytheses.Any())
                                                    {
                                                        <div class="row mb-3">
                                                            <div class="col-md-12">
                                                                <!-- Bulk Edit Button - Show when NOT in bulk edit mode -->
                                                                @if (!isBulkEditModeForTheses)
                                                                {
                                                                    <div class="mb-2" style="margin-left: -10px;">
                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                @onclick="EnableBulkEditModeForTheses"
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <i class="fas fa-edit" style="margin-right: 8px;"></i>Μαζική Επεξεργασία Θέσεων Διπλωματικής
                                                                        </button>
                                                                    </div>
                                                                }

                                                                <!-- Bulk Action Controls - Show when in bulk edit mode -->
                                                                @if (isBulkEditModeForTheses)
                                                                {
                                                                    <div class="mb-2" style="margin-left: -10px;">
                                                                        <div class="d-flex gap-2 align-items-center flex-wrap">
                                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                    @onclick='() => ExecuteBulkStatusChangeForTheses("Δημοσιευμένη")'
                                                                                    disabled="@(selectedThesisIds.Count == 0)"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-arrow-up me-2"></i>Αλλαγή σε Δημοσιευμένη
                                                                            </button>
                                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                    @onclick='() => ExecuteBulkStatusChangeForTheses("Μη Δημοσιευμένη")'
                                                                                    disabled="@(selectedThesisIds.Count == 0)"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-arrow-down me-2"></i>Αλλαγή σε Μη Δημοσιευμένη
                                                                            </button>
                                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                    @onclick='() => ExecuteBulkStatusChangeForTheses("Αποσυρμένη")'
                                                                                    disabled="@(selectedThesisIds.Count == 0)"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-times me-2"></i>Αλλαγή σε Αποσυρμένη
                                                                            </button>
                                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                    @onclick="ExecuteBulkCopyForTheses"
                                                                                    disabled="@(selectedThesisIds.Count == 0)"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-copy me-2"></i>Κλωνοποίηση
                                                                            </button>
                                                                            <button class="modern-button" style="background-color: #6c757d; color: white; display: inline-flex; align-items: center;" 
                                                                                    @onclick="CancelBulkEditForTheses"
                                                                                    onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                    onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                <i class="fas fa-times me-2"></i>Ακύρωση
                                                                            </button>
                                                                        </div>

                                                                        <!-- Selected count badge -->
                                                                        @if (selectedThesisIds.Count > 0)
                                                                        {
                                                                            <div class="mt-2">
                                                                                <span class="badge bg-primary">
                                                                                    Επιλεγμένες Θέσεις: @selectedThesisIds.Count
                                                                                </span>
                                                                            </div>
                                                                        }

                                                                        <!-- Instruction text - ALWAYS show when in bulk edit mode -->
                                                                        <div class="mt-2">
                                                                            <div class="alert alert-info" style="background-color: #e7f3ff; border: 1px solid #b3d9ff; color: #004085; border-radius: 6px; padding: 8px 12px;">
                                                                                <i class="fas fa-info-circle me-2"></i>
                                                                                <strong>Επιλέξτε Θέσεις Διπλωματικής στον Πίνακα</strong>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                }
                                                            </div>
                                                        </div>
                                                    }

                                                    <!-- Add the legend here - right before the table -->
                                                    <div class="d-flex justify-content-end mb-2">
                                                        <div class="status-legend" style="display: flex; align-items: center; gap: 15px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 6px; padding: 6px 12px;">
                                                            <div style="display: flex; align-items: center; gap: 8px;">
                                                                <div style="display: flex; align-items: center;">
                                                                    <div style="width: 16px; height: 16px; background-color: lightblue; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                    <span>Δημοσιευμένη</span>
                                                                </div>
                                                                <div style="display: flex; align-items: center;">
                                                                    <div style="width: 16px; height: 16px; background-color: lightcoral; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                    <span>Μη Δημοσιευμένη</span>
                                                                </div>
                                                                <div style="display: flex; align-items: center;">
                                                                    <div style="width: 16px; height: 16px; background-color: lightyellow; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                    <span>Αποσυρμένη</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div style="max-width: auto; margin-left: 0;">
                                                        <div class="table-responsive">
                                                            <table class="table table-striped">
                                                                <thead>
                                                                    <tr style="border: 2px solid black; background-color: lightgray;">
                                                                        @if (isBulkEditModeForTheses && companytheses != null && companytheses.Any())
                                                                        {
                                                                            <th style="border: 2px solid black; width: 40px;">
                                                                                #
                                                                            </th>
                                                                        }
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-key fa-sm" style="color: #0d6efd; margin-right: 8px;"></i>
                                                                            Κωδικός Θέσης
                                                                        </th>
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-font fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Τίτλος
                                                                        </th>
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-arrows-up-down fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Κατάσταση Θέσης
                                                                        </th>
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-calendar-days fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Δημιουργία Θέσης
                                                                        </th>
                                                                        <th style="border: 2px solid black;">
                                                                            <i class="fa-solid fa-hand fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Ενέργειες
                                                                        </th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    @if (companytheses != null && companytheses.Any())
                                                                    {
                                                                        @foreach (var companythesis in GetPaginatedCompanyTheses().Where(j => selectedStatusFilterForCompanyTheses == "Όλα" || j.CompanyThesisStatus == selectedStatusFilterForCompanyTheses))
                                                                        {
                                                                            <!-- Main Thesis Row -->
                                                                            <tr style="background-color: @(companythesis.CompanyThesisStatus == "Δημοσιευμένη" ? "lightblue" : (companythesis.CompanyThesisStatus == "Μη Δημοσιευμένη" ? "lightcoral" : "lightyellow")); border: 2px solid black;">
                                                                                @if (isBulkEditModeForTheses)
                                                                                {
                                                                                    <td style="border: 1px solid black; text-align: center;">
                                                                                        <input type="checkbox" 
                                                                                               @onchange="@((e) => ToggleThesisSelection(companythesis.Id, e))" 
                                                                                               checked="@selectedThesisIds.Contains(companythesis.Id)" />
                                                                                    </td>
                                                                                }
                                                                                <td style="color: #2d3748; border: 1px solid black;">
                                                                                    @companythesis.RNGForThesisUploadedAsCompany_HashedAsUniqueID
                                                                                </td>
                                                                                <td style="border: 1px solid black; cursor: pointer;" @onclick="() => ToggleCompanyThesesExpanded(companythesis.RNGForThesisUploadedAsCompany)" title="Κλικ για εμφάνιση λεπτομερειών">
                                                                                    @companythesis.CompanyThesisTitle
                                                                                </td>
                                                                                <td style="border: 1px solid black;">@companythesis.CompanyThesisStatus</td>
                                                                                <td style="border: 1px solid black;">@companythesis.CompanyThesisUploadDateTime</td>
                                                                                <td style="border: 1px solid black; position: relative;" class="actions-cell">
                                                                                    <div class="dropdown">
                                                                                        <!-- Options menu button with ellipsis-h icon -->
                                                                                        <button class="btn btn-action btn-menu" 
                                                                                                @onclick="() => ToggleThesisMenu(companythesis.Id)" 
                                                                                                title="Ενέργειες"
                                                                                                @onclick:stopPropagation="true">
                                                                                            <i class="fas fa-ellipsis-h icon-button"></i>
                                                                                        </button>
        
                                                                                        <!-- Dropdown menu -->
                                                                                        @if (activeThesisMenuId == companythesis.Id)
                                                                                        {
                                                                                            <!-- Invisible backdrop that covers entire screen -->
                                                                                            <div class="dropdown-backdrop" @onclick="() => ToggleThesisMenu(0)"></div>
            
                                                                                            <div class="dropdown-menu show" @onclick:stopPropagation="true">
                                                                                                <!-- Delete option -->
                                                                                                <button class="dropdown-item" @onclick="() => { DeleteCompanyThesis(companythesis.Id); ToggleThesisMenu(0); }">
                                                                                                    <i class="fas fa-trash me-2" style="color: #f56565;"></i>
                                                                                                    <span>Διαγραφή</span>
                                                                                                </button>
                
                                                                                                <!-- View details option -->
                                                                                                <button class="dropdown-item" @onclick="() => { ShowCompanyThesisDetails(companythesis); ToggleThesisMenu(0); }">
                                                                                                    <i class="fas fa-eye me-2" style="color: #63b3ed;"></i>
                                                                                                    <span>Προβολή</span>
                                                                                                </button>

                                                                                                <!-- Download attachment option (only if attachment exists) -->
                                                                                                @if (companythesis.CompanyThesisAttachmentUpload != null && companythesis.CompanyThesisAttachmentUpload.Length > 0)
                                                                                                {
                                                                                                    <button class="dropdown-item" @onclick="() => { DownloadAttachmentForCompanyTheses(companythesis.Id); ToggleThesisMenu(0); }">
                                                                                                        <i class="fas fa-download me-2" style="color: #48bb78;"></i>
                                                                                                        <span>Λήψη Αρχείου</span>
                                                                                                    </button>
                                                                                                }

                                                                                                <!-- View applicants option -->
                                                                                                <button class="dropdown-item" @onclick="() => { ToggleCompanyThesesExpanded(companythesis.RNGForThesisUploadedAsCompany); ToggleThesisMenu(0); }">
                                                                                                    <i class="fa-solid fa-graduation-cap me-2" style="color: #63b3ed;"></i>
                                                                                                    <span>Αιτούντες</span>
                                                                                                </button>

                                                                                                <!-- View professor interest option -->
                                                                                                <button class="dropdown-item" @onclick="() => { ToggleCompanyThesesExpandedForProfessorInterest(companythesis.RNGForThesisUploadedAsCompany); ToggleThesisMenu(0); }">
                                                                                                    <i class="fa-solid fa-user-tie me-2" style="color: #63b3ed;"></i>
                                                                                                    <span>Ενδιαφερόμενος Καθηγητής</span>
                                                                                                </button>

                                                                                                <!-- Status change options -->
                                                                                                @if (companythesis.CompanyThesisStatus != "Δημοσιευμένη")
                                                                                                {
                                                                                                    <!-- Edit option (only for non-published) -->
                                                                                                    <button class="dropdown-item" @onclick="() => { EditCompanyThesisDetails(companythesis); ToggleThesisMenu(0); }">
                                                                                                        <i class="fas fa-pencil-alt me-2" style="color: #8b5cf6;"></i>
                                                                                                        <span>Επεξεργασία</span>
                                                                                                    </button>
                    
                                                                                                    <!-- Publish option -->
                                                                                                    <button class="dropdown-item" @onclick='async () => { await UpdateThesisStatusAsCompany(companythesis.Id, "Δημοσιευμένη"); ToggleThesisMenu(0); }'>
                                                                                                        <i class="fas fa-arrow-up me-2" style="color: #68d391;"></i>
                                                                                                        <span>Δημοσίευση</span>
                                                                                                    </button>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <!-- Withdraw option (only for published) -->
                                                                                                    <button class="dropdown-item" @onclick='async () => { await UpdateThesisStatusAsCompany(companythesis.Id, "Αποσυρμένη"); ToggleThesisMenu(0); }'>
                                                                                                        <i class="fas fa-times me-2" style="color: #f56565;"></i>
                                                                                                        <span>Απόσυρση</span>
                                                                                                    </button>
                                                                                                }

                                                                                                @if (companythesis.CompanyThesisStatus != "Μη Δημοσιευμένη")
                                                                                                {
                                                                                                    <!-- Unpublish option -->
                                                                                                    <button class="dropdown-item" @onclick='() => { ChangeCompanyThesisStatusToUnpublished(companythesis.Id); ToggleThesisMenu(0); }'>
                                                                                                        <i class="fas fa-arrow-down me-2" style="color: #f6e05e;"></i>
                                                                                                        <span>Αποδημοσίευση</span>
                                                                                                    </button>
                                                                                                }
                                                                                            </div>
                                                                                        }
                                                                                    </div>
    
                                                                                    <!-- Loading Modal for Delete Company Thesis -->
                                                                                    @if (showLoadingModalForDeleteCompanyThesis)
                                                                                    {
                                                                                        <div class="loading-modal">
                                                                                            <div class="loading-modal-content">
                                                                                                <div class="loading-spinner"></div>
                                                                                                <p>Διαγραφή Διπλωματικής Εργασίας...</p>
                                                                                                <div class="progress-bar">
                                                                                                    <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                </td>
                                                                            </tr>

                                                                            <!-- Applicants Section - Connected to the main row -->
                                                                            @if (expandedCompanyTheses.ContainsKey(companythesis.RNGForThesisUploadedAsCompany) && expandedCompanyTheses[companythesis.RNGForThesisUploadedAsCompany])
                                                                            {
                                                                                <tr style="background-color: #e8f4f8; border-left: 4px solid #0d6efd;">
                                                                                    <td colspan="@(isBulkEditModeForTheses ? "6" : "5")" style="padding: 0; border: 1px solid #0d6efd;">
                                                                                        <div style="background: linear-gradient(135deg, #e8f4f8 0%, #d1ecf1 100%); padding: 15px; border-radius: 0 0 5px 5px;">
                                                                                            <!-- Loading State for Applicants -->
                                                                                            @if (isLoadingCompanyThesisApplicants && loadingCompanyThesisId == companythesis.RNGForThesisUploadedAsCompany)
                                                                                            {
                                                                                                <div class="text-center" style="padding: 40px;">
                                                                                                    <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                                                                                                        <span class="sr-only">Φόρτωση...</span>
                                                                                                    </div>
                                                                                                    <p style="color: #0d6efd; font-weight: bold; margin-top: 15px; font-size: 16px;">
                                                                                                        Φόρτωση αιτούντων...
                                                                                                    </p>
                                                                                                </div>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <!-- BULK ACTIONS SECTION FOR THESIS APPLICANTS -->
                                                                                                @if (companyThesisApplicantsMap.ContainsKey(companythesis.RNGForThesisUploadedAsCompany) && 
                                                                                                     companyThesisApplicantsMap[companythesis.RNGForThesisUploadedAsCompany].Any())
                                                                                                {
                                                                                                    <div class="row mb-3">
                                                                                                        <div class="col-md-12">
                                                                                                            <!-- Bulk Edit Button for Thesis Applicants - Show when NOT in bulk edit mode -->
                                                                                                            @if (!isBulkEditModeForThesisApplicants)
                                                                                                            {
                                                                                                                <div class="mb-2" style="text-align: left; margin-left: -15px;">
                                                                                                                    <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                                            @onclick="() => EnableBulkEditModeForThesisApplicants(companythesis.RNGForThesisUploadedAsCompany.ToString())"
                                                                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                        <i class="fas fa-edit" style="margin-right: 8px;"></i>Μαζική Επεξεργασία Αιτούντων Διπλωματικής
                                                                                                                    </button>
                                                                                                                </div>
                                                                                                            }

                                                                                                            <!-- Bulk Action Controls - Show when in bulk edit mode -->
                                                                                                            @if (isBulkEditModeForThesisApplicants)
                                                                                                            {
                                                                                                                <div class="mb-2" style="text-align: left; margin-left: -15px;">
                                                                                                                    <div class="d-flex gap-2 align-items-center flex-wrap">
                                                                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                @onclick='() => ShowEmailConfirmationModalForThesisApplicants("accept")'
                                                                                                                                disabled="@(selectedThesisApplicantIds.Count == 0)"
                                                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                            <i class="fas fa-check me-2"></i>Μαζική Αποδοχή
                                                                                                                        </button>
                                                                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                @onclick='() => ShowEmailConfirmationModalForThesisApplicants("reject")'
                                                                                                                                disabled="@(selectedThesisApplicantIds.Count == 0)"
                                                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                            <i class="fas fa-times me-2"></i>Μαζική Απόρριψη
                                                                                                                        </button>
                                                                                                                        <button class="modern-button" style="background-color: #6c757d; color: white; display: inline-flex; align-items: center;" 
                                                                                                                                @onclick="CancelBulkEditForThesisApplicants"
                                                                                                                                onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                                                                onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                                                            <i class="fas fa-times me-2"></i>Ακύρωση
                                                                                                                        </button>
                                                                                                                    </div>

                                                                                                                    <!-- Badges section -->
                                                                                                                    <div class="mt-2 d-flex gap-2 align-items-center flex-wrap">
                                                                                                                        <!-- Selected count badge -->
                                                                                                                        @if (selectedThesisApplicantIds.Count > 0)
                                                                                                                        {
                                                                                                                            <span class="badge bg-primary">
                                                                                                                                Επιλεγμένες Αιτήσεις: @selectedThesisApplicantIds.Count
                                                                                                                            </span>
                                                                                                                        }
    
                                                                                                                        <!-- Total and Accepted badges -->
                                                                                                                        <span class="badge badge-primary" style="background-color: #0d6efd; padding: 5px 10px; border-radius: 15px;">
                                                                                                                            Σύνολο Αιτήσεων: @(companyThesisApplicantsMap.ContainsKey(companythesis.RNGForThesisUploadedAsCompany) ? companyThesisApplicantsMap[companythesis.RNGForThesisUploadedAsCompany].Count().ToString() : "0")
                                                                                                                        </span>
                                                                                                                        <span class="badge badge-info" style="background-color: #17a2b8; padding: 5px 10px; border-radius: 15px;">
                                                                                                                            Έχετε Αποδεχτεί: @acceptedApplicantsCountPerThesis_ForCompanyThesis.GetValueOrDefault(companythesis.RNGForThesisUploadedAsCompany, 0)/@availableSlotsPerThesis_ForCompanyThesis.GetValueOrDefault(companythesis.RNGForThesisUploadedAsCompany, companythesis.OpenSlots_CompanyThesis)
                                                                                                                        </span>
                                                                                                                    </div>

                                                                                                                    <!-- Instruction text -->
                                                                                                                    <div class="mt-2">
                                                                                                                        <div class="alert alert-info" style="background-color: #e7f3ff; border: 1px solid #b3d9ff; color: #004085; border-radius: 6px; padding: 8px 12px;">
                                                                                                                            <i class="fas fa-info-circle me-2"></i>
                                                                                                                            <strong>Επιλέξτε Αιτήσεις στον Πίνακα</strong>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            }
                                                                                                        </div>
                                                                                                    </div>
                                                                                                }
                                                                                                <!-- END BULK ACTIONS SECTION -->

                                                                                                @if (companyThesisApplicantsMap.ContainsKey(companythesis.RNGForThesisUploadedAsCompany) && 
                                                                                                     companyThesisApplicantsMap[companythesis.RNGForThesisUploadedAsCompany].Any())
                                                                                                {
                                                                                                    <div class="table-responsive">
                                                                                                        <table class="table table-striped">
                                                                                                            <thead>
                                                                                                                <tr style="background-color: #cce7ff; border: 1px solid #0d6efd;">
                                                                                                                    @if (isBulkEditModeForThesisApplicants)
                                                                                                                    {
                                                                                                                        <th style="border: 1px solid #0d6efd; width: 40px;">
                                                                                                                            #
                                                                                                                        </th>
                                                                                                                    }
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-user fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Προφίλ
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-signature fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Όνομα
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-signature fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Επώνυμο
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-calendar-plus fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Ημερομηνία Αίτησης
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-graduation-cap fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Έτος Φοίτησης
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-phone fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Τηλέφωνο
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Email
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-hand fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Ενέργεια
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-hourglass-half fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Κατάσταση Αίτησης
                                                                                                                    </th>
                                                                                                                </tr>
                                                                                                            </thead>
                                                                                                            <tbody>
                                                                                                                @if (studentDataCache == null)
                                                                                                                {
                                                                                                                    <tr>
                                                                                                                        <td colspan="9" class="text-center" style="border: 1px solid #0d6efd;">
                                                                                                                            <div class="spinner-border text-primary" role="status">
                                                                                                                                <span class="sr-only">Φόρτωση...</span>
                                                                                                                            </div>
                                                                                                                            <p>Φόρτωση δεδομένων φοιτητών...</p>
                                                                                                                        </td>
                                                                                                                    </tr>
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                    @foreach (var applicant in companyThesisApplicantsMap[companythesis.RNGForThesisUploadedAsCompany])
                                                                                                                    {
                                                                                                                        var student = studentDataCache.TryGetValue(applicant.StudentEmailAppliedForThesis, out var s) ? s : null;
                                                                                                                        var status = applicant.CompanyThesisStatusAppliedAtStudentSide ?? "N/A";
                                                                                                                        var companyStatus = applicant.CompanyThesisStatusAppliedAtCompanySide ?? "N/A";

                                                                                                                        <tr style="background-color: @(companyStatus == "Έχει γίνει Αποδοχή" ? "lightgreen" :
                                                                                                                                                                                            companyStatus == "Έχει Απορριφθεί" ? "lightcoral" :
                                                                                                                                                                                            companyStatus == "Απορρίφθηκε (Απόσυρση Θέσεως Από Εταιρία)" ? "coral" :
                                                                                                                                                                                            companyStatus == "Αποσύρθηκε από τον φοιτητή" ? "lightyellow" : "transparent")">
                                                                                                                            @if (isBulkEditModeForThesisApplicants)
                                                                                                                            {
                                                                                                                                <td style="border: 1px solid #0d6efd; text-align: center;">
                                                                                                                                    <div class="disabled-checkbox-container">
                                                                                                                                        <input type="checkbox" 
                                                                                                                                               @onchange="@((e) => ToggleThesisApplicantSelection(applicant.RNGForCompanyThesisApplied, applicant.StudentUniqueIDAppliedForThesis, e))" 
                                                                                                                                               checked="@selectedThesisApplicantIds.Contains((applicant.RNGForCompanyThesisApplied, applicant.StudentUniqueIDAppliedForThesis))"
                                                                                                                                               disabled="@(companyStatus != "Σε Επεξεργασία")"
                                                                                                                                               class="@(companyStatus != "Σε Επεξεργασία" ? "disabled-checkbox" : "")" />
                                                                                                                                    </div>
                                                                                                                                </td>
                                                                                                                            }
                                                                                                                            <td style="border: 1px solid #0d6efd;">
                                                                                                                                <a href="#" @onclick='() => ShowStudentDetailsInNameAsHyperlink(applicant.StudentUniqueIDAppliedForThesis, applicant.Id, "Thesis")' 
                                                                                                                                   title="Προφίλ Υποψήφιου Σπουδαστή" style="color: #0d6efd; text-decoration: none;">
                                                                                                                                    <i class="fas fa-eye icon-button text-dark"></i>
                                                                                                                                    @if (student == null)
                                                                                                                                    {
                                                                                                                                        <span class="badge badge-warning ml-1">Δε βρέθηκε</span>
                                                                                                                                    }
                                                                                                                                </a>
                                                                                                                            </td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">@(student?.Name ?? "Δε βρέθηκε")</td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">@(student?.Surname ?? "Δε βρέθηκε")</td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">@applicant.DateTimeStudentAppliedForThesis.ToString("dd/MM/yyyy HH:mm")</td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">@(student?.StudyYear ?? "-")</td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">
                                                                                                                                <i class="fas fa-phone-alt"></i> @(student?.Telephone ?? "-")
                                                                                                                            </td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">
                                                                                                                                <i class="fas fa-envelope"></i> @applicant.StudentEmailAppliedForThesis
                                                                                                                            </td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">
                                                                                                                                @if (status == "Σε Επεξεργασία")
                                                                                                                                {
                                                                                                                                    <div style="display: flex; gap: 10px; justify-content: center;">
                                                                                                                                        <span @onclick="() => ConfirmAndAcceptStudentThesisApplicationAsCompany(applicant.RNGForCompanyThesisApplied, applicant.StudentUniqueIDAppliedForThesis)" 
                                                                                                                                              title="Αποδοχή Αίτησης" style="cursor: pointer;">
                                                                                                                                            <i class="fas fa-check action-icon accept-icon"></i>
                                                                                                                                        </span>

                                                                                                                                        <span @onclick="() => ConfirmAndRejectStudentThesisApplicationAsCompany(applicant.RNGForCompanyThesisApplied, applicant.StudentUniqueIDAppliedForThesis)" 
                                                                                                                                              title="Απόρριψη Αίτησης" style="cursor: pointer;">
                                                                                                                                            <i class="fas fa-times action-icon reject-icon"></i>
                                                                                                                                        </span>
                                                                                                                                    </div>
                                                                                                                                }
                                                                                                                                else
                                                                                                                                {
                                                                                                                                    <span class="text">@status</span>
                                                                                                                                }
                                                                                                                            </td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">
                                                                                                                                @if (companyStatus == "Έχει γίνει Αποδοχή")
                                                                                                                                {
                                                                                                                                    <span style="color: green; font-weight: bold;">Έχει γίνει Αποδοχή</span>
                                                                                                                                }
                                                                                                                                else if (companyStatus == "Έχει Απορριφθεί")
                                                                                                                                {
                                                                                                                                    <span style="color: red; font-weight: bold;">Έχει Απορριφθεί</span>
                                                                                                                                }
                                                                                                                                else
                                                                                                                                {
                                                                                                                                    <span>@companyStatus</span>
                                                                                                                                }
                                                                                                                            </td>
                                                                                                                        </tr>
                                                                                                                    }
                                                                                                                }
                                                                                                            </tbody>
                                                                                                        </table>
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <div class="text-center" style="padding: 20px;">
                                                                                                        <i class="fas fa-users fa-2x" style="color: #6c757d; margin-bottom: 10px;"></i>
                                                                                                        <p style="color: #6c757d; font-weight: bold; margin: 0;">
                                                                                                            Δεν Υπάρχουν Αιτούντες για αυτήν την Διπλωματική Εργασία Ακόμη
                                                                                                        </p>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                            }

                                                                            <!-- Professor Interest Section - Connected to the main row -->
                                                                            @if (expandedCompanyThesesForProfessorInterest.ContainsKey(companythesis.RNGForThesisUploadedAsCompany) && expandedCompanyThesesForProfessorInterest[companythesis.RNGForThesisUploadedAsCompany])
                                                                            {
                                                                                <tr style="background-color: #f0f8ff; border-left: 4px solid #4682b4;">
                                                                                    <td colspan="@(isBulkEditModeForTheses ? "6" : "5")" style="padding: 0; border: 1px solid #4682b4;">
                                                                                        <div style="background: linear-gradient(135deg, #f0f8ff 0%, #e6f3ff 100%); padding: 15px; border-radius: 0 0 5px 5px;">
                                                                                            <!-- Loading State for Professor Interest -->
                                                                                            @if (isLoadingCompanyThesisProfessors && loadingCompanyThesisProfessorId == companythesis.RNGForThesisUploadedAsCompany)
                                                                                            {
                                                                                                <div class="text-center" style="padding: 40px;">
                                                                                                    <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                                                                                                        <span class="sr-only">Φόρτωση...</span>
                                                                                                    </div>
                                                                                                    <p style="color: #4682b4; font-weight: bold; margin-top: 15px; font-size: 16px;">
                                                                                                        Φόρτωση στοιχείων καθηγητή...
                                                                                                    </p>
                                                                                                </div>
                                                                                            }
                                                                                            else
                                                                                            {
                            

                                                                                                @if (companythesis.IsProfessorInteresetedInCompanyThesis)
                                                                                                {
                                                                                                    <div class="table-responsive">
                                                                                                        <table class="table table-striped">
                                                                                                            <thead>
                                                                                                                <tr style="background-color: #d6eaff; border: 1px solid #4682b4;">
                                                                                                                    <th style="border: 1px solid #4682b4;">
                                                                                                                        <i class="fa-solid fa-user-tie fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Προφίλ
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #4682b4;">
                                                                                                                        <i class="fa-solid fa-signature fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Όνοματεπώνυμο
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #4682b4;">
                                                                                                                        <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Email
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #4682b4;">
                                                                                                                        <i class="fa-solid fa-phone fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Τηλέφωνο Εργασίας
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #4682b4;">
                                                                                                                        <i class="fa-solid fa-phone fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Προσωπικό Τηλέφωνο
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #4682b4;">
                                                                                                                        <i class="fa-solid fa-globe fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Ιστότοπος
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #4682b4;">
                                                                                                                        <i class="fa-brands fa-linkedin fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        LinkedIn
                                                                                                                    </th>
                                                                                                                </tr>
                                                                                                            </thead>
                                                                                                            <tbody>
                                                                                                                @if (professorDataCache == null)
                                                                                                                {
                                                                                                                    <tr>
                                                                                                                        <td colspan="7" class="text-center" style="border: 1px solid #4682b4;">
                                                                                                                            <div class="spinner-border text-primary" role="status">
                                                                                                                                <span class="sr-only">Φόρτωση...</span>
                                                                                                                            </div>
                                                                                                                            <p>Φόρτωση δεδομένων καθηγητών...</p>
                                                                                                                        </td>
                                                                                                                    </tr>
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                    var professor = professorDataCache.TryGetValue(companythesis.ProfessorEmailInterestedInCompanyThesis, out var p) ? p : null;
                
                                                                                                                    <tr>
                                                                                                                        <td style="border: 1px solid #4682b4;">
                                                                                                                            <a href="#" @onclick="() => ShowProfessorDetailsAtCompanyThesisInterest(companythesis)" 
                                                                                                                               title="Προβολή Στοιχείων Καθηγητή" style="color: #4682b4; text-decoration: none;">
                                                                                                                                <i class="fas fa-eye icon-button text-dark"></i>
                                                                                                                                @if (professor == null)
                                                                                                                                {
                                                                                                                                    <span class="badge badge-warning ml-1">Δε βρέθηκε</span>
                                                                                                                                }
                                                                                                                            </a>
                                                                                                                        </td>
                                                                                                                        <td style="border: 1px solid #4682b4;">
                                                                                                                            @(professor?.ProfName ?? "Άγνωστο") @(professor?.ProfSurname ?? "Όνομα")
                                                                                                                        </td>
                                                                                                                        <td style="border: 1px solid #4682b4;">
                                                                                                                            <i class="fas fa-envelope"></i> @companythesis.ProfessorEmailInterestedInCompanyThesis
                                                                                                                        </td>
                                                                                                                        <td style="border: 1px solid #4682b4;">
                                                                                                                            @if (!string.IsNullOrWhiteSpace(professor?.ProfWorkTelephone))
                                                                                                                            {
                                                                                                                                <i class="fas fa-phone-alt"></i> @professor.ProfWorkTelephone
                                                                                                                            }
                                                                                                                            else
                                                                                                                            {
                                                                                                                                <span style="font-weight: bold; font-style: italic;">Δεν Διατίθεται</span>
                                                                                                                            }
                                                                                                                        </td>
                                                                                                                        <td style="border: 1px solid #4682b4;">
                                                                                                                            @if (professor?.ProfPersonalTelephoneVisibility ?? false)
                                                                                                                            {
                                                                                                                                <i class="fas fa-mobile-alt"></i> @professor.ProfPersonalTelephone
                                                                                                                            }
                                                                                                                            else
                                                                                                                            {
                                                                                                                                <span style="font-weight: bold; font-style: italic;">Δεν Διατίθεται</span>
                                                                                                                            }
                                                                                                                        </td>
                                                                                                                        <td style="border: 1px solid #4682b4;">
                                                                                                                            @if (!string.IsNullOrWhiteSpace(professor?.ProfPersonalWebsite))
                                                                                                                            {
                                                                                                                                <a href="@professor.ProfPersonalWebsite" target="_blank" title="Προβολή Ιστότοπου Καθηγητή" style="color: #4682b4;">
                                                                                                                                    <i class="fas fa-globe"></i> Ιστότοπος
                                                                                                                                </a>
                                                                                                                            }
                                                                                                                            else
                                                                                                                            {
                                                                                                                                <span style="font-weight: bold; font-style: italic;">Δεν Διατίθεται</span>
                                                                                                                            }
                                                                                                                        </td>
                                                                                                                        <td style="border: 1px solid #4682b4;">
                                                                                                                            @if (!string.IsNullOrWhiteSpace(professor?.ProfLinkedInSite))
                                                                                                                            {
                                                                                                                                <a href="@professor.ProfLinkedInSite" target="_blank" title="Προβολή LinkedIn Καθηγητή" style="color: #4682b4;">
                                                                                                                                    <i class="fab fa-linkedin"></i> LinkedIn
                                                                                                                                </a>
                                                                                                                            }
                                                                                                                            else
                                                                                                                            {
                                                                                                                                <span style="font-weight: bold; font-style: italic;">Δεν Διατίθεται</span>
                                                                                                                            }
                                                                                                                        </td>
                                                                                                                    </tr>
                                                                                                                }
                                                                                                            </tbody>
                                                                                                        </table>
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <div class="text-center" style="padding: 20px;">
                                                                                                        <i class="fas fa-user-tie fa-2x" style="color: #6c757d; margin-bottom: 10px;"></i>
                                                                                                        <p style="color: #6c757d; font-weight: bold; margin: 0;">
                                                                                                            Κανένας Καθηγητής δεν έχει εκδηλώσει ενδιαφέρον ακόμη
                                                                                                        </p>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                            }
                                                                        }
                                                                    }
                                                                    else
                                                                    {
                                                                        <tr>
                                                                            <td colspan="@(isBulkEditModeForTheses && companytheses != null && companytheses.Any() ? "6" : "5")" class="text-center" style="border: 1px solid black;">
                                                                                <div class="empty-state">
                                                                                    <i class="fas fa-file-alt fa-3x mb-3" style="color: #6c757d;"></i>
                                                                                    <h5 style="color: #2d3748; margin-bottom: 10px;">Δεν υπάρχουν Θέσεις Διπλωματικών Εργασιών</h5>
                                                                                </div>
                                                                            </td>
                                                                        </tr>
                                                                    }
                                                                </tbody>
                                                            </table>
            
                                                            @if (companytheses != null && companytheses.Any())
                                                            {
                                                                <br/>
                                                                <!-- Pagination Controls -->
                                                                <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                    <!-- First Page (<<) -->
                                                                    <span class="pagination-item @(currentPageForCompanyTheses == 1 ? "disabled" : "")" 
                                                                          @onclick="@(() => GoToFirstPageForCompanyTheses())">
                                                                        &lt;&lt;
                                                                    </span>

                                                                    <!-- Previous Page (<) -->
                                                                    <span class="pagination-item @(currentPageForCompanyTheses == 1 ? "disabled" : "")" 
                                                                          @onclick="@(() => PreviousPageForCompanyTheses())">
                                                                        &lt;
                                                                    </span>

                                                                    <!-- Page Numbers -->
                                                                    @foreach (var pageNum in GetVisiblePagesForCompanyTheses())
                                                                    {
                                                                        @if (pageNum == -1)
                                                                        {
                                                                            <span class="pagination-ellipsis">...</span>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span class="pagination-item @(pageNum == currentPageForCompanyTheses ? "active" : "")" 
                                                                                  @onclick="@(() => GoToPageForCompanyTheses(pageNum))">
                                                                                @pageNum
                                                                            </span>
                                                                        }
                                                                    }

                                                                    <!-- Next Page (>) -->
                                                                    <span class="pagination-item @(currentPageForCompanyTheses == totalPagesForCompanyTheses ? "disabled" : "")" 
                                                                          @onclick="@(() => NextPageForCompanyTheses())">
                                                                        &gt;
                                                                    </span>

                                                                    <!-- Last Page (>>) -->
                                                                    <span class="pagination-item @(currentPageForCompanyTheses == totalPagesForCompanyTheses ? "disabled" : "")" 
                                                                          @onclick="@(() => GoToLastPageForCompanyTheses())">
                                                                        &gt;&gt;
                                                                    </span>

                                                                    <!-- Page counter -->
                                                                    <span class="ms-3">Σελίδα @currentPageForCompanyTheses από @totalPagesForCompanyTheses</span>
                                                                </div>
                                                                <br/>
                                                            }
                                                        </div>
                                                    </div>
                                                    <br/>
                                                    <br/>
                                                }

                                                <!-- Slot Warning Modal for Theses - NEW CODE -->
                                                @if (showSlotWarningModal_ForCompanyThesis)
                                                {
                                                    <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5); z-index: 1060;">
                                                        <div class="modal-dialog modal-dialog-centered" role="document">
                                                            <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); border: 2px solid #2d3748;">
                                                                <div class="modal-header" style="border-bottom: 1px solid #2d3748; border-radius: 12px 12px 0 0; background-color: #FFFFFF;">
                                                                    <h5 class="modal-title" style="color: #2d3748; font-weight: 600; font-size: 1.25rem;">
                                                                        <i class="fas fa-exclamation-triangle me-2"></i>Προσοχή - Όριο Slots Διπλωματικής
                                                                    </h5>
                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                            @onclick="CloseSlotWarningModal_ForCompanyThesis"
                                                                            onmouseover="this.style.backgroundColor='#2d3748'" 
                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                        <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                    </button>
                                                                </div>
                                                                <div class="modal-body" style="padding: 20px;">
                                                                    <div class="alert alert-warning" style="border-radius: 8px; margin: 0;">
                                                                        <div class="d-flex align-items-center">
                                                                            <i class="fas fa-exclamation-circle fa-2x me-3" style="color: #2d3748;"></i>
                                                                            <div>
                                                                                <h6 style="color: #2d3748; margin-bottom: 8px; font-weight: bold;">Υπέρβαση Διαθέσιμων Θέσεων Διπλωματικής</h6>
                                                                                <p style="color: #2d3748; margin: 0; line-height: 1.5;">@slotWarningMessage_ForCompanyThesis</p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="modal-footer" style="border-top: 1px solid #2d3748; border-radius: 0 0 12px 12px; background-color: #FFFFFF;">
                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                            @onclick="CloseSlotWarningModal_ForCompanyThesis"
                                                                            onmouseover="this.style.backgroundColor='#2d3748'" 
                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                        <i class="fas fa-times me-1"></i>Κλείσιμο
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }

                                                <!-- Bulk Action Modal for Theses -->
                                                @if (showBulkActionModalForTheses)
                                                {
                                                    <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                        <div class="modal-dialog modal-dialog-centered" role="document">
                                                            <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                    <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                        <i class="fas fa-cogs me-2"></i>Μαζική Επεξεργασία Διπλωματικών Εργασιών
                                                                    </h5>
                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                            @onclick="CloseBulkActionModalForTheses"
                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                        <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                    </button>
                                                                </div>
                                                                <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                    <div class="list-group">
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold; color: #2d3748;">Επιλεγμένες Θέσεις</label>
                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-list-check" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                <span>@selectedThesisIds.Count θέσεις Διπλωματικών Εργασιών</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold; color: #2d3748;">Επιλέξτε Ενέργεια</label>
                                                                            <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; border: none;">
                                                                                <div class="form-check mb-2">
                                                                                    <input class="form-check-input" type="radio" name="bulkActionForTheses" 
                                                                                           id="actionStatusTheses" value="status" @onchange="@((e) => bulkActionForTheses = "status")" 
                                                                                           style="cursor: pointer; margin-right: 8px;" />
                                                                                    <label class="form-check-label" for="actionStatusTheses" style="cursor: pointer; color: #2d3748;">
                                                                                        <i class="fas fa-arrows-up-down me-1" style="color: #4682B4;"></i>
                                                                                        Αλλαγή Κατάστασης
                                                                                    </label>
                                                                                </div>
                                                                                <div class="form-check">
                                                                                    <input class="form-check-input" type="radio" name="bulkActionForTheses" 
                                                                                           id="actionCopyTheses" value="copy" @onchange="@((e) => bulkActionForTheses = "copy")" 
                                                                                           style="cursor: pointer; margin-right: 8px;" />
                                                                                    <label class="form-check-label" for="actionCopyTheses" style="cursor: pointer; color: #2d3748;">
                                                                                        <i class="fas fa-copy me-1" style="color: #4682B4;"></i>
                                                                                        Αντιγραφή Θέσεων
                                                                                    </label>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        @if (bulkActionForTheses == "status")
                                                                        {
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold; color: #2d3748;">Νέα Κατάσταση</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; padding: 0;">
                                                                                    <select class="form-select" @bind="newStatusForBulkActionForTheses" style="border: none; background: transparent; box-shadow: none;">
                                                                                        <option value="Δημοσιευμένη">Δημοσιευμένη</option>
                                                                                        <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένη</option>
                                                                                        <option value="Αποσυρμένη">Αποσυρμένη</option>
                                                                                    </select>
                                                                                </div>
                                                                            </div>
                                                                        }
                                                                    </div>
                                                                </div>
                                                                <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                    <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                            @onclick="CloseBulkActionModalForTheses"
                                                                            onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                            onmouseout="this.style.backgroundColor='#6c757d'">
                                                                        <i class="fas fa-times me-1"></i>Ακύρωση
                                                                    </button>
                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                            @onclick="ExecuteBulkActionForTheses" 
                                                                            disabled="@string.IsNullOrEmpty(bulkActionForTheses)"
                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                        <i class="fas fa-play me-1"></i>Εκτέλεση
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }

                                                <!-- Email Confirmation Modal for Thesis Applicants -->
                                                @if (showEmailConfirmationModalForThesisApplicants)
                                                {
                                                    <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                        <div class="modal-dialog modal-dialog-centered" role="document">
                                                            <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                    <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                        <i class="fas fa-envelope me-2"></i>Αποστολή Email Διπλωματικής
                                                                    </h5>
                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                            @onclick="CloseEmailConfirmationModalForThesisApplicants"
                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                        <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                    </button>
                                                                </div>
                                                                <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                    <div class="list-group">
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold; color: #2d3748;">Επιλεγμένες Αιτήσεις</label>
                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-list-check" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                <span>@selectedThesisApplicantIds.Count αιτήσεις</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold; color: #2d3748;">Ενέργεια</label>
                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas @(pendingBulkActionForThesisApplicants == "accept" ? "fa-check text-success" : "fa-times text-danger") me-2"></i>
                                                                                <span>@(pendingBulkActionForThesisApplicants == "accept" ? "Μαζική Αποδοχή" : "Μαζική Απόρριψη")</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold; color: #2d3748;">Αποστολή Email Ειδοποιήσεων</label>
                                                                            <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; border: none;">
                                                                                <div class="form-check mb-2">
                                                                                    <input class="form-check-input" type="radio" name="emailOptionThesis" 
                                                                                           id="sendEmailsThesis" value="true" @onchange="@((e) => sendEmailsForBulkThesisAction = true)" 
                                                                                           checked="@sendEmailsForBulkThesisAction"
                                                                                           style="cursor: pointer; margin-right: 8px;" />
                                                                                    <label class="form-check-label" for="sendEmailsThesis" style="cursor: pointer; color: #2d3748;">
                                                                                        <i class="fas fa-envelope me-1" style="color: #4682B4;"></i>
                                                                                        Να σταλούν Email στους Φοιτητές και στην Εταιρεία
                                                                                    </label>
                                                                                </div>
                                                                                <div class="form-check">
                                                                                    <input class="form-check-input" type="radio" name="emailOptionThesis" 
                                                                                           id="dontSendEmailsThesis" value="false" @onchange="@((e) => sendEmailsForBulkThesisAction = false)" 
                                                                                           checked="@(!sendEmailsForBulkThesisAction)"
                                                                                           style="cursor: pointer; margin-right: 8px;" />
                                                                                    <label class="form-check-label" for="dontSendEmailsThesis" style="cursor: pointer; color: #2d3748;">
                                                                                        <i class="fas fa-envelope-slash me-1" style="color: #6c757d;"></i>
                                                                                        Να μην σταλούν Email (μόνο ενημέρωση κατάστασης)
                                                                                    </label>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <div class="alert @(sendEmailsForBulkThesisAction ? "alert-info" : "alert-warning")" style="border-radius: 8px;">
                                                                            <i class="fas @(sendEmailsForBulkThesisAction ? "fa-info-circle" : "fa-exclamation-triangle") me-2"></i>
                                                                            @if (sendEmailsForBulkThesisAction)
                                                                            {
                                                                                <strong>Πληροφορία:</strong> 
                                                                                <span>Θα σταλούν @selectedThesisApplicantIds.Count email @(pendingBulkActionForThesisApplicants == "accept" ? "αποδοχής" : "απόρριψης") στους φοιτητές και email ειδοποίησης στην εταιρεία.</span>
                                                                            }
                                                                            else
                                                                            {
                                                                                <strong>Προσοχή:</strong> 
                                                                                <span>Η ενέργεια θα εφαρμοστεί μόνο στην εφαρμογή. Δεν θα σταλούν email ειδοποιήσεων. Οι φοιτητές θα δουν την αλλαγή κατάστασης όταν συνδεθούν.</span>
                                                                            }
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                    <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                            @onclick="CloseEmailConfirmationModalForThesisApplicants"
                                                                            onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                            onmouseout="this.style.backgroundColor='#6c757d'">
                                                                        <i class="fas fa-times me-1"></i>Ακύρωση
                                                                    </button>
                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                            @onclick="ExecuteBulkActionForThesisApplicants" 
                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                        <i class="fas fa-play me-1"></i>Εκτέλεση
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }
                                                


                                                            <!-- SEARCH PROFESSOR THESES AS COMPANY --> 
                                                            <div class="mb-3 row-dark-gray mt-4">
                                                                <div class="d-flex justify-content-between align-items-center" @onclick="ToggleToSearchForUploadedProfessorThesesAsCompany" style="cursor: pointer;">
                                                                    <label class="form-label" style="color: #FFF8DC;">• Αναζήτηση Διπλωματικών Από Καθηγητές •</label>
                                                                    <button class="btn btn-link" @onclick="ToggleToSearchForUploadedProfessorThesesAsCompany" @onclick:stopPropagation="true">
                                                                        @if (isUploadedProfessorThesesVisibleAsCompany)
                                                                        {
                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                        }
                                                                    </button>
                                                                </div>
                                                            </div>
                                                            @if (isUploadedProfessorThesesVisibleAsCompany)
                                                            {
                                                                <!-- Search Form -->
                                                                <div class="row mb-3">
                                                                    <!-- Professor Name with Autocomplete -->
                                                                    <div class="col-md-4 position-relative">
                                                                        <label for="searchProfessorNameToFindThesesAsCompany" class="fw-bold">Όνομα Καθηγητή</label>
                                                                        <input type="text" 
                                                                               id="searchProfessorNameToFindThesesAsCompany" 
                                                                               class="form-control" 
                                                                               @bind="searchProfessorNameToFindThesesAsCompany" 
                                                                               @oninput="HandleProfessorNameInput"
                                                                               placeholder="Εισάγετε Όνομα Καθηγητή" />
    
                                                                        <!-- Suggestions dropdown for Name -->
                                                                        <ul class="list-group position-absolute" 
                                                                            style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                            hidden="@(!professorNameSuggestions.Any())">
                                                                            @foreach (var suggestion in professorNameSuggestions)
                                                                            {
                                                                                <li class="list-group-item list-group-item-action" 
                                                                                    @onclick="() => SelectProfessorNameSuggestion(suggestion)">
                                                                                    @suggestion
                                                                                </li>
                                                                            }
                                                                        </ul>
                                                                    </div>

                                                                    <!-- Professor Surname with Autocomplete -->
                                                                    <div class="col-md-4 position-relative">
                                                                        <label for="searchProfessorSurnameToFindThesesAsCompany" class="fw-bold">Επώνυμο Καθηγητή</label>
                                                                        <input type="text" 
                                                                               id="searchProfessorSurnameToFindThesesAsCompany" 
                                                                               class="form-control" 
                                                                               @bind="searchProfessorSurnameToFindThesesAsCompany" 
                                                                               @oninput="HandleProfessorSurnameInput"
                                                                               placeholder="Εισάγετε Επώνυμο Καθηγητή" />
    
                                                                        <!-- Suggestions dropdown for Surname -->
                                                                        <ul class="list-group position-absolute" 
                                                                            style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                            hidden="@(!professorSurnameSuggestions.Any())">
                                                                            @foreach (var suggestion in professorSurnameSuggestions)
                                                                            {
                                                                                <li class="list-group-item list-group-item-action" 
                                                                                    @onclick="() => SelectProfessorSurnameSuggestion(suggestion)">
                                                                                    @suggestion
                                                                                </li>
                                                                            }
                                                                        </ul>
                                                                    </div> 
                                                                    <div class="col-md-4">
                                                                        <label for="searchProfessorThesisTitleToFindThesesAsCompany" class="fw-bold">Τίτλος Διπλωματικής</label>
                                                                        <input type="text" id="searchProfessorThesisTitleToFindThesesAsCompany" class="form-control" @bind="searchProfessorThesisTitleToFindThesesAsCompany" placeholder="Εισάγετε Τίτλο" />
                                                                    </div>  

                                                                    <div class="col-md-4 position-relative">
                                                                        <label for="searchAreasToFindThesesAsCompany" class="fw-bold">Περιοχές Ενδιαφέροντος</label>
                                                                        <input 
                                                                            type="text" 
                                                                            id="searchAreasToFindThesesAsCompany"
                                                                            class="form-control" 
                                                                            placeholder="Εισάγετε Περιοχές Ενδιαφέροντος" 
                                                                            @bind="searchAreasInputToFindThesesAsCompany" 
                                                                            @oninput="HandleAreasInputToFindThesesAsCompany" />

                                                                        <!-- Suggestions Dropdown -->
                                                                        <ul class="list-group position-absolute" 
                                                                            style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                            hidden="@(!areaSuggestionsToFindThesesAsCompany.Any())">
                                                                            @foreach (var suggestion in areaSuggestionsToFindThesesAsCompany)
                                                                            {
                                                                                <li class="list-group-item list-group-item-action" 
                                                                                    @onclick="() => SelectAreaSuggestionToFindThesesAsCompany(suggestion)">
                                                                                    @if (suggestion.Contains(" - "))
                                                                                    {
                                                                                        var parts = suggestion.Split(new[] { " - " }, StringSplitOptions.None);
                                                                                        <div>
                                                                                            <span class="text-muted">@parts[0] - </span>
                                                                                            <span class="fw-bold">@parts[1]</span>
                                                                                        </div>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <div>@suggestion</div>
                                                                                    }
                                                                                </li>
                                                                            }
                                                                        </ul>

                                                                        <!-- Selected Areas -->
                                                                        <div class="mt-3 selected-areas-container">
                                                                            @if (selectedAreasToFindThesesAsCompany.Any())
                                                                            {
                                                                                <ul class="list-group selected-areas-list">
                                                                                    @foreach (var area in selectedAreasToFindThesesAsCompany)
                                                                                    {
                                                                                        <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                                            @if (area.Contains(" - "))
                                                                                            {
                                                                                                var parts = area.Split(new[] { " - " }, StringSplitOptions.None);
                                                                                                <span>
                                                                                                    <span class="text-muted">@parts[0] - </span>
                                                                                                    <span class="fw-bold">@parts[1]</span>
                                                                                                </span>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <span>@area</span>
                                                                                            }
                                                                                            <button class="btn btn-danger btn-sm" @onclick="() => RemoveSelectedAreaToFindThesesAsCompany(area)">
                                                                                                <i class="fas fa-times"></i>
                                                                                            </button>
                                                                                        </li>
                                                                                    }
                                                                                </ul>
                                                                            }
                                                                        </div>
                                                                    </div>
                                                                    <br/>
                                                                    <div class="col-md-4 position-relative">
                                                                        <label for="searchSkillsToFindThesesAsCompany" class="fw-bold">Δεξιότητες</label>
                                                                        <input 
                                                                            type="text" 
                                                                            id="searchSkillsToFindThesesAsCompany"
                                                                            class="form-control" 
                                                                            placeholder="Εισάγετε Δεξιότητες" 
                                                                            @bind="searchSkillsInputToFindThesesAsCompany" 
                                                                            @oninput="HandleSkillsInputToFindThesesAsCompany" />

                                                                        <!-- Suggestions Dropdown -->
                                                                        <ul class="list-group position-absolute" 
                                                                            style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                            hidden="@(!skillSuggestionsToFindThesesAsCompany.Any())">
                                                                            @foreach (var suggestion in skillSuggestionsToFindThesesAsCompany)
                                                                            {
                                                                                <li class="list-group-item list-group-item-action" 
                                                                                    @onclick="() => SelectSkillSuggestionToFindThesesAsCompany(suggestion)">
                                                                                    @suggestion
                                                                                </li>
                                                                            }
                                                                        </ul>

                                                                        <!-- Selected Skills -->
                                                                        <div class="mt-3 selected-skills-container">
                                                                            @if (selectedSkillsToFindThesesAsCompany.Any())
                                                                            {
                                                                                <ul class="list-group selected-skills-list">
                                                                                    @foreach (var skill in selectedSkillsToFindThesesAsCompany)
                                                                                    {
                                                                                        <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                                            @skill
                                                                                            <button class="btn btn-danger btn-sm" @onclick="() => RemoveSelectedSkillToFindThesesAsCompany(skill)">
                                                                                                <i class="fas fa-times"></i>
                                                                                            </button>
                                                                                        </li>
                                                                                    }
                                                                                </ul>
                                                                            }
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label for="searchStartingDateToFindThesesAsCompany" class="fw-bold">Ξεκινάει Από</label>
                                                                        <input type="date" id="searchStartingDateToFindThesesAsCompany" class="form-control" @bind="searchStartingDateToFindThesesAsCompany" />
                                                                    </div>
                                                                </div>


                                                                <div class="row mb-3">
                                                                    <div class="col-md-12">
                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="SearchProfessorThesesAsCompany">
                                                                            <i class="fa-brands fa-searchengin" style="margin-right: 8px;"></i>Αναζήτηση
                                                                        </button>
                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="ClearSearchFieldsForSearchProfessorThesesAsCompany">
                                                                            <i class="fa-solid fa-broom" style="margin-right: 8px;"></i>Εκκαθάριση
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                <br/>
                                                                <br/>
                                                                @if (searchPerformedToFindThesesAsCompany)
                                                                {
                                                                    @if (professorThesesResultsToFindThesesAsCompany.Any())
                                                                    {
                                                                        <label style="color: #2d3748; font-weight: bold; font-size: 15px; display: block;">Αποτελέσματα ανά Σελίδα</label>
                                                                        <div class="input-group" style="max-width: 68px;"> <!-- Adjust width here -->
                                                                            <select class="form-select" @onchange="OnPageSizeChange_SearchForProfessorThesesAsCompany">
                                                                                @foreach (var option in pageSizeOptions_SearchForProfessorThesesAsCompany)
                                                                                {
                                                                                    <option value="@option" selected="@(itemsPerPage_ProfessorTheses == option)">@option</option>
                                                                                }
                                                                            </select>
                                                                        </div>
                                                                        <br/>
                                                                        <table class="table table-bordered">
                                                                            <thead>
                                                                                <tr>
                                                                                    <td colspan="9" style="padding: 0;">
                                                                                        <div style="display: flex; justify-content: space-between; align-items: center; height: 24px; line-height: 24px; width: 100%;">
                                                                                            <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd;"></i>
                                                                                            <label class="form-label" style="color: #0d6efd; font-weight: bold; font-size: 18px; margin: 0;">Αποτέλεσμα Αναζήτησης</label>
                                                                                            <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd;"></i>
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                                <tr style="background-color: lightgray; border: 2px solid black;">
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-chalkboard-user fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Επιβλέπων
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-font fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Τίτλος Διπλωματικής
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-calendar-plus fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Ημερομηνία Δημιουργίας
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-circle-info fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Επισκόπηση
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-heart fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Ένδειξη Ενδιαφέροντος
                                                                                    </th>
                                                                                    <th style="border: 2px solid black;">
                                                                                        <i class="fa-solid fa-hourglass-half fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                        Κατάσταση
                                                                                    </th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                @foreach (var thesis in GetPaginatedProfessorTheses_AsCompany())
                                                                                {
                                                                                    string rowColor = thesis.IsCompanyInterestedInProfessorThesisStatus == "Έχετε Αποδεχτεί" ? "lightgreen" : "transparent";

                                                                                    <tr style="background-color: @rowColor;">
                                                                                        <td>
                                                                                            <a href="#" @onclick="() => ShowProfessorDetailsFromHyperlinkName(thesis.ProfessorEmailUsedToUploadThesis)" style="text-decoration: none;">
                                                                                                @(thesis.Professor != null ? $"{thesis.Professor.ProfName} {thesis.Professor.ProfSurname}" : "Άγνωστος Καθηγητής")
                                                                                            </a>
                                                                                        </td>
                                                                                        <td>@thesis.ThesisTitle</td>
                                                                                        <td>@thesis.ThesisUploadDateTime.ToShortDateString()</td>
                                                                                        <td style="text-align: center;">
                                                                                            <i class="fa fa-eye" aria-hidden="true" style="cursor: pointer; color: blue;" @onclick="() => ShowThesisDetailsAsCompany(thesis)"></i>
                                                                                        </td>
                                                                                        <td style="text-align: center;">
                                                                                            @if (thesis.IsCompanyInteresetedInProfessorThesis)
                                                                                            {
                                                                                                // Check if the CURRENT company is the one who showed interest
                                                                                                if (thesis.CompanyEmailInterestedInProfessorThesis == CurrentUserEmail)
                                                                                                {
                                                                                                    if (thesis.IsCompanyInterestedInProfessorThesisStatus == "Έχετε Αποδεχτεί")
                                                                                                    {
                                                                                                        <span>Ολοκληρώθηκε</span>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <span>Έχετε Εκδηλώσει Ενδιαφέρον</span>
                                                                                                    }
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    // Another company has shown interest - show "Not Available"
                                                                                                    <span style="color: black;">Μη Διαθέσιμο</span>
                                                                                                }
                                                                                            }
                                                                                            else if (thesis.IsCompanyInterestedInProfessorThesisStatus == "Δεν έχει γίνει Αποδοχή")
                                                                                            {
                                                                                                <i class="fas fa-check" @onclick="() => MarkInterestInProfessorThesis(thesis)" style="cursor: pointer;"></i>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <span>Αναμονή Αποδοχής</span>
                                                                                            }
                                                                                        </td>
                                                                                        <td>
                                                                                            @if (thesis.IsCompanyInteresetedInProfessorThesis)
                                                                                            {
                                                                                                if (thesis.CompanyEmailInterestedInProfessorThesis == CurrentUserEmail)
                                                                                                {
                                                                                                    @thesis.IsCompanyInterestedInProfessorThesisStatus
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <span style="display: block; text-align: center;">-</span>
                                                                                                }
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                @thesis.IsCompanyInterestedInProfessorThesisStatus
                                                                                            }
                                                                                        </td>
                                                                                    </tr>
                                                                                }
                                                                            </tbody>
                                                                        </table>
                                                                        <br/>
                                                                        <br/>
                                                                            <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                                <span class="pagination-item @(currentPage_ProfessorTheses == 1 ? "disabled" : "")"
                                                                                      @onclick="GoToFirstPage_ProfessorTheses">
                                                                                    &lt;&lt;
                                                                                </span>

                                                                                <span class="pagination-item @(currentPage_ProfessorTheses == 1 ? "disabled" : "")"
                                                                                      @onclick="PreviousPage_ProfessorTheses">
                                                                                    &lt;
                                                                                </span>

                                                                                @foreach (var pageNum in GetVisiblePages_ProfessorTheses_AsCompany())
                                                                                {
                                                                                    if (pageNum == -1)
                                                                                    {
                                                                                        <span class="pagination-ellipsis">...</span>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span class="pagination-item @(pageNum == currentPage_ProfessorTheses ? "active" : "")"
                                                                                              @onclick="@(() => GoToPage_ProfessorTheses(pageNum))">
                                                                                            @pageNum
                                                                                        </span>
                                                                                    }
                                                                                }

                                                                                <span class="pagination-item @(currentPage_ProfessorTheses == totalPages_ProfessorTheses ? "disabled" : "")"
                                                                                      @onclick="NextPage_ProfessorTheses">
                                                                                    &gt;
                                                                                </span>

                                                                                <span class="pagination-item @(currentPage_ProfessorTheses == totalPages_ProfessorTheses ? "disabled" : "")"
                                                                                      @onclick="GoToLastPage_ProfessorTheses">
                                                                                    &gt;&gt;
                                                                                </span>

                                                                                <span class="ms-3">
                                                                                    Σελίδα @currentPage_ProfessorTheses από @totalPages_ProfessorTheses
                                                                                </span>
                                                                            </div>
                                                                            <br />
                                                                            <br />                                                                        

                                                                        
                                                                    }
                                                                    else
                                                                    {
                                                                        <div class="alert alert-warning d-flex align-items-center" role="alert">
                                                                          <i class="fas fa-exclamation-triangle me-2"></i>
                                                                          <div>Δεν βρέθηκε κάποιο αποτέλεσμα που να πληρεί τα κριτήρια της Αναζήτησης σας.</div>
                                                                        </div>
                                                                        <br />
                                                                        <br />
                                                                    }                                                               
                                                                }
                                                            }

                                                        </div>

                                                        <!-- Loading Modal for Company Interest in Professor Thesis -->
                                                        @if (showLoadingModalWhenMarkInterestInProfessorThesis)
                                                        {
                                                            <div class="loading-modal">
                                                                <div class="loading-modal-content">
                                                                    <div class="loading-spinner"></div>
                                                                    <p>Ένδειξη ενδιαφέροντος για Διπλωματική εργασία καθηγητή...</p>
                                                                    <div class="progress-bar">
                                                                        <div class="progress-bar-fill" style="width: @loadingProgressWhenMarkInterestInProfessorThesis%"></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }

                                                        @if (isThesisDetailEyeIconModalVisibleToSeeAsCompany && selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany != null)
                                                        {
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                    <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                        <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                            <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                @selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.ThesisTitle
                                                                            </h5>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                    @onclick="() => isThesisDetailEyeIconModalVisibleToSeeAsCompany = false"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                            </button>
                                                                        </div>
                                                                        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                            <!-- Department -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τμήμα ΕΚΠΑ</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-university mr-2"></i>
                                                                                    <span>@(selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.Professor?.ProfDepartment ?? "Άγνωστο Τμήμα")</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Supervisor -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Επιβλέπων Καθηγητής</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-user-tie mr-2 text-primary"></i>
                                                                                    <span>@(selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.Professor != null ? 
                                                                                        $"{selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.Professor.ProfName} {selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.Professor.ProfSurname}" : 
                                                                                        "Άγνωστος Καθηγητής")</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Email -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Email Καθηγητή</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                    <span>@selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.ProfessorEmailUsedToUploadThesis</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Thesis Description -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιγραφή Διπλωματικής</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="4">@selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.ThesisDescription</textarea>
                                                                            </div>

                                                                            <!-- Areas of Interest -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιοχές Ενδιαφέροντος</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.ThesisAreas</textarea>
                                                                            </div>

                                                                            <!-- Required Skills -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Απαιτούμενες Δεξιότητες</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.ThesisSkills</textarea>
                                                                            </div>

                                                                            <!-- Start Date -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Ημερομηνία Έναρξης Διπλωματικής</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-calendar-alt mr-2 text-info"></i>
                                                                                    <span>@selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.ThesisActivePeriod.ToString("dd/MM/yyyy")</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Company Interest Section -->
                                                                            @if (selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.IsCompanyInteresetedInProfessorThesis && 
                                                                                selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.CompanyInterested != null)
                                                                            {
                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold; color: #007BFF;">Όνομα Ενδιαφερόμενης Εταιρίας</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-industry mr-2" style="color: #007BFF;"></i>
                                                                                        <span>@selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.CompanyInterested.CompanyName</span>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold; color: #007BFF;">Email Ενδιαφερόμενης Εταιρίας</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-envelope mr-2" style="color: #007BFF;"></i>
                                                                                        <span>@selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.CompanyInterested.CompanyEmail</span>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold; color: #007BFF;">Τοποθεσία Ενδιαφερόμενης Εταιρίας</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-map-marker-alt mr-2 text-danger"></i>
                                                                                        <a href="https://www.google.com/maps/search/@selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.CompanyInterested.CompanyLocation"
                                                                                           target="_blank"
                                                                                           class="text-primary text-decoration-underline">
                                                                                            @selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.CompanyInterested.CompanyLocation
                                                                                        </a>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold; color: #007BFF;">Ιστότοπος Ενδιαφερόμενης Εταιρίας</label>
                                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                        <i class="fas fa-globe mr-2 text-info"></i>
                                                                                        <a href="@selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.CompanyInterested.CompanyWebsite"
                                                                                           target="_blank"
                                                                                           class="text-primary text-decoration-underline">
                                                                                            @selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.CompanyInterested.CompanyWebsite
                                                                                        </a>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group">
                                                                                    <label style="font-weight: bold; color: #007BFF;">Περιγραφή Ενδιαφερόμενης Εταιρίας</label>
                                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.CompanyInterested.CompanyDescription</textarea>
                                                                                </div>
                                                                            }

                                                                            <br/>

                                                                            <!-- Thesis Attachment -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Αρχείο Διπλωματικής</label>
                                                                                <div>
                                                                                    @if (selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.ThesisAttachment != null)
                                                                                    {
                                                                                        <button class="modern-button" 
                                                                                                @onclick="() => DownloadProfessorThesisAttachmentWhenSearchForProfessorThesisAsCompany(selectedProfessorThesisToSeeDetailsOnEyeIconAsCompany.Id)"
                                                                                                style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;"
                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <i class="fas fa-download me-2"></i> Λήψη Αρχείου
                                                                                        </button>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;"><strong>Δεν Διατίθεται Συννημένο Αρχείο</strong></span>
                                                                                    }
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="() => isThesisDetailEyeIconModalVisibleToSeeAsCompany = false"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }
                                                
                                            
                                                        @if (isProfessorDetailModalVisible && selectedProfessorDetails != null)
                                                        {
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                    <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                        <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                            <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                @(selectedProfessorDetails.ProfName ?? "Δεν έχει Καθοριστεί") @(selectedProfessorDetails.ProfSurname ?? "")
                                                                            </h5>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                    @onclick="CloseProfessorModalFromHyperlinkName"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                            </button>
                                                                        </div>
                                                                        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                            <!-- Profile Picture -->
                                                                            <div class="text-center mb-4">
                                                                                @if (selectedProfessorDetails.ProfImage != null && selectedProfessorDetails.ProfImage.Length > 0)
                                                                                {
                                                                                    var base64Image = Convert.ToBase64String(selectedProfessorDetails.ProfImage);
                                                                                    <img src="data:image/jpeg;base64,@base64Image" alt="Φωτογραφία Προφίλ Καθηγητή" 
                                                                                         style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <div style="width: 150px; height: 150px; border-radius: 50%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; margin: 0 auto; border: 3px solid #ddd;">
                                                                                        <i class="fas fa-user-tie" style="font-size: 3rem; color: #6c757d;"></i>
                                                                                    </div>
                                                                                }
                                                                            </div>

                                                                            <!-- Professor Email -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Email</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                    <span>@(selectedProfessorDetails.ProfEmail ?? "Δεν έχει Καθοριστεί")</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor University and Department -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-university mr-2 text-primary"></i>
                                                                                    <span>@(selectedProfessorDetails.ProfUniversity ?? "Δεν έχει Καθοριστεί")</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τμήμα</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-building mr-2"></i>
                                                                                    <span>@(selectedProfessorDetails.ProfDepartment ?? "Δεν έχει Καθοριστεί")</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Vahmida Department -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Βαθμίδα ΔΕΠ</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-user-tie mr-2"></i>
                                                                                    <span>@(selectedProfessorDetails.ProfVahmidaDEP ?? "Δεν έχει Καθοριστεί")</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Work and Personal Telephone -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τηλέφωνο Εργασίας</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-phone mr-2 text-success"></i>
                                                                                    <span>@(selectedProfessorDetails.ProfWorkTelephone ?? "Δεν έχει Καθοριστεί")</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Προσωπικό Τηλέφωνο</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-phone mr-2 text-success"></i>
                                                                                    @if (selectedProfessorDetails.ProfPersonalTelephoneVisibility)
                                                                                    {
                                                                                        <span>@(selectedProfessorDetails.ProfPersonalTelephone ?? "Δεν έχει Καθοριστεί")</span>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν Διατίθεται</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Personal Website -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Προσωπική Ιστοσελίδα</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-globe mr-2 text-info"></i>
                                                                                    @if (!string.IsNullOrWhiteSpace(selectedProfessorDetails.ProfPersonalWebsite))
                                                                                    {
                                                                                        <a href="@selectedProfessorDetails.ProfPersonalWebsite" target="_blank" 
                                                                                           class="text-primary text-decoration-underline">
                                                                                            @selectedProfessorDetails.ProfPersonalWebsite
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν Διατίθεται</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor LinkedIn Site -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">LinkedIn</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fab fa-linkedin mr-2" style="color: #0A66C2;"></i>
                                                                                    @if (!string.IsNullOrWhiteSpace(selectedProfessorDetails.ProfLinkedInSite))
                                                                                    {
                                                                                        <a href="@selectedProfessorDetails.ProfLinkedInSite" target="_blank" 
                                                                                           class="text-decoration-underline" style="color: #0A66C2;">
                                                                                            @selectedProfessorDetails.ProfLinkedInSite
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν Διατίθεται</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Scholar Profile -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Scholar Profile</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-graduation-cap mr-2" style="color: #4285F4;"></i>
                                                                                    @if (!string.IsNullOrWhiteSpace(selectedProfessorDetails.ProfScholarProfile))
                                                                                    {
                                                                                        <a href="@selectedProfessorDetails.ProfScholarProfile" target="_blank" 
                                                                                           class="text-decoration-underline" style="color: #4285F4;">
                                                                                            @selectedProfessorDetails.ProfScholarProfile
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν Διατίθεται</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor ORCID Profile -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">ORCID Profile</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-id-card mr-2" style="color: #A6CE39;"></i>
                                                                                    @if (!string.IsNullOrWhiteSpace(selectedProfessorDetails.ProfOrchidProfile))
                                                                                    {
                                                                                        <a href="@selectedProfessorDetails.ProfOrchidProfile" target="_blank" 
                                                                                           class="text-decoration-underline" style="color: #A6CE39;">
                                                                                            @selectedProfessorDetails.ProfOrchidProfile
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν Διατίθεται</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor General Field of Work -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Γενικός Τομέας Εργασίας</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@(selectedProfessorDetails.ProfGeneralFieldOfWork ?? "Δεν έχει Καθοριστεί")</textarea>
                                                                            </div>

                                                                            <!-- Professor Personal Description -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Προσωπική Περιγραφή</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="4">@(selectedProfessorDetails.ProfPersonalDescription ?? "Δεν έχει Καθοριστεί")</textarea>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="CloseProfessorModalFromHyperlinkName"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }



                                                        @if (showProfessorModal && selectedProfessorToShowDetailsForInterestinCompanyEvent != null)
                                                        {
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0,0,0,0.5);">
                                                                <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                                                                    <div class="modal-content">
                                                                        <div class="modal-header">
                                                                            <h5 class="modal-title" style="color: #007BFF;">
                                                                                @selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfName 
                                                                                @selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfSurname
                                                                            </h5>
                                                                            <button type="button" class="btn-close" @onclick="CloseProfessorDetailsModal" aria-label="Κλείσιμο"></button>
                                                                        </div>
                                                                        <div class="modal-body">
                                                                            <!-- Profile Picture -->
                                                                            <div class="form-group text-center">
                                                                                @if (selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfImage != null)
                                                                                {
                                                                                    var base64Image = Convert.ToBase64String(selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfImage);
                                                                                    <img src="data:image/jpeg;base64,@base64Image" alt="Φωτογραφία Προφίλ Καθηγητή" 
                                                                                         style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover;" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <p>Δεν υπάρχει φωτογραφία Προφίλ</p>
                                                                                }
                                                                            </div>

                                                                            <!-- Professor Email -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Email</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto;">
                                                                                    <i class="fas fa-envelope" style="color: #007bff; margin-right: 8px;"></i>
                                                                                    <span>@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfEmail</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor University and Department -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto;">
                                                                                    <i class="fas fa-university" style="color: #007bff; margin-right: 8px;"></i>
                                                                                    <span>@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfUniversity</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τμήμα</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto;">
                                                                                    <i class="fa-solid fa-building" style="color: #6c757d; margin-right: 8px;"></i>
                                                                                    <span>@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfDepartment</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Vahmida Department -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Βαθμίδα ΔΕΠ</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto;">
                                                                                    <i class="fa-solid fa-user-tie" style="color: #6c757d; margin-right: 8px;"></i>
                                                                                    <span>@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfVahmidaDEP</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Work and Personal Telephone -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τηλέφωνο Εργασίας</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto;">
                                                                                    <i class="fa-solid fa-phone" style="color: #28a745; margin-right: 8px;"></i>
                                                                                    <span>@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfWorkTelephone</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Προσωπικό Τηλέφωνο</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto;">
                                                                                    <i class="fa-solid fa-phone" style="color: #28a745; margin-right: 8px;"></i>
                                                                                    @if (selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfPersonalTelephoneVisibility)
                                                                                    {
                                                                                        <span>@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfPersonalTelephone</span>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span>Δεν Διατίθεται</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Personal Website -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Προσωπική Ιστοσελίδα</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto;">
                                                                                    <i class="fa-solid fa-globe" style="color: #007bff; margin-right: 8px;"></i>
                                                                                    @if (!string.IsNullOrWhiteSpace(selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfPersonalWebsite))
                                                                                    {
                                                                                        <a href="@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfPersonalWebsite" 
                                                                                           target="_blank" 
                                                                                           class="flex-grow-1 text-truncate" 
                                                                                           style="text-decoration:none; color:#007bff;">
                                                                                            @selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfPersonalWebsite
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span class="flex-grow-1 text-muted">Δεν Διατίθεται</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor LinkedIn Site -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">LinkedIn</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto;">
                                                                                    <i class="fab fa-linkedin" style="color: #0A66C2; margin-right: 8px;"></i>
                                                                                    @if (!string.IsNullOrWhiteSpace(selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfLinkedInSite))
                                                                                    {
                                                                                        <a href="@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfLinkedInSite" 
                                                                                           target="_blank" 
                                                                                           class="flex-grow-1 text-truncate" 
                                                                                           style="text-decoration:none; color:#0A66C2;">
                                                                                            @selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfLinkedInSite
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span class="flex-grow-1 text-muted">Δεν Διατίθεται</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Scholar Profile -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Scholar Profile</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto;">
                                                                                    <i class="fas fa-graduation-cap" style="color: #4285F4; margin-right: 8px;"></i>
                                                                                    @if (!string.IsNullOrWhiteSpace(selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfScholarProfile))
                                                                                    {
                                                                                        <a href="@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfScholarProfile" 
                                                                                           target="_blank" 
                                                                                           class="flex-grow-1 text-truncate" 
                                                                                           style="text-decoration:none; color:#4285F4;">
                                                                                            @selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfScholarProfile
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span class="flex-grow-1 text-muted">Δεν Διατίθεται</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor ORCID Profile -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">ORCID Profile</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto;">
                                                                                    <i class="fas fa-id-card" style="color: #A6CE39; margin-right: 8px;"></i>
                                                                                    @if (!string.IsNullOrWhiteSpace(selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfOrchidProfile))
                                                                                    {
                                                                                        <a href="@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfOrchidProfile" 
                                                                                           target="_blank" 
                                                                                           class="flex-grow-1 text-truncate" 
                                                                                           style="text-decoration:none; color:#A6CE39;">
                                                                                            @selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfOrchidProfile
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span class="flex-grow-1 text-muted">Δεν Διατίθεται</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor General Field of Work -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Πεδίο Εργασίας</label>
                                                                                <textarea class="form-control" readonly>@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfGeneralFieldOfWork</textarea>
                                                                            </div>

                                                                            <!-- Professor Personal Description -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Προσωπική Περιγραφή</label>
                                                                                <textarea class="form-control" rows="3" readonly>@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfPersonalDescription</textarea>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="btn btn-secondary" @onclick="CloseProfessorDetailsModal">
                                                                                <i class="fas fa-times mr-2"></i>Κλείσιμο
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }




                                                        @if (isModalVisibleToEditCompanyThesisDetails && selectedCompanyThesis != null)
                                                        {
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                    <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                        <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                            <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                Επεξεργασία: @selectedCompanyThesis.CompanyThesisTitle
                                                                            </h5>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                    @onclick="CloseCompanyThesisEditModal"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                            </button>
                                                                        </div>
                                                                        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                            <!-- Title -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τίτλος Διπλωματικής</label>
                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedCompanyThesis.CompanyThesisTitle" />
                                                                            </div>

                                                                            <!-- Description -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιγραφή</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="4" @bind="selectedCompanyThesis.CompanyThesisDescriptionsUploaded"></textarea>
                                                                            </div>
                                                                            <br/>
                                                                            <!-- Areas - Collapsed by default -->
                                                                            <div class="form-group">
                                                                                <label @onclick="ToggleAreasForEditCompanyThesis" style="cursor: pointer; display: flex; align-items: center;">
                                                                                    <strong>Τομείς</strong>
                                                                                    <span style="color: #1565c0; font-size: 0.9em; margin-left: 8px; display: flex; align-items: center;">
                                                                                        <i class="fas @(showAreasForEditCompanyThesis ? "fa-chevron-up" : "fa-chevron-down")" style="margin-right: 4px;"></i>
                                                                                        @(showAreasForEditCompanyThesis ? "Κλείσιμο" : "Άνοιγμα")
                                                                                    </span>
                                                                                </label>
                                                                                @if (showAreasForEditCompanyThesis)
                                                                                {
                                                                                    <div class="checkbox-container" style="border: 2px solid #1565c0; border-radius: 4px; padding: 8px; background-color: #f8f9fa;">
                                                                                        @foreach (var area in Areas)
                                                                                        {
                                                                                            <div class="area-container" style="margin-bottom: 8px;">
                                                                                                <div class="form-check area-header">
                                                                                                    <input type="checkbox"
                                                                                                           id="edit_thesis_area_@area.Id"
                                                                                                           class="form-check-input"
                                                                                                           @onchange="(e) => OnAreaCheckedChangedForEditCompanyThesis(e, area)"
                                                                                                           checked="@IsAreaSelectedForEditCompanyThesis(area)" />
                                                                                                    <label class="form-check-label area-label" 
                                                                                                           for="edit_thesis_area_@area.Id"
                                                                                                           @onclick="@(() => ToggleSubFieldsForEditCompanyThesis(area))"
                                                                                                           @onclick:stopPropagation="true"
                                                                                                           style="cursor: pointer; font-weight: bold; display: flex; align-items: center; justify-content: space-between; width: 100%; color: #1565c0;">
                                                                                                        @area.AreaName
                                                                                                        <span class="expand-icon" style="font-size: 10px; transition: transform 0.2s; margin-left: 8px; transform: @(ExpandedAreasForEditCompanyThesis.Contains(area.Id) ? "rotate(90deg)" : "rotate(0deg)")">▶</span>
                                                                                                    </label>
                                                                                                </div>
                                        
                                                                                                @if (ExpandedAreasForEditCompanyThesis.Contains(area.Id))
                                                                                                {
                                                                                                    <div class="subfields-container" style="margin-top: 8px; margin-left: 20px; padding-left: 15px; border-left: 2px solid #1565c0;">
                                                                                                        @if (!string.IsNullOrEmpty(area.AreaSubFields))
                                                                                                        {
                                                                                                            var subFields = area.AreaSubFields.Split(',').Select(s => s.Trim()).ToList();
                                                                                                            @foreach (var subField in subFields)
                                                                                                            {
                                                                                                                <div class="form-check subfield-checkbox" style="margin-bottom: 4px;">
                                                                                                                    <input type="checkbox"
                                                                                                                           id="edit_thesis_subfield_@(area.Id)_@(subField)"
                                                                                                                           class="form-check-input"
                                                                                                                           @onchange="(e) => OnSubFieldCheckedChangedForEditCompanyThesis(e, area, subField)"
                                                                                                                           checked="@IsSubFieldSelectedForEditCompanyThesis(area, subField)" />
                                                                                                                    <label class="form-check-label" for="edit_thesis_subfield_@(area.Id)_@(subField)" style="font-weight: normal; font-size: 0.9em;">
                                                                                                                        @subField
                                                                                                                    </label>
                                                                                                                </div>
                                                                                                            }
                                                                                                        }
                                                                                                    </div>
                                                                                                }
                                                                                            </div>
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>
                                                                            <br/>
                                                                            <!-- Skills - Collapsed by default -->
                                                                            <div class="form-group">
                                                                                <label @onclick="ToggleSkillsForEditCompanyThesis" style="cursor: pointer; display: flex; align-items: center;">
                                                                                    <strong>Απαιτούμενα Προσόντα 
                                                                                    </strong>
                                                                                    <span style="color: #1565c0; font-size: 0.9em; margin-left: 8px; display: flex; align-items: center;">
                                                                                        <i class="fas @(showSkillsForEditCompanyThesis ? "fa-chevron-up" : "fa-chevron-down")" style="margin-right: 4px;"></i>
                                                                                        @(showSkillsForEditCompanyThesis ? "Κλείσιμο" : "Άνοιγμα")
                                                                                    </span>
                                                                                </label>
                                                                                @if (showSkillsForEditCompanyThesis)
                                                                                {
                                                                                    <div class="skills-container" style="border: 2px solid #1565c0; border-radius: 4px; padding: 8px; background-color: #f8f9fa;">
                                                                                        @foreach (var skill in Skills)
                                                                                        {
                                                                                            var isSelected = SelectedSkillsToEditForCompanyThesis.Any(s => s.Id == skill.Id);
                                                                                            <div class="form-check" style="margin-bottom: 4px;">
                                                                                                <input type="checkbox"
                                                                                                       id="edit_thesis_skill_@skill.Id"
                                                                                                       class="form-check-input"
                                                                                                       checked="@isSelected"
                                                                                                       @onchange="@((ChangeEventArgs e) => OnCheckedChangedForEditCompanyThesisSkills(e, skill))" />
                                                                                                <label class="form-check-label" for="edit_thesis_skill_@skill.Id" style="font-weight: normal;">
                                                                                                    @skill.SkillName
                                                                                                </label>
                                                                                            </div>
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>
                                                                            <br/>
                                                                            <!-- Supervisor -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Επόπτης Εταιρίας</label>
                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedCompanyThesis.CompanyThesisCompanySupervisorFullName" />
                                                                            </div>

                                                                            <!-- Department -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τμήμα</label>
                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedCompanyThesis.CompanyThesisDepartment" />
                                                                            </div>

                                                                            <!-- Contact Email -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Email Επικοινωνίας</label>
                                                                                <input type="email" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedCompanyThesis.CompanyThesisContactPersonEmail" />
                                                                            </div>

                                                                            <!-- Contact Phone -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τηλέφωνο Επικοινωνίας</label>
                                                                                <input type="tel" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedCompanyThesis.CompanyThesisContactPersonTelephone" />
                                                                            </div>

                                                                            <!-- Starting Date -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Ημερομηνία Έναρξης</label>
                                                                                <input type="date" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedCompanyThesis.CompanyThesisStartingDate" />
                                                                            </div>

                                                                            <!-- ADDED: Open Slots Field for Editing -->
                                                                            <div class="form-group">
                                                                                <label for="editThesisOpenSlots">
                                                                                    <strong>Διαθέσιμες Θέσεις</strong>
                                                                                    <span style="color: red;">*</span>
                                                                                </label>
                                                                                <input type="number" 
                                                                                       id="editThesisOpenSlots" 
                                                                                       class="form-control @(showErrorMessage && (selectedCompanyThesis?.OpenSlots_CompanyThesis ?? 0) < 3 ? "shake error" : "")" 
                                                                                       style="border-radius: 8px; background-color: #f8f9fa;" 
                                                                                       @bind="selectedCompanyThesis.OpenSlots_CompanyThesis" 
                                                                                       min="3" 
                                                                                       step="1" />
                                                                                @if (showErrorMessage && (selectedCompanyThesis?.OpenSlots_CompanyThesis ?? 0) < 3)
                                                                                {
                                                                                    <div class="text-danger mt-1">Ο αριθμός των διαθέσιμων θέσεων πρέπει να είναι τουλάχιστον 3.</div>
                                                                                }
                                                                                <small class="form-text text-muted">Αριθμός ανοιχτών θέσεων για αυτή τη Διπλωματική εργασία (ελάχιστο 3)</small>
                                                                            </div>

                                                                            <!-- Attachment -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Αντικατάσταση Συνημμένου</label>
                                                                                <InputFile class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" OnChange="HandleFileUploadForEditCompanyThesisAttachment" />
                                                                                @if (selectedCompanyThesis.CompanyThesisAttachmentUpload != null && selectedCompanyThesis.CompanyThesisAttachmentUpload.Length > 0)
                                                                                {
                                                                                    <div class="mt-2">
                                                                                        <span class="text-success">
                                                                                            <i class="fas fa-check-circle"></i> Υπάρχει ήδη συνημμένο αρχείο
                                                                                        </span>
                                                                                    </div>
                                                                                }
                                                                            </div>

                                                                            @*
                                                                            <!-- Status (Read-only for information) -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Κατάσταση</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-info-circle mr-2 text-info"></i>
                                                                                    <span>@selectedCompanyThesis.CompanyThesisStatus</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Upload Date (Read-only) -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Ημερομηνία Δημιουργίας</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-calendar-alt mr-2 text-info"></i>
                                                                                    <span>@selectedCompanyThesis.CompanyThesisUploadDateTime.ToString("yyyy-MM-dd")</span>
                                                                                </div>
                                                                            </div>
                                                                            *@
                                                                        </div>
                                                                        
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="CloseCompanyThesisEditModal"
                                                                                    onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                    onmouseout="this.style.backgroundColor='#6c757d'">
                                                                                <i class="fas fa-times me-2"></i> Ακύρωση
                                                                            </button>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="SaveEditedCompanyThesis"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-save me-2"></i> Αποθήκευση
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }


                                                        @if (isModalVisibleToShowCompanyThesisDetails && currentThesis != null)
                                                        {
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                    <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                        <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                            <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                @currentThesis.CompanyThesisTitle
                                                                            </h5>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                    @onclick="CloseModalForCompanyThesis"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                            </button>
                                                                        </div>
                                                                        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                            <!-- Description -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Περιγραφή</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="4">@currentThesis.CompanyThesisDescriptionsUploaded</textarea>
                                                                            </div>

                                                                            <!-- Areas -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τομείς</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@currentThesis.CompanyThesisAreasUpload</textarea>
                                                                            </div>

                                                                            <!-- Skills -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Απαιτούμενα Προσόντα</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@currentThesis.CompanyThesisSkillsNeeded</textarea>
                                                                            </div>

                                                                            <!-- Supervisor -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Επόπτης</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-user-tie mr-2 text-primary"></i>
                                                                                    <span>@currentThesis.CompanyThesisCompanySupervisorFullName</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Status -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Κατάσταση</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-info-circle mr-2 text-info"></i>
                                                                                    <span>@currentThesis.CompanyThesisStatus</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Department -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τμήμα</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-building mr-2"></i>
                                                                                    <span>@(!string.IsNullOrEmpty(currentThesis.CompanyThesisDepartment) ? currentThesis.CompanyThesisDepartment : "Δεν έχει Καθοριστεί")</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Contact Email -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Email Επικοινωνίας</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                    <span>@currentThesis.CompanyThesisContactPersonEmail</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Contact Phone -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τηλέφωνο Επικοινωνίας</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-phone-alt mr-2 text-success"></i>
                                                                                    <span>@currentThesis.CompanyThesisContactPersonTelephone</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- ADDED: Open Slots Field -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Διαθέσιμες Θέσεις</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; color: #007BFF;">
                                                                                    <i class="fas fa-users" style="margin-right: 8px;"></i>
                                                                                    <span>@currentThesis.OpenSlots_CompanyThesis θέσεις</span>
                                                                                </div>
                                                                                <small class="form-text text-muted">Αριθμός ανοιχτών θέσεων για αυτή τη Διπλωματική εργασία</small>
                                                                            </div>

                                                                            <!-- Upload Date -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Ημερομηνία Δημιουργίας</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-calendar-alt mr-2 text-info"></i>
                                                                                    <span>@currentThesis.CompanyThesisUploadDateTime.ToString("yyyy-MM-dd")</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Starting Date -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Ημερομηνία Έναρξης</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-calendar-alt mr-2 text-info"></i>
                                                                                    <span>@currentThesis.CompanyThesisStartingDate.ToString("yyyy-MM-dd")</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Interest -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold; color: #87CEEB;">
                                                                                    <i class="fas fa-user-graduate mr-2"></i>Εκδήλωση Ενδιαφέροντος από Καθηγητή
                                                                                </label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-chalkboard-teacher mr-2" style="color: #87CEEB;"></i>
                                                                                    @if (currentThesis.ProfessorInterested != null)
                                                                                    {
                                                                                        <span>@currentThesis.ProfessorInterested.ProfName @currentThesis.ProfessorInterested.ProfSurname</span>
                                                                                    }
                                                                                    else if (!string.IsNullOrWhiteSpace(currentThesis.ProfessorEmailInterestedInCompanyThesis))
                                                                                    {
                                                                                        <span>Καθηγητής με email: @currentThesis.ProfessorEmailInterestedInCompanyThesis</span>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν έχει γίνει Ένδειξη Ενδιαφέροντος από Καθηγητή</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Email -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold; color: #87CEEB;">
                                                                                    <i class="fas fa-envelope mr-2"></i>Email Ενδιαφερόμενου Καθηγητή
                                                                                </label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-envelope mr-2" style="color: #87CEEB;"></i>
                                                                                    <span>@currentThesis.ProfessorEmailInterestedInCompanyThesis</span>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="CloseModalForCompanyThesis"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }





                                                        @if(isModalVisibleToShowprofessorDetailsAtCompanyThesisInterest)
                                                        {
                                                            <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                    <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                        <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                            <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                                @currentProfessorDetails.ProfName @currentProfessorDetails.ProfSurname
                                                                            </h5>
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                    @onclick="CloseModalForProfessorDetails"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                            </button>
                                                                        </div>
                                                                        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                            <!-- Profile Picture -->
                                                                            <div class="text-center mb-4">
                                                                                @if (currentProfessorDetails?.ProfImage != null && currentProfessorDetails.ProfImage.Length > 0)
                                                                                {
                                                                                    var base64Image = Convert.ToBase64String(currentProfessorDetails.ProfImage);
                                                                                    <img src="data:image/jpeg;base64,@base64Image" alt="Φωτογραφία Προφίλ Καθηγητή" 
                                                                                         style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <div style="width: 150px; height: 150px; border-radius: 50%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; margin: 0 auto; border: 3px solid #ddd;">
                                                                                        <i class="fas fa-user-tie" style="font-size: 3rem; color: #6c757d;"></i>
                                                                                    </div>
                                                                                }
                                                                            </div>

                                                                            <!-- Professor Email -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Email</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                                    <span>@currentProfessorDetails.ProfEmail</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor University and Department -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-university mr-2 text-primary"></i>
                                                                                    <span>@currentProfessorDetails.ProfUniversity</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τμήμα</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-building mr-2"></i>
                                                                                    <span>@currentProfessorDetails.ProfDepartment</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Vahmida Department -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Βαθμίδα ΔΕΠ</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-user-tie mr-2"></i>
                                                                                    <span>@currentProfessorDetails.ProfVahmidaDEP</span>
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Work and Personal Telephone -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Τηλέφωνο Εργασίας</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-phone mr-2 text-success"></i>
                                                                                    <span>@currentProfessorDetails.ProfWorkTelephone</span>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Προσωπικό Τηλέφωνο</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-phone mr-2 text-success"></i>
                                                                                    @if (currentProfessorDetails.ProfPersonalTelephoneVisibility)
                                                                                    {
                                                                                        <span>@currentProfessorDetails.ProfPersonalTelephone</span>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν Διατίθεται</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Personal Website -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Ιστότοπος</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-globe mr-2 text-info"></i>
                                                                                    @if (!string.IsNullOrWhiteSpace(currentProfessorDetails.ProfPersonalWebsite))
                                                                                    {
                                                                                        <a href="@currentProfessorDetails.ProfPersonalWebsite" target="_blank" 
                                                                                           class="text-primary text-decoration-underline">
                                                                                            @currentProfessorDetails.ProfPersonalWebsite
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν Διατίθεται</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor LinkedIn Site -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">LinkedIn</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fab fa-linkedin mr-2" style="color: #0A66C2;"></i>
                                                                                    @if (!string.IsNullOrWhiteSpace(currentProfessorDetails.ProfLinkedInSite))
                                                                                    {
                                                                                        <a href="@currentProfessorDetails.ProfLinkedInSite" target="_blank" 
                                                                                           class="text-decoration-underline" style="color: #0A66C2;">
                                                                                            @currentProfessorDetails.ProfLinkedInSite
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν Διατίθεται</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor Scholar Profile -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Scholar Profile</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-graduation-cap mr-2" style="color: #4285F4;"></i>
                                                                                    @if (!string.IsNullOrWhiteSpace(currentProfessorDetails.ProfScholarProfile))
                                                                                    {
                                                                                        <a href="@currentProfessorDetails.ProfScholarProfile" target="_blank" 
                                                                                           class="text-decoration-underline" style="color: #4285F4;">
                                                                                            @currentProfessorDetails.ProfScholarProfile
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν Διατίθεται</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor ORCID Profile -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">ORCID Profile</label>
                                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                                    <i class="fas fa-id-card mr-2" style="color: #A6CE39;"></i>
                                                                                    @if (!string.IsNullOrWhiteSpace(currentProfessorDetails.ProfOrchidProfile))
                                                                                    {
                                                                                        <a href="@currentProfessorDetails.ProfOrchidProfile" target="_blank" 
                                                                                           class="text-decoration-underline" style="color: #A6CE39;">
                                                                                            @currentProfessorDetails.ProfOrchidProfile
                                                                                        </a>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span style="color: #6c757d;">Δεν Διατίθεται</span>
                                                                                    }
                                                                                </div>
                                                                            </div>

                                                                            <!-- Professor General Field of Work (Areas) -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Γενικός Τομέας Εργασίας</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@currentProfessorDetails.ProfGeneralFieldOfWork</textarea>
                                                                            </div>

                                                                            <!-- Professor General Skills -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Γενικές Δεξιότητες</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@currentProfessorDetails.ProfGeneralSkills</textarea>
                                                                            </div>

                                                                            <!-- Professor Personal Description -->
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold;">Προσωπική Περιγραφή</label>
                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="4">@currentProfessorDetails.ProfPersonalDescription</textarea>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                    @onclick="CloseModalForProfessorDetails"
                                                                                    onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                    onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        }


<div id="company-thesis-end"></div>









<div id="company-events-start"></div>

                                           <div class="tab-pane fade" id="events" role="tabpanel" aria-labelledby="events-tab">                                        
                                                <div class="mb-3 row-dark-gray">
                                                    <div class="calendar-section">
                                                        <strong> - Ημερολόγιο Εκδηλώσεων - </strong>
                                                        <div>
                                                            <div class="calendar">
                                                                <div class="calendar-header">
                                                                    <h2>@currentMonth.ToString("MMMM yyyy", CultureInfo.GetCultureInfo("el-GR"))</h2>
                                                                </div>
                                                                <div class="calendar-grid">
                                                                    <div class="day-header">Δ</div>
                                                                    <div class="day-header">Τ</div>
                                                                    <div class="day-header">Τ</div>
                                                                    <div class="day-header">Π</div>
                                                                    <div class="day-header">Π</div>
                                                                    <div class="day-header">Σ</div>
                                                                    <div class="day-header">Κ</div>

                                                                    @for (int i = 0; i < adjustedFirstDayOfMonth; i++)
                                                                    {
                                                                        <div class="day-cell empty-cell"></div>
                                                                    }

                                                                    @for (int i = 1; i <= daysInCurrentMonth; i++)
                                                                    {
                                                                        DateTime dayDate = new DateTime(currentMonth.Year, currentMonth.Month, i);
        
                                                                        // Filter events by status "Δημοσιευμένη"
                                                                        var companyEvents = eventsForDate.ContainsKey(i) 
                                                                            ? eventsForDate[i].Where(e => e.CompanyEventStatus == "Δημοσιευμένη").ToList()
                                                                            : new List<CompanyEvent>();
        
                                                                        var professorEvents = eventsForDateForProfessors.ContainsKey(i)
                                                                            ? eventsForDateForProfessors[i].Where(e => e.ProfessorEventStatus == "Δημοσιευμένη").ToList()
                                                                            : new List<ProfessorEvent>();
        
                                                                        bool hasPublishedEvent = companyEvents.Any() || professorEvents.Any();

                                                                        string dayCellClass = "day-cell";

                                                                        // Check if this day is today's date
                                                                        if (dayDate.Date == DateTime.Today.Date)
                                                                        {
                                                                            dayCellClass += " today";
                                                                        }

                                                                        // Check if this day should be highlighted
                                                                        if (i == highlightedDay)
                                                                        {
                                                                            dayCellClass += " highlighted";
                                                                        }

                                                                        // Add event-day class if this day has published events
                                                                        if (hasPublishedEvent)
                                                                        {
                                                                            dayCellClass += " event-day";
                                                                        }

                                                                        <div class="@dayCellClass" @onclick="() => OnDateClicked(dayDate)">
                                                                            <span>@i</span>
                                                                            @if (hasPublishedEvent)
                                                                            {
                                                                                <div class="event-indicators">
                                                                                    @if (companyEvents.Any())
                                                                                    {
                                                                                        <span class="indicator-pill pill-company">
                                                                                            @companyEvents.Count Εταιρ.
                                                                                        </span>
                                                                                    }
                                                                                    @if (professorEvents.Any())
                                                                                    {
                                                                                        <span class="indicator-pill pill-professor">
                                                                                            @professorEvents.Count Καθ.
                                                                                        </span>
                                                                                    }
                                                                                </div>
                                                                            }
                                                                        </div>
                                                                    }
                                                                </div>

                                                                <div class="pagination">
                                                                    <button @onclick="ShowPreviousMonth" class="btn">◀ Προηγ.</button>
                                                                    <button @onclick="ShowNextMonth" class="btn">Επομ. ▶</button>
                                                                </div>

                                                                <div class="calendar-legend">
                                                                    <div class="legend-item">
                                                                        <span class="legend-color today-legend"></span>
                                                                        <span>Σήμερα</span>
                                                                    </div>
                                                                    <div class="legend-item">
                                                                        <span class="indicator-pill pill-company" style="width: 12px; height: 12px; padding:0; display:inline-block; margin-right:5px; vertical-align: middle;"></span>
                                                                        <span>Εταιρείες</span>
                                                                    </div>
                                                                    <div class="legend-item">
                                                                        <span class="indicator-pill pill-professor" style="width: 12px; height: 12px; padding:0; display:inline-block; margin-right:5px; vertical-align: middle;"></span>
                                                                        <span>Καθηγητές</span>
                                                                    </div>
                                                                </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>


                                                            @if (isModalVisibleToShowEventsOnCalendarForEachClickedDay)
                                                            {
                                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                    <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
                                                                        <div class="modal-content"  style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); width: 100vw; max-width: none; margin: 0;">
                                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                <h5 class="modal-title" style="color: #2d3748; font-weight: 600; font-size: 1.25rem;">
                                                                                    <strong>Λεπτομέρειες Εκδήλωσης/σεων</strong>: 
                                                                                    <span style="color: #2d3748;">
                                                                                        @selectedDate?.ToString("dd MMMM yyyy", new System.Globalization.CultureInfo("el-GR"))
                                                                                    </span>
                                                                                </h5>
                                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                        @onclick="CloseModalForCompanyAndProfessorEventTitles"
                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                </button>
                                                                            </div>
                                                                            <div class="modal-body" style="max-height: 80vh; overflow-y: auto;">
                                                                                <!-- Filter Section -->
                                                                                @if (selectedEvent == null)
                                                                                {
                                                                                    <div class="form-group">
                                                                                        <label style="font-weight: bold; color: #4682b4;">Φιλτράρισμα Εκδηλώσεων</label>
                                                                                        <div class="input-group custom-width">
                                                                                            <select class=".form-control-calendarEventModal" style="border-radius: 8px; background-color: #f8f9fa;" @bind="selectedEventFilter">
                                                                                                <option value="All">Όλες οι Εκδηλώσεις</option>
                                                                                                <option value="Company">Εκδηλώσεις Εταιρειών</option>
                                                                                                <option value="Professor">Εκδηλώσεις Καθηγητών</option>
                                                                                            </select>
                                                                                            <div class="input-group-append">
                                                                                                <span class="input-group-text"></span>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <br/>
                                                                                    @if (selectedEvent == null)
                                                                                    {
                                                                                        @if (filteredCompanyEvents.Count == 0 && filteredProfessorEvents.Count == 0)
                                                                                        {
                                                                                            <p>
                                                                                                "Δεν βρέθηκε καμία Εκδήλωση για αυτήν τη μέρα"
                                                                                            </p>
                                                                                            <p>
                                                                                                Η σημερινή ημερομηνία είναι: <strong>@DateTime.Today.ToString("dd MMMM , yyyy", new System.Globalization.CultureInfo("el-GR"))</strong>
                                                                                            </p>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <ul class="list-group">
                                                                                                @if (selectedEventFilter == "All" || selectedEventFilter == "Company" || selectedEventFilter == "Professor")
                                                                                                {
                                                                                                    <div class="table-responsive" style="max-height: 400px; overflow-y: auto;">
                                                                                                        <table class="table table-responsive" style="width: 100%; table-layout: auto; border-radius: 8px; overflow: hidden;">
                                                                                                            <thead>
                                                                                                                <tr>
                                                                                                                    <th class="text-center" style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">Διοργανωτής</th>
                                                                                                                    <th class="text-center" style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">Ημερομηνία</th>
                                                                                                                    <th class="text-center" style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">Ώρα</th>                                                                                                          
                                                                                                                    <th class="text-center" style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">Τίτλος</th>                                                                                                 
                                                                                                                    <th class="text-center" style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">Λεπτομέρειες</th>
                                                                                                                    @if (selectedEventFilter != "Company") 
                                                                                                                    {
                                                                                                                        <th class="text-center" style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">Ένδειξη Ενδιαφέροντος</th>
                                                                                                                    }
                                                                                                                </tr>
                                                                                                            </thead>
                                                                                                            <tbody>
                                                                                                                @if (selectedEventFilter == "All" || selectedEventFilter == "Company")
                                                                                                                {
                                                                                                                    @foreach (var companyEvent in filteredCompanyEvents)
                                                                                                                    {
                                                                                                                        <tr style="cursor:pointer; text-align: center;">
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">@companyEvent.Company.CompanyName</td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">@companyEvent.CompanyEventActiveDate.Date.ToString("dd MMMM", new System.Globalization.CultureInfo("el-GR"))</td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">@companyEvent.CompanyEventTime</td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">@companyEvent.CompanyEventTitle</td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">
                                                                                                                                <i class="fas fa-eye" @onclick="() => ShowEventDetails(companyEvent)" style="cursor: pointer; font-size: 20px;"></i>
                                                                                                                            </td>
                                                                                                                            @if (selectedEventFilter != "Company") 
                                                                                                                            {
                                                                                                                                <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;"> - </td>
                                                                                                                            }
                                                                                                                        </tr>
                                                                                                                    }
                                                                                                                }
                                                                                                                @if (selectedEventFilter == "All" || selectedEventFilter == "Professor")
                                                                                                                {
                                                                                                                    @foreach (var professorEvent in filteredProfessorEvents)
                                                                                                                    {                                                                                                                  
                                                                                                                        bool hasAlreadyExpressedInterest = dbContext.InterestInProfessorEventsAsCompany
                                                                                                                            .Any(i => i.RNGForProfessorEventInterestAsCompany == professorEvent.RNGForEventUploadedAsProfessor
                                                                                                                                      && i.CompanyEmailShowInterestForProfessorEvent == CurrentUserEmail);

                                                                                                                        <tr style="cursor:pointer; text-align: center; background-color: @(hasAlreadyExpressedInterest ? "lightgreen" : "transparent");">
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">
                                                                                                                                @professorEvent.Professor?.ProfName @professorEvent.Professor?.ProfSurname
                                                                                                                            </td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">@professorEvent.ProfessorEventActiveDate.Date.ToString("dd MMMM", new System.Globalization.CultureInfo("el-GR"))</td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">@professorEvent.ProfessorEventTime</td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">@professorEvent.ProfessorEventTitle</td>
                                                                                                                            <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">
                                                                                                                                <i class="fas fa-eye" @onclick="() => ShowEventDetails(professorEvent)" style="cursor: pointer; font-size: 20px;"></i>
                                                                                                                            </td>
                                                                                                                            @if (selectedEventFilter != "Company") 
                                                                                                                            {
                                                                                                                                <td style="max-width: auto; overflow: hidden; text-overflow: ellipsis;">
                                                                                                                                    <div style="display: flex; align-items: center; justify-content: center; gap: 5px; flex-wrap: wrap;">                                                                                                                                  
                                                                                                                                        @if (!hasAlreadyExpressedInterest)
                                                                                                                                        {
                                                                                                                                            <span style="white-space: nowrap; font-size: 12px; font-weight: bold;">Αριθμός Συμμετοχόντων</span>
                                                                                                                                            <input type="number"                                                                                                                                        
                                                                                                                                                   value="@GetOrAddNumberOfPeople(professorEvent.RNGForEventUploadedAsProfessor)" 
                                                                                                                                                   @onchange="(e) => HandleNumberChangeForParticipantsWhenShowInterestAsACompanyForAProfessorEvent(e, professorEvent.RNGForEventUploadedAsProfessor)"
                                                                                                                                                   min="1" 
                                                                                                                                                   class="form-control" 
                                                                                                                                                   style="width: auto; margin: 0; text-align: center;"/>
                                                                                                                                        }

                                                                                                                                        @if (hasAlreadyExpressedInterest)
                                                                                                                                        {
                                                                                                                                            <span style="color: black; font-weight: bold; white-space: nowrap;">Έχετε Εκδηλώσει Ενδιαφέρον</span>
                                                                                                                                        }
                                                                                                                                        else
                                                                                                                                        {
                                                                                                                                            <span style="white-space: nowrap; font-size: 12px; font-weight: bold;">
                                                                                                                                                Δείξτε Ενδιαφέρον 
                                                                                                                                                <span style="color: lightgray; font-weight: normal; font-style: italic;">(πατήστε το εικονίδιο)</span>
                                                                                                                                            </span>
                                                                                                                                            <i class="fas fa-heart" @onclick="() => ShowInterestInProfessorEventAsCompany(professorEvent)" 
                                                                                                                                               style="cursor: pointer; font-size: 18px; color: goldenrod;"></i>
                                                                                                                                        }
                                                                                                                                    </div>
                                                                                                                                </td>
                                                                                                                            }
                                                                                                                        </tr>
                                                                                                                    }
                                                                                                                }
                                                                                                            </tbody>
                                                                                                        </table>
                                                                                                    </div>
                                                                                                }
                                                                                            </ul>
                                                                                        }
                                                                                    }

                                                                                    <div class="text-center mt-3">
                                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                                @onclick="CloseModalForCompanyAndProfessorEventTitles"
                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                            <i class="fas fa-times me-2"></i> Κλείσιμο
                                                                                        </button>
                                                                                    </div>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <!-- Display full details of the selected event -->
                                                                                    @if (selectedEvent is CompanyEvent companyEventDetails)
                                                                                    {
                                                                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                                            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                                        <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">@companyEventDetails.CompanyEventTitle</h5>
                                                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                                                @onclick="CloseEventDetails"
                                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                                        </button>
                                                                                                    </div>
                                                                                                    <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                                        @if (companyEventDetails.Company?.CompanyLogo != null)
                                                                                                        {
                                                                                                            <div class="form-group text-center">
                                                                                                                <img src="data:image/png;base64,@Convert.ToBase64String(companyEventDetails.Company?.CompanyLogo)" 
                                                                                                                     class="rounded-circle img-fluid" 
                                                                                                                     style="width: 150px; height: 150px; object-fit: cover;" 
                                                                                                                     alt="Company Logo" />
                                                                                                            </div>
                                                                                                        }

                                                                                                        <div class="list-group">
                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Όνομα Εταιρίας</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-industry" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                                    <span>@companyEventDetails.Company?.CompanyName</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τίτλος Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventTitle" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Περιγραφή</label>
                                                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="3" readonly>@companyEventDetails.CompanyEventDescription</textarea>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ημερομηνία</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="far fa-calendar-alt" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                                    <span>@companyEventDetails.CompanyEventActiveDate.ToString("yyyy-MM-dd", new System.Globalization.CultureInfo("el-GR"))</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ώρα Εκδήλωσης</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="far fa-clock" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                                    <span>@companyEventDetails.CompanyEventTime.ToString(@"hh\:mm")</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τύπος Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventType" readonly />
                                                                                                            </div>

                                                                                                            @if (companyEventDetails.CompanyEventOtherOrganizerToBeVisible)
                                                                                                            {
                                                                                                                <div class="form-group">
                                                                                                                    <label style="font-weight: bold;">Άλλος Διοργανωτής</label>
                                                                                                                    <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventOtherOrganizer" readonly />
                                                                                                                </div>
                                                                                                            }

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Περιοχές Ενδιαφέροντος</label>
                                                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="3" readonly>@companyEventDetails.CompanyEventAreasOfInterest</textarea>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Κατάσταση Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventStatus" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Υπεύθυνος Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventResponsiblePerson" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Email Υπεύθυνου</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-envelope" style="color: #4682B4; margin-right: 8px;"></i>
                                                                                                                    @if (!string.IsNullOrEmpty(companyEventDetails.CompanyEventResponsiblePersonEmail))
                                                                                                                    {
                                                                                                                        <a href="mailto:@companyEventDetails.CompanyEventResponsiblePersonEmail" 
                                                                                                                           style="color: #007bff; text-decoration: underline; word-break: break-all;">
                                                                                                                            @companyEventDetails.CompanyEventResponsiblePersonEmail
                                                                                                                        </a>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <span style="color: #6c757d;">Δεν υπάρχει email</span>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τηλέφωνο Υπεύθυνου</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventResponsiblePersonTelephone" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τμήμα Εταιρίας</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventCompanyDepartment" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Διεύθυνση Email Εταιρίας</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-envelope" style="color: #4682B4; margin-right: 8px;"></i>
                                                                                                                    @if (!string.IsNullOrEmpty(companyEventDetails.CompanyEmailUsedToUploadEvent))
                                                                                                                    {
                                                                                                                        <a href="mailto:@companyEventDetails.CompanyEmailUsedToUploadEvent" 
                                                                                                                           style="color: #007bff; text-decoration: underline; word-break: break-all;">
                                                                                                                            @companyEventDetails.CompanyEmailUsedToUploadEvent
                                                                                                                        </a>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <span style="color: #6c757d;">Δεν υπάρχει email</span>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ημερομηνία Ανάρτησης Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;"
                                                                                                                       value="@companyEventDetails.CompanyEventUploadedDate.ToString("yyyy-MM-dd", new System.Globalization.CultureInfo("el-GR"))" 
                                                                                                                       readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Περιοχή Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventPerifereiaLocation" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Δήμος Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventDimosLocation" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τοποθεσία Εκδήλωσης</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                    @if (!string.IsNullOrEmpty(companyEventDetails.CompanyEventPlaceLocation))
                                                                                                                    {
                                                                                                                        <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(companyEventDetails.CompanyEventPlaceLocation)" 
                                                                                                                           target="_blank"
                                                                                                                           style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                            @companyEventDetails.CompanyEventPlaceLocation
                                                                                                                        </a>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <span style="color: #6c757d;">Δεν έχει οριστεί τοποθεσία Εκδήλωσης ακόμη..</span>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ταχυδρομικός Κώδικας Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@companyEventDetails.CompanyEventPostalCodeLocation" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Μεταφορά Στον Χώρο Εκδήλωσης</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; 
                                                                                                                     @(companyEventDetails.CompanyEventOfferingTransportToEventLocation.GetValueOrDefault() ? "color: #28a745;" : "color: #dc3545;")">
                                                                                                                    <i class="fas fa-car" style="margin-right: 8px;"></i>
                                                                                                                    <span>@(companyEventDetails.CompanyEventOfferingTransportToEventLocation.GetValueOrDefault() ? "Ναι" : "Όχι")</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            @if (companyEventDetails.CompanyEventOfferingTransportToEventLocation ?? false)
                                                                                                            {
                                                                                                                <div class="form-group">
                                                                                                                    <label style="font-weight: bold;">Σημεία Εκκίνησης για Μεταφορά</label>
                                                                                                                    @if (!string.IsNullOrWhiteSpace(companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent1))
                                                                                                                    {
                                                                                                                        <div class="form-group">
                                                                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                                <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                                <a href="https://www.google.com/maps/search/@Uri.EscapeDataString(companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent1)"
                                                                                                                                   target="_blank"
                                                                                                                                   style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                                    @companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent1
                                                                                                                                </a>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                    @if (!string.IsNullOrWhiteSpace(companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent2))
                                                                                                                    {
                                                                                                                        <div class="form-group">
                                                                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                                <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                                <a href="https://www.google.com/maps/search/@Uri.EscapeDataString(companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent2)"
                                                                                                                                   target="_blank"
                                                                                                                                   style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                                    @companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent2
                                                                                                                                </a>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                    @if (!string.IsNullOrWhiteSpace(companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent3))
                                                                                                                    {
                                                                                                                        <div class="form-group">
                                                                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                                <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                                <a href="https://www.google.com/maps/search/@Uri.EscapeDataString(companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent3)"
                                                                                                                                   target="_blank"
                                                                                                                                   style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                                    @companyEventDetails.CompanyEventStartingPointLocationToTransportPeopleToEvent3
                                                                                                                                </a>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            }
                                                                                                            <div class="text-center mt-4">
                                                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                                                        @onclick="CloseEventDetails"
                                                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                    <i class="fas fa-arrow-left me-2"></i> Πίσω
                                                                                                                </button>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                    else if (selectedEvent is ProfessorEvent professorEventDetails)
                                                                                    {
                                                                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                                                            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                                                        <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">@professorEventDetails.ProfessorEventTitle</h5>
                                                                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                                                                @onclick="CloseEventDetails"
                                                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                                                        </button>
                                                                                                    </div>
                                                                                                    <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                                                        @if (professorEventDetails.Professor.ProfImage != null)
                                                                                                        {
                                                                                                            <div class="form-group text-center">
                                                                                                                <img src="data:image/png;base64,@Convert.ToBase64String(professorEventDetails.Professor.ProfImage)" 
                                                                                                                     class="rounded-circle img-fluid" 
                                                                                                                     style="width: 150px; height: 150px; object-fit: cover;" 
                                                                                                                     alt="Professor Image" />
                                                                                                            </div>
                                                                                                        }

                                                                                                        <div class="list-group">
                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ονοματεπώνυμο Διοργανωτή</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-user" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                                    <span>@professorEventDetails.Professor.ProfName @professorEventDetails.Professor.ProfSurname </span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τίτλος Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventTitle" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Περιγραφή</label>
                                                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="3" readonly>@professorEventDetails.ProfessorEventDescription</textarea>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ημερομηνία</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="far fa-calendar-alt" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                                    <span>@professorEventDetails.ProfessorEventActiveDate.ToString("yyyy-MM-dd")</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ώρα Εκδήλωσης</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="far fa-clock" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                                    <span>@professorEventDetails.ProfessorEventTimeOnly.ToString("HH:mm")</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τύπος Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventType" readonly />
                                                                                                            </div>

                                                                                                            @if (professorEventDetails.ProfessorEventOtherOrganizerToBeVisible)
                                                                                                            {
                                                                                                                <div class="form-group">
                                                                                                                    <label style="font-weight: bold;">Άλλος Διοργανωτής</label>
                                                                                                                    <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventOtherOrganizer" readonly />
                                                                                                                </div>
                                                                                                            }

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Περιοχές Ενδιαφέροντος</label>
                                                                                                                <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="3" readonly>@professorEventDetails.ProfessorEventAreasOfInterest</textarea>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Κατάσταση Εκδήλωσης</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventStatus" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ονοματεπώνυμο Υπεύθυνου</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventResponsiblePerson" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Email Υπεύθυνου</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-envelope" style="color: #4682B4; margin-right: 8px;"></i>
                                                                                                                    @if (!string.IsNullOrEmpty(professorEventDetails.ProfessorEventResponsiblePersonEmail))
                                                                                                                    {
                                                                                                                        <a href="mailto:@professorEventDetails.ProfessorEventResponsiblePersonEmail" 
                                                                                                                           style="color: #007bff; text-decoration: underline; word-break: break-all;">
                                                                                                                            @professorEventDetails.ProfessorEventResponsiblePersonEmail
                                                                                                                        </a>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <span style="color: #6c757d;">Δεν υπάρχει email</span>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τηλέφωνο Υπεύθυνου</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventResponsiblePersonTelephone" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-university" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                                                    <span>@professorEventDetails.Professor.ProfUniversity</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τμήμα Πανεπιστημίου</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventUniversityDepartment" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Email Καθηγητή</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-envelope" style="color: #4682B4; margin-right: 8px;"></i>
                                                                                                                    @if (!string.IsNullOrEmpty(professorEventDetails.Professor.ProfEmail))
                                                                                                                    {
                                                                                                                        <a href="mailto:@professorEventDetails.Professor.ProfEmail" 
                                                                                                                           style="color: #007bff; text-decoration: underline; word-break: break-all;">
                                                                                                                            @professorEventDetails.Professor.ProfEmail
                                                                                                                        </a>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <span style="color: #6c757d;">Δεν υπάρχει email</span>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Περιφέρεια</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventPerifereiaLocation" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Δήμος</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventDimosLocation" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Τοποθεσία Εκδήλωσης</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                    <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                    @if (!string.IsNullOrEmpty(professorEventDetails.ProfessorEventPlaceLocation))
                                                                                                                    {
                                                                                                                        <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(professorEventDetails.ProfessorEventPlaceLocation)"
                                                                                                                           target="_blank"
                                                                                                                           style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                            @professorEventDetails.ProfessorEventPlaceLocation
                                                                                                                        </a>
                                                                                                                    }
                                                                                                                    else
                                                                                                                    {
                                                                                                                        <span style="color: #6c757d;">Δεν έχει οριστεί τοποθεσία Εκδήλωσης ακόμη..</span>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Ταχυδρομικός Κώδικας Τοποθεσίας</label>
                                                                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@professorEventDetails.ProfessorEventPostalCodeLocation" readonly />
                                                                                                            </div>

                                                                                                            <div class="form-group">
                                                                                                                <label style="font-weight: bold;">Μεταφορά Στον Χώρο Εκδήλωσης</label>
                                                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; 
                                                                                                                     @(professorEventDetails.ProfessorEventOfferingTransportToEventLocation.GetValueOrDefault() ? "color: #28a745;" : "color: #dc3545;")">
                                                                                                                    <i class="fas fa-car" style="margin-right: 8px;"></i>
                                                                                                                    <span>@(professorEventDetails.ProfessorEventOfferingTransportToEventLocation.GetValueOrDefault() ? "Ναι" : "Όχι")</span>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            @if (professorEventDetails.ProfessorEventOfferingTransportToEventLocation ?? false)
                                                                                                            {
                                                                                                                <div class="form-group">
                                                                                                                    <label style="font-weight: bold;">Σημεία Εκκίνησης για Μεταφορά</label>
                                                                                                                    @if (!string.IsNullOrWhiteSpace(professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent1))
                                                                                                                    {
                                                                                                                        <div class="form-group">
                                                                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                                <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                                <a href="https://www.google.com/maps/search/@Uri.EscapeDataString(professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent1)"
                                                                                                                                   target="_blank"
                                                                                                                                   style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                                    @professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent1
                                                                                                                                </a>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                    @if (!string.IsNullOrWhiteSpace(professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent2))
                                                                                                                    {
                                                                                                                        <div class="form-group">
                                                                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                                <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                                <a href="https://www.google.com/maps/search/@Uri.EscapeDataString(professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent2)"
                                                                                                                                   target="_blank"
                                                                                                                                   style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                                    @professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent2
                                                                                                                                </a>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                    @if (!string.IsNullOrWhiteSpace(professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent3))
                                                                                                                    {
                                                                                                                        <div class="form-group">
                                                                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                                                                <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                                                                                <a href="https://www.google.com/maps/search/@Uri.EscapeDataString(professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent3)"
                                                                                                                                   target="_blank"
                                                                                                                                   style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                                                                                    @professorEventDetails.ProfessorEventStartingPointLocationToTransportPeopleToEvent3
                                                                                                                                </a>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    }
                                                                                                                </div>
                                                                                                            }
                                                                                                            <div class="text-center mt-4">
                                                                                                                <button class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                                                                        @onclick="CloseEventDetails"
                                                                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                                                                    <i class="fas fa-arrow-left me-2"></i> Πίσω
                                                                                                                </button>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    }
                                                                                }
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            }








                                                <!-- ΔΗΜΙΟΥΡΓΙΑ ΕΚΔΗΛΩΣΗΣ ΩΣ COMPANY USER-->
                                                <div class="mb-3 row-dark-gray">
                                                    <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityForUploadCompanyEvent" style="cursor: pointer;">
                                                        <label class="form-label" style="color: #FFF8DC;">• Δημιουργία Εκδήλωσης •</label>
                                                        <button class="btn btn-link" @onclick="ToggleFormVisibilityForUploadCompanyEvent" @onclick:stopPropagation="true">
                                                            @if (isUploadCompanyEventFormVisible)
                                                            {
                                                                <span>&#8722;</span> <!-- Minus sign -->
                                                            }
                                                            else
                                                            {
                                                                <span>&#43;</span> <!-- Plus sign -->
                                                            }
                                                        </button>
                                                    </div>
                                                </div>

                                                @if (isUploadCompanyEventFormVisible)
                                                {
                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventType">
                                                                <strong>Τύπος Εκδήλωσης</strong>
                                                                <span style="color: red;"> *</span>
                                                            </label>
                                                            <div class="input-group">
                                                                <select id="CompanyEventType" class="form-control @(showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventType) ? "shake error" : "")" @bind="companyEvent.CompanyEventType">
                                                                    <option value="">-- Επιλέξτε τύπο εκδήλωσης --</option>
                                                                    <option value="Έκθεση">Έκθεση</option>
                                                                    <option value="Hackathon">Hackathon</option>
                                                                    <option value="Career Day">Career Day</option>
                                                                    <option value="Seminar">Seminar</option>
                                                                    <option value="Επίσκεψη">Επίσκεψη</option>
                                                                    <option value="Άλλο">Άλλο</option>
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        @if (showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventType))
                                                        {
                                                           <div class="text-danger mt-1">Απαιτείται επιλογή Τύπου Θέσης.</div>
                                                        }
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventOtherOrganizerToBeVisible"><strong>Θέλετε να προσθέσετε άλλον διοργανωτή;</strong><span style="color: red;"> *</span></label>
                                                            <div class="form-check">
                                                                <input type="radio" id="true" name="CompanyEventOtherOrganizerToBeVisible" class="form-check-input @(showErrorMessageForUploadingCompanyEvent && companyEvent.CompanyEventOtherOrganizerToBeVisible == null ? "error" : "")" 
                                                                       value="true" checked="@(companyEvent.CompanyEventOtherOrganizerToBeVisible == true)"
                                                                       @onchange="() => { companyEvent.CompanyEventOtherOrganizerToBeVisible = true; UpdateOrganizerVisibility(true); }" />
                                                                <label class="form-check-label" for="true">Ναι</label>
                                                            </div>
                                                            <div class="form-check">
                                                                <input type="radio" id="false" name="CompanyEventOtherOrganizerToBeVisible" class="form-check-input @(showErrorMessageForUploadingCompanyEvent && companyEvent.CompanyEventOtherOrganizerToBeVisible == null ? "error" : "")" 
                                                                       value="false" checked="@(companyEvent.CompanyEventOtherOrganizerToBeVisible == false)"
                                                                       @onchange="() => { companyEvent.CompanyEventOtherOrganizerToBeVisible = false; UpdateOrganizerVisibility(false); }" />
                                                                <label class="form-check-label" for="false">Όχι</label>
                                                            </div>
                                                        </div>
                                                        @if (showErrorMessageForUploadingCompanyEvent && companyEvent.CompanyEventOtherOrganizerToBeVisible == null)
                                                        {
                                                            <div class="text-danger mt-1">Επιλέξτε Ναι ή Όχι</div>
                                                        }
                                                    </div>

                                                    @if (companyEvent.CompanyEventOtherOrganizerToBeVisible)
                                                    {
                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label for="CompanyEventOtherOrganizer"><strong>Διοργανωτής</strong><span style="color: red;"> *</span></label>
                                                                <div class="input-group">
                                                                    <input type="text" class="form-control @(showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventOtherOrganizer) ? "shake error" : "")"
                                                                           @bind="companyEvent.CompanyEventOtherOrganizer" placeholder="Πληκτρολογείστε τον Διοργανωτή" />
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text">
                                                                            <i class="fas fa-user"></i>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            @if (showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventOtherOrganizer))
                                                            {
                                                               <div class="text-danger mt-1">Εισάγετε τον επιπλέον Διοργανωτή της Εκδήλωσης</div>
                                                            }
                                                        </div>
                                                    }



                                                    <!-- Areas of Interest Toggle -->
                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px; flex-wrap: wrap;">
                                                                <label style="margin: 0; display: flex; align-items: center; gap: 4px;">
                                                                    <strong>Περιοχές Ενδιαφέροντος</strong>
                                                                    <span style="color: red;">*</span>
                                                                </label>
            
                                                                <button type="button" 
                                                                        @onclick="ToggleCheckboxesForCompanyEvent"
                                                                        class="toggle-all-areas-btn @(showErrorMessageForUploadingCompanyEvent && !HasAnySelectionForCompanyEvent() ? "shake error" : "")"
                                                                        style="border: 1px solid #2d3748; background: white; border-radius: 6px; padding: 4px 10px; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; color: #2d3748; font-size: 0.85em; transition: all 0.2s;">
                                                                    <span>👆</span>
                                                                    <span>Προβολή περιοχών</span>
                                                                </button>
                                                            </div>

                                                            @if (showCheckboxesForCompanyEvent)
                                                            {
                                                                <div id="toggleCheckboxes" class="checkbox-container">
                                                                    @if (Areas == null || !Areas.Any())
                                                                    {
                                                                        <p>Φορτώνει...</p>
                                                                    }
                                                                    else
                                                                    {
                                                                        @foreach (var area in Areas)
                                                                        {
                                                                            <div class="area-container" style="margin-bottom: 8px; border: 2px solid #1565c0; border-radius: 6px; padding: 8px; background-color: #f8f9fa;">
                                                                                <div class="form-check area-header" style="display: flex; align-items: center; gap: 8px;">
                                                                                    <input type="checkbox"
                                                                                           id="area_@area.Id"
                                                                                           class="form-check-input"
                                                                                           @onchange="(e) => OnAreaCheckedChangedForCompanyEvent(e, area)"
                                                                                           checked="@IsAreaSelectedForCompanyEvent(area)" />
                                                                                    <label class="form-check-label area-label @(showErrorMessageForUploadingCompanyEvent && !HasAnySelectionForCompanyEvent() ? "shake error" : "")" 
                                                                                           for="area_@area.Id"
                                                                                           style="cursor: pointer; font-weight: bold; flex-grow: 1; color: #1565c0;">
                                                                                        @area.AreaName
                                                                                    </label>
                                                                                    <button type="button"
                                                                                            @onclick="@(() => ToggleSubFieldsForCompanyEvent(area))"
                                                                                            @onclick:stopPropagation="true"
                                                                                            class="expand-btn"
                                                                                            style="border: 1px solid #1565c0; background: white; border-radius: 4px; padding: 4px 8px; cursor: pointer; display: flex; align-items: center; gap: 4px; font-size: 0.8em; color: #1565c0; transition: all 0.2s;">
                                                                                        <span>Υποτομείς</span>
                                                                                        <span class="expand-icon" style="font-size: 10px; transition: transform 0.2s; transform: @(ExpandedAreasForCompanyEvent.Contains(area.Id) ? "rotate(90deg)" : "rotate(0deg)")">▶</span>
                                                                                    </button>
                                                                                </div>
                            
                                                                                @if (ExpandedAreasForCompanyEvent.Contains(area.Id))
                                                                                {
                                                                                    <div class="subfields-container" style="margin-top: 12px; margin-left: 28px; padding: 12px; background: white; border: 1px solid #e0e0e0; border-radius: 4px;">
                                                                                        <div style="font-size: 0.85em; color: #666; margin-bottom: 8px; font-weight: 500;">
                                                                                            Επιλέξτε υποτομείς:
                                                                                        </div>
                                                                                        @if (!string.IsNullOrEmpty(area.AreaSubFields))
                                                                                        {
                                                                                            var subFields = area.AreaSubFields.Split(',').Select(s => s.Trim()).ToList();
                                                                                            @foreach (var subField in subFields)
                                                                                            {
                                                                                                <div class="form-check subfield-checkbox" style="margin-bottom: 6px;">
                                                                                                    <input type="checkbox"
                                                                                                           id="subfield_@(area.Id)_@(subField)"
                                                                                                           class="form-check-input"
                                                                                                           @onchange="(e) => OnSubFieldCheckedChangedForCompanyEvent(e, area, subField)"
                                                                                                           checked="@IsSubFieldSelectedForCompanyEvent(area, subField)" />
                                                                                                    <label class="form-check-label" for="subfield_@(area.Id)_@(subField)" style="font-weight: normal; font-size: 0.9em;">
                                                                                                        @subField
                                                                                                    </label>
                                                                                                </div>
                                                                                            }
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>
                                                                        }
                                                                    }
                                                                </div>
                                                            }
                                                        </div>
                                                        @if (showErrorMessageForUploadingCompanyEvent && !HasAnySelectionForCompanyEvent())
                                                        {
                                                            <div class="text-danger mt-1">Πρέπει να επιλέξετε τουλάχιστον 1 Περιοχή Ενδιαφέροντος ή Υποτομέα.</div>
                                                        }
                                                    </div>


                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventTitle"><strong>Τίτλος Εκδήλωσης</strong><span style="color: red;"> *</span></label>
                                                            <input type="text" id="CompanyEventTitle" class="form-control @(showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventTitle) ? "shake error" : "")" @bind="companyEvent.CompanyEventTitle" @oninput="CheckCharacterLimitInEventTitleField" maxlength="120" placeholder="Πληκτρολογείστε τον τίτλο της εκδήλωσης" />
                                                            <small class="character-limit light-cadetblue-text">@remainingCharactersInEventTitleField/120</small>
                                                        </div>
                                                        @if (showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventTitle))
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται ο Τίτλος της Εκδήλωσης</div>
                                                        }
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventDescription"><strong>Περιγραφή Εκδήλωσης</strong> <span style="color: red;"> *</span></label>
                                                            <textarea id="CompanyEventDescription" class="form-control @(showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventDescription) ? "shake error" : "")" @bind="companyEvent.CompanyEventDescription" @oninput="CheckCharacterLimitInCompanyEventDescription" maxlength="1000" placeholder="Πληκτρολογείστε την Περιγραφή της Εκδήλωσής σας"></textarea>
                                                            <small class="character-limit light-cadetblue-text">@remainingCharactersInCompanyEventDescription/1000</small>
                                                        </div>
                                                        @if (showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventDescription))
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται η Περιγραφή της Εκδήλωσης</div>
                                                        }
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventResponsiblePerson">Υπεύθυνος Εκδήλωσης (Ονοματεπώνυμο)<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                            <input type="text" id="CompanyEventResponsiblePerson" class="form-control" @bind="companyEvent.CompanyEventResponsiblePerson" />
                                                        </div>
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventResponsiblePersonEmail">
                                                                Email Υπεύθυνου
                                                                <span style="font-style: italic; color: gray;"> (Προαιρετικό)</span>
                                                            </label>
                                                            <input type="email" id="CompanyEventResponsiblePersonEmail" class="form-control" 
                                                                   @bind="companyEvent.CompanyEventResponsiblePersonEmail" 
                                                                   placeholder="example@mail.com" />
                                                        </div>
                                                    </div>


                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventResponsiblePersonTelephone">
                                                                Τηλέφωνο Υπεύθυνου
                                                                <span style="font-style: italic; color: gray;"> (Προαιρετικό)</span>
                                                            </label>
                                                            <div class="input-group">
                                                                <div class="input-group-prepend">
                                                                    <span class="input-group-textfortelephone">+30</span>
                                                                </div>
                                                                <input type="tel" id="CompanyEventResponsiblePersonTelephone" 
                                                                       class="form-control @(showErrorMessageForUploadingCompanyEvent && !IsValidPhoneNumber(companyEvent.CompanyEventResponsiblePersonTelephone) ? "shake error" : "")"
                                                                       @bind="companyEvent.CompanyEventResponsiblePersonTelephone" 
                                                                       @oninput="OnCompanyCreateEventPhoneNumberInput"
                                                                       placeholder="Τηλέφωνο Υπευθύνου"
                                                                       maxlength="10" />
                                                            </div>
                                                            @if (showErrorMessageForUploadingCompanyEvent && !IsValidPhoneNumber(companyEvent.CompanyEventResponsiblePersonTelephone) && !string.IsNullOrWhiteSpace(companyEvent.CompanyEventResponsiblePersonTelephone))
                                                            {
                                                                <small style="color: red;">Παρακαλώ εισάγετε έγκυρο αριθμό τηλεφώνου...</small>
                                                            }
                                                        </div>
                                                    </div>



                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventCompanyDepartment">Τμήμα Εταιρείας<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                            <input type="text" id="CompanyEventCompanyDepartment" class="form-control" @bind="companyEvent.CompanyEventCompanyDepartment" />
                                                        </div>
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventDate">
                                                                <strong>Ημερομηνία Εκδήλωσης</strong>
                                                                <span style="color: red;">*</span>
                                                            </label>
                                                            <input type="date" id="CompanyEventDate" 
                                                                   class="form-control @(showErrorMessageForUploadingCompanyEvent && companyEvent.CompanyEventActiveDate.Date <= DateTime.Today ? "shake error" : "")" 
                                                                   value="@companyEvent.CompanyEventActiveDate.ToString("yyyy-MM-dd")"
                                                                   @onchange="HandleDateChange" />
                                                        </div>
                                                        @if (showErrorMessageForUploadingCompanyEvent && companyEvent.CompanyEventActiveDate.Date <= DateTime.Today)
                                                        {
                                                            <div class="text-danger mt-1">Η ημερομηνία πρέπει να είναι μεταγενέστερη της σημερινής ημερομηνίας.</div>
                                                        }
                                                        @if (hasExistingEventsOnSelectedDate)
                                                        {
                                                            <div class="text-info mt-1">
                                                                <i class="fas fa-info-circle"></i> Ενημέρωση: "Υπάρχουν ήδη <strong>@existingEventsCount</strong> εκδηλώσεις για αυτή την ημερομηνία."
                                                            </div>
                                                        }
                                                    </div>

                                                    <!-- Region Dropdown -->
                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventPerifereiaLocation">
                                                                <strong>Περιφέρεια</strong>
                                                                <span style="color: red;">*</span>
                                                            </label>
                                                            <div class="input-group">
                                                                <select id="CompanyEventPerifereiaLocation" class="form-control @(showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventPerifereiaLocation) ? "shake error" : "")" @bind="companyEvent.CompanyEventPerifereiaLocation">
                                                                    <option value="">-- Επιλέξτε Περιφέρεια --</option>
                                                                    @foreach (var region in Regions)
                                                                    {
                                                                        <option value="@region">@region</option>
                                                                    }
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        @if (showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventPerifereiaLocation))
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται η Περιφέρεια στην οποία θα πραγματοποιηθεί η Εκδήλωση</div>
                                                        }
                                                    </div>

                                                    <!-- Town Dropdown -->
                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventDimosLocation">
                                                                <strong>Δήμος</strong>
                                                                <span style="color: red;">*</span>
                                                            </label>
                                                            <div class="input-group">
                                                                <select id="CompanyEventDimosLocation" class="form-control @(showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventDimosLocation) ? "shake error" : "")" @bind="companyEvent.CompanyEventDimosLocation">
                                                                    <option value="">-- Επιλέξτε Δήμο --</option>
                                                                    @foreach (var town in GetTownsForRegion(companyEvent.CompanyEventPerifereiaLocation))
                                                                    {
                                                                        <option value="@town">@town</option>
                                                                    }
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        @if (showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventDimosLocation))
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται o Δήμος στον οποίο θα πραγματοποιηθεί η Εκδήλωση</div>
                                                        }
                                                    </div>


                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventPlaceLocation"><strong>Τοποθεσία Εκδήλωσης</strong><span style="color: red;"> *</span></label>
                                                            <input type="text" id="autocomplete" class="form-control @(showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventPlaceLocation) ? "shake error" : "")" @bind="companyEvent.CompanyEventPlaceLocation" placeholder="Αναζήτηση χώρου εκδήλωσης " />
                                                        </div>
                                                        @if (showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventPlaceLocation))
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται Τοποθεσία/Διεύθυνση του χώρου Εκδήλωσης</div>
                                                        }
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventTime">
                                                                <strong>Ώρα Εκδήλωσης</strong>
                                                                <span style="color: red;">*</span>
                                                            </label>
                                                            <input type="time" 
                                                                   id="CompanyEventTime" 
                                                                   class="form-control @(showErrorMessageForUploadingCompanyEvent && (companyEvent.CompanyEventTimeOnly == TimeOnly.MinValue || IsTimeInRestrictedRangeWhenUploadEventAsCompany(companyEvent.CompanyEventTimeOnly)) ? "shake error" : "")" 
                                                                   @bind="companyEvent.CompanyEventTimeOnly" 
                                                                   min="06:00" 
                                                                   max="22:00" />
                                                        </div>
                                                        @if (showErrorMessageForUploadingCompanyEvent && companyEvent.CompanyEventTimeOnly == TimeOnly.MinValue)
                                                        {
                                                            <div class="text-danger mt-1">Η ώρα εκδήλωσης είναι υποχρεωτική.</div>
                                                        }
                                                        @if (showErrorMessageForUploadingCompanyEvent && IsTimeInRestrictedRangeWhenUploadEventAsCompany(companyEvent.CompanyEventTimeOnly))
                                                        {
                                                            <div class="text-danger mt-1">Η ώρα πρέπει να είναι μεταξύ 06:00 και 22:00.</div>
                                                        }
                                                    </div>




                                               
                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventPostalCodeLocation"><strong>Ταχυδρομικός Κώδικας</strong><span style="color: red;"> *</span></label>
                                                            <input type="text" id="CompanyEventPostalCodeLocation" class="form-control @(showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventPostalCodeLocation) ? "shake error" : "")" @bind="companyEvent.CompanyEventPostalCodeLocation" placeholder="Πληκτρολογείστε τον ταχυδρομικό κώδικα" />
                                                        </div>
                                                        @if (showErrorMessageForUploadingCompanyEvent && string.IsNullOrWhiteSpace(companyEvent.CompanyEventPostalCodeLocation))
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται Ταχυδρομικός Κώδικας.</div>
                                                        }
                                                    </div>

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventOfferingTransportToEventLocation">
                                                                <strong>Παροχή Μεταφοράς προς/από Χώρο Εκδήλωσης;</strong>
                                                                <span style="color: red;"> *</span>
                                                            </label>
                                                            <select id="CompanyEventOfferingTransportToEventLocation" 
                                                                    class="form-control @(showErrorMessageForUploadingCompanyEvent && companyEvent.CompanyEventOfferingTransportToEventLocation == null ? "shake error" : "")"
                                                                    @onchange="OnTransportOptionChange">
                                                                <option value="">-- Επιλέξτε --</option>
                                                                <option value="true">Ναι</option>
                                                                <option value="false">Όχι</option>
                                                            </select>
                                                        </div>
                                                        @if (showErrorMessageForUploadingCompanyEvent && companyEvent.CompanyEventOfferingTransportToEventLocation == null)
                                                        {
                                                            <div class="text-danger mt-1">Απαιτείται Επιλογή Παροχής Μεταφοράς προς/από τον χώρο της Εκδήλωσης.</div>
                                                        }
                                                    </div>


                                                    @if (companyEvent.CompanyEventOfferingTransportToEventLocation == true)
                                                    {
                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label for="CompanyEventStartingPointLocationToTransportPeopleToEvent1">
                                                                    <strong>Σημείο Εκκίνησης 1 για μεταφορά προς Εκδήλωση</strong> 
                                                                    <span style="color: red;"> *</span>
                                                                </label>
                                                                <input type="text" id="autocomplete2" 
                                                                       class="form-control @(showErrorMessageForUploadingCompanyEvent && !HasAtLeastOneStartingPointWhenUploadEventAsCompany() ? "shake error" : "")" 
                                                                       @bind="companyEvent.CompanyEventStartingPointLocationToTransportPeopleToEvent1" 
                                                                       placeholder="Αναζήτηση 1ου σημείου εκκίνησης" />
                                                            </div>
                                                        </div>
                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label for="CompanyEventStartingPointLocationToTransportPeopleToEvent2">
                                                                    <strong>Σημείο Εκκίνησης 2 για μεταφορά προς Εκδήλωση</strong>
                                                                </label>
                                                                <input type="text" id="autocomplete3" 
                                                                       class="form-control" 
                                                                       @bind="companyEvent.CompanyEventStartingPointLocationToTransportPeopleToEvent2" 
                                                                       placeholder="Αναζήτηση 2ου σημείου εκκίνησης (προαιρετικό)" />
                                                            </div>
                                                        </div>
                                                        <div class="row mb-3">
                                                            <div class="col-md-4">
                                                                <label for="CompanyEventStartingPointLocationToTransportPeopleToEvent3">
                                                                    <strong>Σημείο Εκκίνησης 3 για μεταφορά προς Εκδήλωση</strong>
                                                                </label>
                                                                <input type="text" id="autocomplete4" 
                                                                       class="form-control" 
                                                                       @bind="companyEvent.CompanyEventStartingPointLocationToTransportPeopleToEvent3" 
                                                                       placeholder="Αναζήτηση 3ου σημείου εκκίνησης (προαιρετικό)" />
                                                            </div>
                                                        </div>
    
                                                        @if (showErrorMessageForUploadingCompanyEvent && !HasAtLeastOneStartingPointWhenUploadEventAsCompany())
                                                        {
                                                            <div class="text-danger mt-1">Πρέπει να ορίσετε τουλάχιστον 1 σημείο εκκίνησης.</div>
                                                        }
                                                    }

                                                    <div class="row mb-3">
                                                        <div class="col-md-4">
                                                            <label for="CompanyEventAttachmentFile">Συννημένο Αρχείο Εκδήλωσης<span style="font-style: italic; color: gray;"> (Προαιρετικό)</span></label>
                                                            <InputFile id="CompanyEventAttachmentFile" class="form-control" OnChange="UploadCompanyEventAttachmentFile" />
                                                            <small class="form-text text-muted">Όριο 10MB - Μόνο αρχεία PDF</small>
                                                            @if (!string.IsNullOrEmpty(CompanyEventAttachmentErrorMessage))
                                                            {
                                                                <div class="text-danger mt-2">@CompanyEventAttachmentErrorMessage</div>
                                                            }
                                                        </div>
                                                    </div>


                                                    <!-- Buttons to save the event -->
                                                    <div class="row mb-3">
                                                        <div class="col-md-12">
                                                            <button class="modern-button" style="background-color: #818589; color: white; display: inline-flex; align-items: center;" @onclick="HandleTemporarySaveCompanyEvent">
                                                                <i class="fa-regular fa-floppy-disk" style="margin-right: 8px;"></i>Προσωρινή Αποθήκευση Εκδήλωσης
                                                            </button>
                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="HandlePublishSaveCompanyEvent">
                                                                <i class="fa-solid fa-floppy-disk" style="margin-right: 8px;"></i>Δημοσίευση Εκδήλωσης
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <!-- Loading Modal for Company Event -->
                                                    @if (showLoadingModalForEvent)
                                                    {
                                                        <div class="loading-modal">
                                                            <div class="loading-modal-content">
                                                                <div class="loading-spinner"></div>
                                                                <p>Αποθήκευση Εκδήλωσης...</p>
                                                                <div class="progress-bar">
                                                                    <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    }


                                                    @if (!isFormValidToSaveEventAsCompany)
                                                    {
                                                            <div class="alert alert-danger" role="alert">
                                                                Συμπληρώστε Όλα Τα Υποχρεωτικά Πεδία και Προσπαθήστε Ξανά
                                                            </div>
                                                    }
                                                    @if (!string.IsNullOrEmpty(saveEventAsCompanyMessage))
                                                    {
                                                            <div class="alert @(isSaveAnnouncementAsCompanySuccessful ? "alert-success" : "alert-danger")" role="alert">
                                                                    @saveEventAsCompanyMessage
                                                             </div>
                                                    }
                                                }


                                                <!-- VIEW UPLOADED EVENTS AS COMPANY -->
                                                <div class="mb-3 row-dark-gray mt-4">
                                                    <div class="d-flex justify-content-between align-items-center" @onclick="ToggleUploadedCompanyEventsVisibility" style="cursor: pointer;">
                                                        <label class="form-label" style="color: #FFF8DC;">
                                                            @if (isLoadingUploadedEvents)
                                                            {
                                                                <span>
                                                                    <i class="fas fa-spinner fa-spin me-2"></i>
                                                                    Φόρτωση Εκδηλώσεων...
                                                                </span>
                                                            }
                                                            else
                                                            {
                                                                <span>• Οι Εκδηλώσεις μου •</span>
                                                            }
                                                        </label>
                                                        <button class="btn btn-link" @onclick="ToggleUploadedCompanyEventsVisibility" @onclick:stopPropagation="true">
                                                            @if (isUploadedEventsVisible && !isLoadingUploadedEvents)
                                                            {
                                                                <span>&#8722;</span> <!-- Minus sign -->
                                                            }
                                                            else if (!isLoadingUploadedEvents)
                                                            {
                                                                <span>&#43;</span> <!-- Plus sign -->
                                                            }
                                                        </button>
                                                    </div>
                                                </div>
                                                @if (isUploadedEventsVisible && !isLoadingUploadedEvents)
                                                {
                                                    <div class="col-md-2">
                                                        <label for="statusFilterForAnnouncements" style="color: #2d3748; font-size: 15px;"><strong>Φίλτρο Εμφάνισης</strong></label>
                                                        <div class="input-group">
                                                            <select id="statusFilterForAnnouncements" class="form-control form-control-sm" 
                                                                    @onchange="HandleStatusFilterChangeForCompanyEvents">
                                                                <option value="Όλα">Όλες</option>
                                                                <option value="Δημοσιευμένη">Δημοσιευμένες</option>
                                                                <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένες</option>
                                                            </select>

                                                            <div class="input-group-append">
                                                                <span class="input-group-text">
                                                                    <i class="fas fa-chevron-down"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label style="color: #2d3748; font-size: 15px; display: block;"><strong>Αποτελέσματα ανά Σελίδα</strong></label>
                                                        <div class="input-group" style="max-width: 65px;">
                                                            <select class="form-control form-control-sm" @onchange="OnPageSizeChange_SeeMyUploadedEventsAsCompany">
                                                                @foreach (var option in pageSizeOptions_SeeMyUploadedEventsAsCompany)
                                                                {
                                                                    <option value="@option" selected="@(CompanyEventsPerPage == option)">@option</option>
                                                                }
                                                            </select>
                                                            <div class="input-group-append">
                                                                <span class="input-group-text">
                                                                    <i class="fas fa-chevron-down"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br/>
                                                    <div class="col-md-2">
                                                        @if (selectedStatusFilterForEventsAsCompany == "Όλα")
                                                        {
                                                            <span><strong>Σύνολο: </strong>@totalCountEventsAsCompany</span>
                                                        }
                                                        else if (selectedStatusFilterForEventsAsCompany == "Δημοσιευμένη")
                                                        {
                                                            <span><strong>Σύνολο: </strong>@publishedCountEventsAsCompany</span>
                                                        }
                                                        else if (selectedStatusFilterForEventsAsCompany == "Μη Δημοσιευμένη")
                                                        {
                                                            <span><strong>Σύνολο: </strong>@unpublishedCountEventsAsCompany</span>
                                                        }
                                                    </div>

                                                        <!-- Bulk Edit Section for Events - Only show when there are events -->
                                                    @if (FilteredCompanyEvents != null && FilteredCompanyEvents.Any())
                                                    {
                                                        <div class="row mb-3">
                                                            <div class="col-md-12">
                                                                <!-- Bulk Edit Button - Show when NOT in bulk edit mode OR when in bulk edit mode but no events selected -->
                                                                @if (!isBulkEditModeForEvents || (isBulkEditModeForEvents && selectedEventIds.Count == 0))
                                                                {
                                                                    <div class="mb-2" style="margin-left: -10px;">
                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                @onclick="EnableBulkEditModeForEvents"
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <i class="fas fa-edit" style="margin-right: 8px;"></i>Μαζική Επεξεργασία Εκδηλώσεων
                                                                        </button>
                                                                    </div>
                                                                }

                                                                <!-- Instruction text when in bulk edit mode -->
                                                                @if (isBulkEditModeForEvents)
                                                                {
                                                                    <div class="mb-2">
                                                                        <div class="alert alert-info" style="background-color: #e7f3ff; border: 1px solid #b3d9ff; color: #004085; border-radius: 6px; padding: 8px 12px;">
                                                                            <i class="fas fa-info-circle me-2"></i>
                                                                            <strong>Επιλέξτε Εκδηλώσεις στον Πίνακα</strong>
                                                                        </div>
                                                                    </div>
                                                                }

                                                                <!-- Bulk Action Buttons - Show when events are selected -->
                                                                @if (isBulkEditModeForEvents && selectedEventIds.Count > 0)
                                                                {
                                                                    <div class="d-flex gap-2 align-items-center flex-wrap mb-2">
                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                @onclick='() => ExecuteBulkStatusChangeForEvents("Δημοσιευμένη")'
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <i class="fas fa-arrow-up me-2"></i>Αλλαγή σε Δημοσιευμένη
                                                                        </button>
                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                @onclick='() => ExecuteBulkStatusChangeForEvents("Μη Δημοσιευμένη")'
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <i class="fas fa-arrow-down me-2"></i>Αλλαγή σε Μη Δημοσιευμένη
                                                                        </button>
                                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" 
                                                                                @onclick="ExecuteBulkCopyForEvents"
                                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                                            <i class="fas fa-copy me-2"></i>Κλωνοποίηση
                                                                        </button>
                                                                        <button class="modern-button" style="background-color: #6c757d; color: white; display: inline-flex; align-items: center;" 
                                                                                @onclick="CancelBulkEditForEvents"
                                                                                onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                                onmouseout="this.style.backgroundColor='#6c757d'">
                                                                            <i class="fas fa-times me-2"></i>Ακύρωση
                                                                        </button>
                                                                    </div>

                                                                    <!-- Selected count badge placed under the buttons -->
                                                                    <div class="mb-2">
                                                                        <span class="badge bg-primary">
                                                                            Επιλεγμένες Εκδηλώσεις: @selectedEventIds.Count
                                                                        </span>
                                                                    </div>
                                                                }
                                                            </div>
                                                        </div>
                                                    }

                                                    <!-- Add the legend here - right before the table -->
                                                    <div class="d-flex justify-content-end mb-2">
                                                        <div class="status-legend" style="display: flex; align-items: center; gap: 15px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 6px; padding: 6px 12px;">
                                                            <div style="display: flex; align-items: center; gap: 8px;">
                                                                <div style="display: flex; align-items: center;">
                                                                    <div style="width: 16px; height: 16px; background-color: lightblue; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                    <span>Δημοσιευμένη</span>
                                                                </div>
                                                                <div style="display: flex; align-items: center;">
                                                                    <div style="width: 16px; height: 16px; background-color: lightcoral; border: 1px solid #ccc; border-radius: 3px; margin-right: 5px;"></div>
                                                                    <span>Μη Δημοσιευμένη</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                            <div style="max-width: auto; margin-left: 0;">
                                                               <div class="table-responsive">
                                                                <table class="table table-striped">
                                                                    <thead>
                                                                        <tr style="border: 2px solid black; background-color: lightgray;">
                                                                            @if (isBulkEditModeForEvents && FilteredCompanyEvents != null && FilteredCompanyEvents.Any())
                                                                            {
                                                                                <th style="border: 2px solid black; width: 40px;">
                                                                                    #
                                                                                </th>
                                                                            }
                                                                            <th style="border: 2px solid black;"><i class="fa-solid fa-key fa-sm" style="color: #0d6efd;"></i> Κωδικός Εκδήλωσης</th>
                                                                            <th style="border: 2px solid black;">
                                                                                <i class="fa-solid fa-font fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                Τίτλος
                                                                            </th>
                                                                            <th style="border: 2px solid black;">
                                                                                <i class="fa-solid fa-file-lines fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                Περιγραφή
                                                                            </th>
                                                                            <th style="border: 2px solid black;">
                                                                                <i class="fa-solid fa-calendar-days fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                Ημερομηνία Δημοσίευσης
                                                                            </th>
                                                                            <th style="border: 2px solid black;">
                                                                                <i class="fa-solid fa-arrows-up-down fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                Κατάσταση
                                                                            </th>
                                                                            <th style="width: 300px; border: 2px solid black;">
                                                                                <i class="fa-solid fa-hand fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                Ενέργειες
                                                                            </th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        @if (FilteredCompanyEvents != null && FilteredCompanyEvents.Any())
                                                                        {
                                                                            @foreach (var companyevent in GetPaginatedCompanyEvents())
                                                                            {
                                                                                <!-- Main Event Row -->
                                                                                <tr style="background-color: @(companyevent.CompanyEventStatus == "Δημοσιευμένη" ? "lightblue" : "lightcoral"); border: 2px solid black;">
                                                                                    @if (isBulkEditModeForEvents)
                                                                                    {
                                                                                        <td style="border: 1px solid black; text-align: center;">
                                                                                            <input type="checkbox" 
                                                                                                   @onchange="@((e) => ToggleEventSelection(companyevent.Id, e))" 
                                                                                                   checked="@selectedEventIds.Contains(companyevent.Id)" />
                                                                                        </td>
                                                                                    }
                                                                                    <td style="color: #2d3748; border: 1px solid black;">
                                                                                        @companyevent.RNGForEventUploadedAsCompany_HashedAsUniqueID
                                                                                    </td>
                                                                                    <td style="border: 1px solid black;">@companyevent.CompanyEventTitle</td>
                                                                                    <td style="width: 30%; border: 1px solid black;">
                                                                                        @if (companyevent.CompanyEventDescription.Length > 50) 
                                                                                        {
                                                                                            @companyevent.CompanyEventDescription.Substring(0, 50)
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            @companyevent.CompanyEventDescription
                                                                                        }
                                                                                    </td>
                                                                                    <td style="border: 1px solid black;">@companyevent.CompanyEventUploadedDate.ToString("dd/MM/yyyy")</td>
                                                                                    <td style="border: 1px solid black;">@companyevent.CompanyEventStatus</td>
                                                                                    <td style="border: 1px solid black; position: relative;">
                                                                                        <div class="dropdown">
                                                                                            <!-- Options menu button with ellipsis-h icon -->
                                                                                            <button class="btn btn-action btn-menu" 
                                                                                                    @onclick="() => ToggleEventMenu(companyevent.Id)" 
                                                                                                    title="Ενέργειες"
                                                                                                    @onclick:stopPropagation="true">
                                                                                                <i class="fas fa-ellipsis-h icon-button"></i>
                                                                                            </button>
        
                                                                                            <!-- Dropdown menu -->
                                                                                            @if (activeEventMenuId == companyevent.Id)
                                                                                            {
                                                                                                <!-- Invisible backdrop that covers entire screen -->
                                                                                                <div class="dropdown-backdrop" @onclick="() => ToggleEventMenu(0)"></div>
            
                                                                                                <div class="dropdown-menu show" @onclick:stopPropagation="true">
                                                                                                    <!-- Delete option -->
                                                                                                    <button class="dropdown-item" @onclick="() => { DeleteCompanyEvent(companyevent.Id); ToggleEventMenu(0); }">
                                                                                                        <i class="fas fa-trash me-2" style="color: #f56565;"></i>
                                                                                                        <span>Διαγραφή</span>
                                                                                                    </button>
                
                                                                                                    <!-- View interested students -->
                                                                                                    <button class="dropdown-item" @onclick="() => { ShowInterestedStudentsInCompanyEvent(companyevent.RNGForEventUploadedAsCompany); ToggleEventMenu(0); }">
                                                                                                        <i class="fa-solid fa-graduation-cap me-2" style="color: #63b3ed;"></i>
                                                                                                        <span>Ενδιαφερόμενοι Φοιτητές</span>
                                                                                                    </button>
                
                                                                                                    <!-- View interested professors -->
                                                                                                    <button class="dropdown-item" @onclick="async () => { await ShowInterestedProfessorsInCompanyEvent(companyevent.RNGForEventUploadedAsCompany); ToggleEventMenu(0); }">
                                                                                                        <i class="fa-solid fa-user-tie me-2" style="color: #63b3ed;"></i>
                                                                                                        <span>Ενδιαφερόμενοι Καθηγητές</span>
                                                                                                    </button>
                
                                                                                                    <!-- Status change options -->
                                                                                                    @if (companyevent.CompanyEventStatus == "Δημοσιευμένη")
                                                                                                    {
                                                                                                        <button class="dropdown-item" @onclick='async () => { await ChangeCompanyEventStatus(companyevent.Id, "Μη Δημοσιευμένη"); ToggleEventMenu(0); }'>
                                                                                                            <i class="fas fa-arrow-down text-warning me-2"></i>
                                                                                                            <span>Αποδημοσίευση</span>
                                                                                                        </button>
                                                                                                    }
                                                                                                    else if (companyevent.CompanyEventStatus == "Μη Δημοσιευμένη")
                                                                                                    {
                                                                                                        <button class="dropdown-item" @onclick='async () => { await ChangeCompanyEventStatus(companyevent.Id, "Δημοσιευμένη"); ToggleEventMenu(0); }'>
                                                                                                            <i class="fas fa-arrow-up text-success me-2"></i>
                                                                                                            <span>Δημοσίευση</span>
                                                                                                        </button>
                    
                                                                                                        <!-- Edit option (only for unpublished) -->
                                                                                                        <button class="dropdown-item" @onclick="() => { OpenEditModalForCompanyEvent(companyevent); ToggleEventMenu(0); }">
                                                                                                            <i class="fas fa-pencil-alt text-info me-2"></i>
                                                                                                            <span>Επεξεργασία</span>
                                                                                                        </button>
                                                                                                    }
                                                                                                </div>
                                                                                            }
                                                                                        </div>
    
                                                                                        <!-- Loading Modal for Delete Company Event -->
                                                                                        @if (showLoadingModalForDeleteCompanyEvent)
                                                                                        {
                                                                                            <div class="loading-modal">
                                                                                                <div class="loading-modal-content">
                                                                                                    <div class="loading-spinner"></div>
                                                                                                    <p>Διαγραφή Εκδήλωσης...</p>
                                                                                                    <div class="progress-bar">
                                                                                                        <div class="progress-bar-fill" style="width: @loadingProgress%"></div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        }
                                                                                    </td>
                                                                                </tr>

                                                                                 <!-- Interested Students Section - Connected to the main row -->
                                                                                @if (selectedEventIdForStudents == companyevent.RNGForEventUploadedAsCompany)
                                                                                {
                                                                                    <tr style="background-color: #e8f4f8; border-left: 4px solid #0d6efd;">
                                                                                        <td colspan="@(isBulkEditModeForEvents && FilteredCompanyEvents != null && FilteredCompanyEvents.Any() ? "7" : "6")" style="padding: 0; border: 1px solid #0d6efd;">
                                                                                            <div style="background: linear-gradient(135deg, #e8f4f8 0%, #d1ecf1 100%); padding: 15px; border-radius: 0 0 5px 5px;">
                                                                                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                                                                                    @if (!isLoadingInterestedStudents)
                                                                                                    {
                                                                                                        <span class="badge badge-primary" style="background-color: #0d6efd; padding: 5px 10px; border-radius: 15px;">
                                                                                                            Σύνολο Ενδιαφερόμενων: @InterestedStudents.Count
                                                                                                        </span>
                                                                                                    }
                                                                                                </div>

                                                                                                <!-- Loading State for Students -->
                                                                                                @if (isLoadingInterestedStudents && loadingEventRNG == companyevent.RNGForEventUploadedAsCompany)
                                                                                                {
                                                                                                    <div class="text-center" style="padding: 40px;">
                                                                                                        <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                                                                                                            <span class="sr-only">Φόρτωση...</span>
                                                                                                        </div>
                                                                                                        <p style="color: #0d6efd; font-weight: bold; margin-top: 15px; font-size: 16px;">
                                                                                                            Φόρτωση ενδιαφερόμενων φοιτητών...
                                                                                                        </p>
                                                                                                    </div>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <!-- Download Button - Only show when there are students -->
                                                                                                    @if (InterestedStudents.Any())
                                                                                                    {
                                                                                                        <div style="margin-bottom: 15px;">
                                                                                                            <button class="modern-button" @onclick="DownloadStudentListForInterestInCompanyEventAsCompany">
                                                                                                                <i class="fas fa-download"></i> Λήψη Λίστας Ενδιαφερόμενων Φοιτητών
                                                                                                            </button>
                                                                                                        </div>
                                                                                                    }

                                                                                                    @if (InterestedStudents.Any())
                                                                                                    {
                                                                                                        <div class="table-responsive">
                                                                                                            <table class="table table-striped">
                                                                                                                <thead>
                                                                                                                    <tr style="background-color: #cce7ff; border: 1px solid #0d6efd;">
                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fa-solid fa-user fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                            Ονοματεπώνυμο
                                                                                                                        </th>
                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fa-solid fa-phone fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                            Τηλέφωνο
                                                                                                                        </th>
                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                            Email
                                                                                                                        </th>
                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fa-solid fa-bus fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                            Μεταφορά
                                                                                                                        </th>
                                                                                                                        <th style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fa-solid fa-map-marker-alt fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                            Σημείο Μεταφοράς
                                                                                                                        </th>
                                                                                                                    </tr>
                                                                                                                </thead>
                                                                                                                <tbody>
                                                                                                                @if (studentDataCache == null)
                                                                                                                {
                                                                                                                    <tr>
                                                                                                                        <td colspan="5" class="text-center" style="border: 1px solid #0d6efd;">
                                                                                                                            <div class="spinner-border text-primary" role="status">
                                                                                                                                <span class="sr-only">Φόρτωση...</span>
                                                                                                                            </div>
                                                                                                                            <p>Φόρτωση δεδομένων φοιτητών...</p>
                                                                                                                        </td>
                                                                                                                    </tr>
                                                                                                                }
                                                                                                                else
                                                                                                                {
                                                                                                                    @foreach (var application in InterestedStudents)
                                                                                                                    {
                                                                                                                        var student = studentDataCache.TryGetValue(application.StudentEmailShowInterestForEvent, out var s) ? s : null;
                                                                                                                        <tr>
                                                                                                                            <td style="border: 1px solid #0d6efd;">
                                                                                                                                <a href="#" @onclick="() => ShowStudentDetailsAtCompanyEventInterest(application)" style="color: #0d6efd; text-decoration: none;">
                                                                                                                                    @(student != null ? $"{student.Name} {student.Surname}" : "Δε βρέθηκε")
                                                                                                                                </a>
                                                                                                                            </td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">
                                                                                                                                <i class="fas fa-phone-alt"></i> @(student?.Telephone ?? "-")
                                                                                                                            </td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">
                                                                                                                                <i class="fas fa-envelope"></i> @application.StudentEmailShowInterestForEvent
                                                                                                                            </td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">@application.StudentTransportNeedWhenShowInterestForCompanyEvent</td>
                                                                                                                            <td style="border: 1px solid #0d6efd;">
                                                                                                                                @if (application.StudentTransportNeedWhenShowInterestForCompanyEvent == "Όχι")
                                                                                                                                {
                                                                                                                                    <span> - </span>
                                                                                                                                }
                                                                                                                                else if (!string.IsNullOrEmpty(application.StudentTransportChosenLocationWhenShowInterestForCompanyEvent))
                                                                                                                                {
                                                                                                                                    <div class="d-flex align-items-center">
                                                                                                                                        <i class="fas fa-map-marker-alt text-danger mr-2"></i>
                                                                                                                                        <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(application.StudentTransportChosenLocationWhenShowInterestForCompanyEvent)"
                                                                                                                                           target="_blank"
                                                                                                                                           class="text-primary">
                                                                                                                                            @application.StudentTransportChosenLocationWhenShowInterestForCompanyEvent
                                                                                                                                        </a>
                                                                                                                                    </div>
                                                                                                                                }
                                                                                                                                else
                                                                                                                                {
                                                                                                                                    <span class="text-muted">N/A</span>
                                                                                                                                }
                                                                                                                            </td>
                                                                                                                        </tr>
                                                                                                                    }
                                                                                                                }
                                                                                                                </tbody>
                                                                                                            </table>
                                                                                                        </div>
                                                                                                    }
                                                                                                    else if (!isLoadingInterestedStudents)
                                                                                                    {
                                                                                                        <div class="text-center" style="padding: 20px;">
                                                                                                            <i class="fas fa-users fa-2x" style="color: #6c757d; margin-bottom: 10px;"></i>
                                                                                                            <p style="color: #6c757d; font-weight: bold; margin: 0;">
                                                                                                                Δεν Υπάρχουν Ενδιαφερόμενοι Φοιτητές Ακόμη
                                                                                                            </p>
                                                                                                        </div>
                                                                                                    }
                                                                                                }
                                                                                            </div>
                                                                                        </td>
                                                                                    </tr>
                                                                                }
                                                                                <!-- Interested Professors Section - Connected to the main row -->
                                                                                @if (selectedEventIdForProfessors == companyevent.RNGForEventUploadedAsCompany)
                                                                                {
                                                                                    <tr style="background-color: #e8f4f8; border-left: 4px solid #0d6efd;">
                                                                                        <td colspan="@(isBulkEditModeForEvents && FilteredCompanyEvents != null && FilteredCompanyEvents.Any() ? "7" : "6")" style="padding: 0; border: 1px solid #0d6efd;">
                                                                                            <div style="background: linear-gradient(135deg, #e8f4f8 0%, #d1ecf1 100%); padding: 15px; border-radius: 0 0 5px 5px;">
                                                                                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                                                                                    @if (!isLoadingInterestedProfessors)
                                                                                                    {
                                                                                                        <span class="badge badge-primary" style="background-color: #0d6efd; padding: 5px 10px; border-radius: 15px;">
                                                                                                            Σύνολο Ενδιαφερόμενων: @filteredProfessorInterestForCompanyEvents.Count
                                                                                                        </span>
                                                                                                    }
                                                                                                </div>

                                                                                            <!-- Loading State for Professors -->
                                                                                            @if (isLoadingInterestedProfessors && loadingEventRNGForProfessors == companyevent.RNGForEventUploadedAsCompany)
                                                                                            {
                                                                                                <div class="text-center" style="padding: 40px;">
                                                                                                    <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                                                                                                        <span class="sr-only">Φόρτωση...</span>
                                                                                                    </div>
                                                                                                    <p style="color: #0d6efd; font-weight: bold; margin-top: 15px; font-size: 16px;">
                                                                                                        Φόρτωση ενδιαφερόμενων καθηγητών...
                                                                                                    </p>
                                                                                                </div>
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                <!-- Download Button - Only show when there are professors -->
                                                                                                @if (filteredProfessorInterestForCompanyEvents.Any())
                                                                                                {
                                                                                                    <div style="margin-bottom: 15px;">
                                                                                                        <button class="modern-button" @onclick="DownloadProfessorListForInterestInCompanyEventAsCompany">
                                                                                                            <i class="fas fa-download"></i> Λήψη Λίστας Ενδιαφερόμενων Καθηγητών
                                                                                                        </button>
                                                                                                    </div>
                                                                                                }

                                                                                                @if (filteredProfessorInterestForCompanyEvents.Any())
                                                                                                {
                                                                                                    <div class="table-responsive">
                                                                                                        <table class="table table-striped">
                                                                                                            <thead>
                                                                                                                <tr style="background-color: #cce7ff; border: 1px solid #0d6efd;">
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-user fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Ονοματεπώνυμο
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-phone fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Τηλέφωνο Εργασίας
                                                                                                                    </th>
                                                                                                                    <th style="border: 1px solid #0d6efd;">
                                                                                                                        <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                                                                        Email
                                                                                                                    </th>
                                                                                                                </tr>
                                                                                                            </thead>
                                                                                                            <tbody>
                                                                                                                @foreach (var interest in filteredProfessorInterestForCompanyEvents)
                                                                                                                {
                                                                                                                    var professor = professorDataCache.TryGetValue(interest.ProfessorEmailShowInterestForCompanyEvent, out var p) ? p : null;
                                                                                                                    <tr>
                                                                                                                        <td style="border: 1px solid #0d6efd;">
                                                                                                                            <a href="#" @onclick="() => ShowProfessorDetailsAtCompanyEventInterest(interest)" style="color: #0d6efd; text-decoration: none;">
                                                                                                                                @($"{professor?.ProfName} {professor?.ProfSurname}")
                                                                                                                            </a>
                                                                                                                        </td>
                                                                                                                        <td style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fas fa-phone-alt"></i> @professor?.ProfWorkTelephone
                                                                                                                        </td>
                                                                                                                        <td style="border: 1px solid #0d6efd;">
                                                                                                                            <i class="fas fa-envelope"></i> @interest.ProfessorEmailShowInterestForCompanyEvent
                                                                                                                        </td>
                                                                                                                    </tr>
                                                                                                                }
                                                                                                            </tbody>
                                                                                                        </table>
                                                                                                    </div>
                                                                                                }
                                                                                                else if (!isLoadingInterestedProfessors)
                                                                                                {
                                                                                                    <div class="text-center" style="padding: 20px;">
                                                                                                        <i class="fas fa-user-tie fa-2x" style="color: #6c757d; margin-bottom: 10px;"></i>
                                                                                                        <p style="color: #6c757d; font-weight: bold; margin: 0;">
                                                                                                            Δεν Υπάρχουν Ενδιαφερόμενοι Καθηγητές Ακόμη
                                                                                                        </p>
                                                                                                    </div>
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </td>
                                                                                </tr>
                                                                            }
                                                                        }
                                                                    }
                                                                    else
                                                                    {
                                                                        <tr>
                                                                            <td colspan="@(isBulkEditModeForEvents && FilteredCompanyEvents != null && FilteredCompanyEvents.Any() ? "7" : "6")" class="text-center" style="border: 1px solid black;">
                                                                                <div class="empty-state">
                                                                                    <i class="fas fa-calendar-alt fa-3x mb-3" style="color: #6c757d;"></i>
                                                                                    <h5 style="color: #2d3748; margin-bottom: 10px;">Δεν υπάρχουν Εκδηλώσεις</h5>
                                                                                </div>
                                                                            </td>
                                                                        </tr>
                                                                    }
                                                                </tbody>
                                                            </table>

                                                            @if (FilteredCompanyEvents != null && FilteredCompanyEvents.Any())
                                                            {
                                                                <br/>
                                                                <!-- Pagination Controls -->
                                                                <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                    <!-- First Page (<<) -->
                                                                    <span class="pagination-item @(currentPageForCompanyEvents == 1 ? "disabled" : "")" 
                                                                          @onclick="@(() => GoToFirstPageForCompanyEvents())">
                                                                        &lt;&lt;
                                                                    </span>
            
                                                                    <!-- Previous Page (<) -->
                                                                    <span class="pagination-item @(currentPageForCompanyEvents == 1 ? "disabled" : "")" 
                                                                          @onclick="@(() => PreviousPageForCompanyEvents())">
                                                                        &lt;
                                                                    </span>
            
                                                                    <!-- Page Numbers -->
                                                                    @foreach (var pageNum in GetVisiblePagesForCompanyEvents())
                                                                    {
                                                                        @if (pageNum == -1)
                                                                        {
                                                                            <span class="pagination-ellipsis">...</span>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span class="pagination-item @(pageNum == currentPageForCompanyEvents ? "active" : "")" 
                                                                                  @onclick="@(() => GoToPageForCompanyEvents(pageNum))">
                                                                                @pageNum
                                                                            </span>
                                                                        }
                                                                    }
            
                                                                    <!-- Next Page (>) -->
                                                                    <span class="pagination-item @(currentPageForCompanyEvents == totalPagesForCompanyEvents_CompanyEventsToSee ? "disabled" : "")" 
                                                                          @onclick="@(() => NextPageForCompanyEvents())">
                                                                        &gt;
                                                                    </span>
            
                                                                    <!-- Last Page (>>) -->
                                                                    <span class="pagination-item @(currentPageForCompanyEvents == totalPagesForCompanyEvents_CompanyEventsToSee ? "disabled" : "")" 
                                                                          @onclick="@(() => GoToLastPageForCompanyEvents())">
                                                                        &gt;&gt;
                                                                    </span>
            
                                                                    <!-- Page counter -->
                                                                    <span class="ms-3">Σελίδα @currentPageForCompanyEvents από @totalPagesForCompanyEvents_CompanyEventsToSee</span>
                                                                </div>
                                                                <br/>
                                                                <br/>
                                                            }
                                                        </div>
                                                    </div>
                                                }

                                                <!-- Bulk Action Modal for Events -->
                                                @if (showBulkActionModalForEvents)
                                                {
                                                    <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                        <div class="modal-dialog modal-dialog-centered" role="document">
                                                            <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                    <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                        <i class="fas fa-cogs me-2"></i>Μαζική Επεξεργασία Εκδηλώσεων
                                                                    </h5>
                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                            @onclick="CloseBulkActionModalForEvents"
                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                        <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                    </button>
                                                                </div>
                                                                <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                    <div class="list-group">
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold; color: #2d3748;">Επιλεγμένες Εκδηλώσεις</label>
                                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                                <i class="fas fa-list-check" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                                <span>@selectedEventIds.Count εκδηλώσεις</span>
                                                                            </div>
                                                                        </div>

                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold; color: #2d3748;">Επιλέξτε Ενέργεια</label>
                                                                            <div class="form-control" style="border-radius: 8px; background-color: #f8f9fa; border: none;">
                                                                                <div class="form-check mb-2">
                                                                                    <input class="form-check-input" type="radio" name="bulkActionEvents" 
                                                                                           id="actionStatusEvents" value="status" @onchange="@((e) => bulkActionForEvents = "status")" 
                                                                                           style="cursor: pointer; margin-right: 8px;" />
                                                                                    <label class="form-check-label" for="actionStatusEvents" style="cursor: pointer; color: #2d3748;">
                                                                                        <i class="fas fa-arrows-up-down me-1" style="color: #4682B4;"></i>
                                                                                        Αλλαγή Κατάστασης
                                                                                    </label>
                                                                                </div>
                                                                                <div class="form-check">
                                                                                    <input class="form-check-input" type="radio" name="bulkActionEvents" 
                                                                                           id="actionCopyEvents" value="copy" @onchange="@((e) => bulkActionForEvents = "copy")" 
                                                                                           style="cursor: pointer; margin-right: 8px;" />
                                                                                    <label class="form-check-label" for="actionCopyEvents" style="cursor: pointer; color: #2d3748;">
                                                                                        <i class="fas fa-copy me-1" style="color: #4682B4;"></i>
                                                                                        Αντιγραφή Εκδηλώσεων
                                                                                    </label>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        @if (bulkActionForEvents == "status")
                                                                        {
                                                                            <div class="form-group">
                                                                                <label style="font-weight: bold; color: #2d3748;">Νέα Κατάσταση</label>
                                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; padding: 0;">
                                                                                    <select class="form-select" @bind="newStatusForBulkActionForEvents" style="border: none; background: transparent; box-shadow: none;">
                                                                                        <option value="Δημοσιευμένη">Δημοσιευμένη</option>
                                                                                        <option value="Μη Δημοσιευμένη">Μη Δημοσιευμένη</option>
                                                                                    </select>
                                                                                </div>
                                                                            </div>
                                                                        }
                                                                    </div>
                                                                </div>
                                                                <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                    <button type="button" class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                            @onclick="CloseBulkActionModalForEvents"
                                                                            onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                            onmouseout="this.style.backgroundColor='#6c757d'">
                                                                        <i class="fas fa-times me-1"></i>Ακύρωση
                                                                    </button>
                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                            @onclick="ExecuteBulkActionForEvents" 
                                                                            disabled="@string.IsNullOrEmpty(bulkActionForEvents)"
                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                        <i class="fas fa-play me-1"></i>Εκτέλεση
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }

                                                @if (showModal && selectedStudentToShowDetailsForInterestinCompanyEvent != null && selectedStudentFromCache != null)
                                                {
                                                    <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                            <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                    <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                        @($"{selectedStudentFromCache.Name} {selectedStudentFromCache.Surname}")
                                                                    </h5>
                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                            @onclick="CloseStudentDetailsModal"
                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                        <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                    </button>
                                                                </div>
                                                                <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                    <!-- Profile Picture -->
                                                                    <div class="text-center mb-4">
                                                                        @if (selectedStudentFromCache.Image != null)
                                                                        {
                                                                            <img src="data:image/png;base64,@Convert.ToBase64String(selectedStudentFromCache.Image)" 
                                                                                 alt="Φωτογραφία Φοιτητή" 
                                                                                 style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                        }
                                                                        else
                                                                        {
                                                                            <img src="path/to/default/profile/image.png" 
                                                                                 alt="Default Profile Picture" 
                                                                                 style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                        }
                                                                    </div>

                                                                    <!-- Student Details -->
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Επίπεδο Σπουδών</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-graduation-cap mr-2"></i>
                                                                            <span>@selectedStudentFromCache.LevelOfDegree</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Όνοματεπώνυμο</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-user mr-2 text-primary"></i>
                                                                            <span>@($"{selectedStudentFromCache.Name} {selectedStudentFromCache.Surname}")</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-university mr-2 text-primary"></i>
                                                                            <span>@selectedStudentFromCache.University</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Τμήμα</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-building mr-2"></i>
                                                                            <span>@selectedStudentFromCache.Department</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Αριθμός Μητρώου</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-id-card mr-2 text-info"></i>
                                                                            <span>@selectedStudentFromCache.RegNumber</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Email</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                            <span>@selectedStudentFromCache.Email</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Τηλέφωνο</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-phone mr-2 text-success"></i>
                                                                            <span>@(selectedStudentFromCache.Telephone ?? "N/A")</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Έτος Σπουδών</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-calendar-alt mr-2 text-info"></i>
                                                                            <span>@selectedStudentFromCache.StudyYear</span>
                                                                        </div>
                                                                    </div>

                                                                    <!-- Transport Info from Application -->
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Μεταφορική Ανάγκη για Εκδήλωση</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-bus mr-2"></i>
                                                                            <span>@selectedStudentToShowDetailsForInterestinCompanyEvent.StudentTransportNeedWhenShowInterestForCompanyEvent</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Επιλεγμένη Τοποθεσία Μεταφοράς</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-map-marker-alt mr-2 text-danger"></i>
                                                                            <span>@selectedStudentToShowDetailsForInterestinCompanyEvent.StudentTransportChosenLocationWhenShowInterestForCompanyEvent</span>
                                                                        </div>
                                                                    </div>

                                                                    <!-- Address -->
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Μόνιμη Διεύθυνση</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-map-marker-alt mr-2 text-danger"></i>
                                                                            @if (!string.IsNullOrEmpty(selectedStudentFromCache.PermanentAddress))
                                                                            {
                                                                                <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(selectedStudentFromCache.PermanentAddress)"
                                                                                   target="_blank"
                                                                                   class="text-primary text-decoration-underline">
                                                                                    @selectedStudentFromCache.PermanentAddress
                                                                                </a>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span class="text-muted">N/A</span>
                                                                            }
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Μόνιμη Περιοχή</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-map-marked-alt mr-2"></i>
                                                                            <span>@selectedStudentFromCache.PermanentRegion</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Μόνιμος Τόπος</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-city mr-2"></i>
                                                                            <span>@selectedStudentFromCache.PermanentTown</span>
                                                                        </div>
                                                                    </div>

                                                                    <!-- LinkedIn -->
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">LinkedIn Προφίλ</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fab fa-linkedin mr-2 text-info"></i>
                                                                            @if (!string.IsNullOrEmpty(selectedStudentFromCache.LinkedInProfile))
                                                                            {
                                                                                <a href="@selectedStudentFromCache.LinkedInProfile" target="_blank" class="text-info text-decoration-underline">
                                                                                    @selectedStudentFromCache.LinkedInProfile
                                                                                </a>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span class="text-muted">Δεν έχει οριστεί προφίλ LinkedIn ακόμη..</span>
                                                                            }
                                                                        </div>
                                                                    </div>

                                                                    <!-- Website -->
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Προσωπική Ιστοσελίδα</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-globe mr-2 text-info"></i>
                                                                            @if (!string.IsNullOrEmpty(selectedStudentFromCache.PersonalWebsite))
                                                                            {
                                                                                <a href="@selectedStudentFromCache.PersonalWebsite" target="_blank" class="text-primary text-decoration-underline">
                                                                                    @selectedStudentFromCache.PersonalWebsite
                                                                                </a>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span class="text-muted">Δεν έχει οριστεί ιστοσελίδα ακόμη..</span>
                                                                            }
                                                                        </div>
                                                                    </div>

                                                                    <!-- Expertise -->
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Τομείς Εξειδίκευσης</label>
                                                                        <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedStudentFromCache.AreasOfExpertise</textarea>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Δεξιότητες</label>
                                                                        <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedStudentFromCache.Keywords</textarea>
                                                                    </div>
                                                                </div>

                                                                <div class="modal-footer">
                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                            @onclick="CloseStudentDetailsModal"
                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                        <i class="fas fa-times mr-2"></i> Κλείσιμο
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }

                                                @if (showProfessorModal && selectedProfessorToShowDetailsForInterestinCompanyEvent != null)
                                                {
                                                    <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0,0,0,0.5);">
                                                        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                                                            <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                    <h5 class="modal-title" style="color: #007BFF; font-weight: 600; font-size: 1.25rem;">
                                                                        @selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfName 
                                                                        @selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfSurname
                                                                    </h5>
                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                            @onclick="CloseProfessorDetailsModal"
                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                        <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                    </button>
                                                                </div>
                                                                <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                    <!-- Profile Picture -->
                                                                    <div class="form-group text-center mb-3">
                                                                        @if (selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfImage != null)
                                                                        {
                                                                            <img src="data:image/png;base64,@Convert.ToBase64String(selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfImage)"
                                                                                 alt="Φωτογραφία Καθηγητή"
                                                                                 style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover;" />
                                                                        }
                                                                        else
                                                                        {
                                                                            <p>Δεν υπάρχει φωτογραφία Προφίλ</p>
                                                                        }
                                                                    </div>

                                                                    <!-- Details with Icons -->
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Βαθμίδα</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-user-tie text-secondary me-2"></i>
                                                                            <span>@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfVahmidaDEP</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Email</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-envelope text-primary me-2"></i>
                                                                            <span>@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfEmail</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-university text-primary me-2"></i>
                                                                            <span>@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfUniversity</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Τμήμα</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-building text-secondary me-2"></i>
                                                                            <span>@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfDepartment</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Τηλέφωνο Εργασίας</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-phone-alt text-success me-2"></i>
                                                                            <span>@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfWorkTelephone</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Προσωπικό Τηλέφωνο</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-mobile-alt text-danger me-2"></i>
                                                                            <span>
                                                                                @(selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfPersonalTelephoneVisibility 
                                                                                    ? selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfPersonalTelephone 
                                                                                    : "Μη διαθέσιμο")
                                                                            </span>
                                                                        </div>
                                                                    </div>

                                                                    <!-- Links Section -->
                                                                    @if (!string.IsNullOrWhiteSpace(selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfLinkedInSite))
                                                                    {
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">LinkedIn</label>
                                                                            <a class="form-control text-primary" style="border-radius: 8px; background-color: #f8f9fa; text-decoration: underline;" 
                                                                               href="@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfLinkedInSite" target="_blank">
                                                                                <i class="fab fa-linkedin me-2"></i>
                                                                                @selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfLinkedInSite
                                                                            </a>
                                                                        </div>
                                                                    }

                                                                    @if (!string.IsNullOrWhiteSpace(selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfPersonalWebsite))
                                                                    {
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Προσωπική Ιστοσελίδα</label>
                                                                            <a class="form-control text-primary" style="border-radius: 8px; background-color: #f8f9fa; text-decoration: underline;" 
                                                                               href="@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfPersonalWebsite" target="_blank">
                                                                                <i class="fas fa-globe me-2"></i>
                                                                                @selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfPersonalWebsite
                                                                            </a>
                                                                        </div>
                                                                    }

                                                                    @if (!string.IsNullOrWhiteSpace(selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfScholarProfile))
                                                                    {
                                                                        <div class="form-group">
                                                                            <label style="font-weight: bold;">Scholar</label>
                                                                            <a class="form-control text-primary" style="border-radius: 8px; background-color: #f8f9fa; text-decoration: underline;" 
                                                                               href="@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfScholarProfile" target="_blank">
                                                                                <i class="fas fa-graduation-cap me-2"></i>
                                                                                @selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfScholarProfile
                                                                            </a>
                                                                        </div>
                                                                    }

                                                                    <!-- Professor ORCID Profile -->
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">ORCID Profile</label>
                                                                        <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-id-card" style="color: #A6CE39; margin-right: 8px;"></i>
                                                                            @if (!string.IsNullOrWhiteSpace(selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfOrchidProfile))
                                                                            {
                                                                                <a href="@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfOrchidProfile" target="_blank" class="flex-grow-1 text-truncate" style="text-decoration:none; color:#A6CE39;">
                                                                                    @selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfOrchidProfile
                                                                                </a>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span class="flex-grow-1 text-muted">Δεν Διατίθεται</span>
                                                                            }
                                                                        </div>
                                                                    </div>

                                                                    <!-- Text Areas -->
                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Πεδίο Εργασίας</label>
                                                                        <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly>
                                                                            @(selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfGeneralFieldOfWork ?? "Δεν έχει Καθοριστεί")
                                                                        </textarea>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label style="font-weight: bold;">Προσωπική Περιγραφή</label>
                                                                        <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="3" readonly>@selectedProfessorToShowDetailsForInterestinCompanyEvent.ProfPersonalDescription</textarea>
                                                                    </div>
                                                                </div>

                                                                <div class="modal-footer">
                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                            @onclick="CloseProfessorDetailsModal"
                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                        <i class="fas fa-times mr-2"></i> Κλείσιμο
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }

                                                <!-- Modal for editing company event -->
                                                @if (isEditModalVisibleForEventsAsCompany)
                                                {
                                                    <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                                                            <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                                <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                    <h5 class="modal-title" style="color: #007BFF; font-weight: 600; font-size: 1.25rem;">Επεξεργασία Εκδήλωσης</h5>
                                                                    <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                            @onclick="CloseEditModalForCompanyEvent"
                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                        <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                    </button>
                                                                </div>
                                                                <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                    <!-- Τίτλος Εκδήλωσης -->
                                                                    <div class="form-group">
                                                                        <label><strong>Τίτλος Εκδήλωσης</strong></label>
                                                                        <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentCompanyEvent.CompanyEventTitle" />
                                                                    </div>

                                                                    <!-- Περιγραφή Εκδήλωσης -->
                                                                    <div class="form-group">
                                                                        <label><strong>Περιγραφή Εκδήλωσης</strong></label>
                                                                        <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentCompanyEvent.CompanyEventDescription"></textarea>
                                                                    </div>

                                                                    <!-- Τύπος Εκδήλωσης -->
                                                                    <div class="form-group">
                                                                        <label><strong>Τύπος Εκδήλωσης</strong></label>
                                                                        <select class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentCompanyEvent.CompanyEventType">
                                                                            <option value="">-- Επιλέξτε Τύπο Εκδήλωσης --</option>
                                                                            <option value="Έκθεση">Έκθεση</option>
                                                                            <option value="Hackathon">Hackathon</option>
                                                                            <option value="Career Day">Career Day</option>
                                                                            <option value="Seminar">Σεμινάριο</option>
                                                                            <option value="Επίσκεψη">Επίσκεψη</option>
                                                                            <option value="Άλλο">Άλλο</option>
                                                                        </select>
                                                                    </div>

                                                                    <!-- Υπεύθυνος Εκδήλωσης -->
                                                                    <div class="form-group">
                                                                        <label><strong>Υπεύθυνος Εκδήλωσης</strong></label>
                                                                        <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentCompanyEvent.CompanyEventResponsiblePerson" />
                                                                    </div>

                                                                    <!-- Email Υπευθύνου -->
                                                                    <div class="form-group">
                                                                        <label><strong>Email Υπευθύνου</strong></label>
                                                                        <input type="email" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentCompanyEvent.CompanyEventResponsiblePersonEmail" />
                                                                    </div>

                                                                    <!-- Τηλέφωνο Υπευθύνου -->
                                                                    <div class="form-group">
                                                                        <label><strong>Τηλέφωνο Υπευθύνου</strong></label>
                                                                        <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentCompanyEvent.CompanyEventResponsiblePersonTelephone" />
                                                                    </div>

                                                                    <!-- Τμήμα Εταιρείας -->
                                                                    <div class="form-group">
                                                                        <label><strong>Τμήμα Εταιρείας</strong></label>
                                                                        <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentCompanyEvent.CompanyEventCompanyDepartment" />
                                                                    </div>

                                                                    <!--Περιφέρεια Εκδήλωσης (Region) -->
                                                                    <div class="form-group">
                                                                        <label for="CompanyEventDimosLocation"><strong>Περιφέρεια Εκδήλωσης</strong></label>
                                                                        <select id="CompanyEventPerifereiaLocation" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;"
                                                                                @bind="currentCompanyEvent.CompanyEventPerifereiaLocation"
                                                                                @bind:event="onchange">
                                                                            <option value="">-- Επιλέξτε Περιφέρεια --</option>
                                                                            @foreach (var region in Regions)
                                                                            {
                                                                                <option value="@region">@region</option>
                                                                            }
                                                                        </select>
                                                                    </div>

                                                                    <!-- Δήμος Εκδήλωσης (Town) -->
                                                                    <div class="form-group">
                                                                        <label for="CompanyEventDimosLocation"><strong>Δήμος Εκδήλωσης</strong></label>
                                                                        <select id="CompanyEventDimosLocation" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;"
                                                                                @bind="currentCompanyEvent.CompanyEventDimosLocation">
                                                                            <option value="">-- Επιλέξτε Δήμο --</option>
                                                                            @if (!string.IsNullOrEmpty(currentCompanyEvent.CompanyEventPerifereiaLocation) &&
                                                                                 RegionToTownsMap.ContainsKey(currentCompanyEvent.CompanyEventPerifereiaLocation))
                                                                            {
                                                                                foreach (var town in RegionToTownsMap[currentCompanyEvent.CompanyEventPerifereiaLocation])
                                                                                {
                                                                                    <option value="@town">@town</option>
                                                                                }
                                                                            }
                                                                        </select>
                                                                    </div>

                                                                    <!-- Χώρος Εκδήλωσης -->
                                                                    <div class="form-group">
                                                                        <label><strong>Χώρος Εκδήλωσης</strong></label>
                                                                        <input type="text" id="autocomplete" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentCompanyEvent.CompanyEventPlaceLocation" />
                                                                    </div>

                                                                    <!-- Ταχυδρομικός Κώδικας -->
                                                                    <div class="form-group">
                                                                        <label><strong>Ταχυδρομικός Κώδικας</strong></label>
                                                                        <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentCompanyEvent.CompanyEventPostalCodeLocation" />
                                                                    </div>

                                                                    <!-- Ημερομηνία Εκδήλωσης -->
                                                                    <div class="form-group">
                                                                        <label><strong>Ημερομηνία Εκδήλωσης</strong></label>
                                                                        <input type="date" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentCompanyEvent.CompanyEventActiveDate" />
                                                                    </div>

                                                                    <!-- Ώρα Εκδήλωσης -->
                                                                    <div class="form-group">
                                                                        <label><strong>Ώρα Εκδήλωσης</strong></label>
                                                                        <input type="time" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @bind="currentCompanyEvent.CompanyEventTimeOnly" />
                                                                    </div>

                                                                    <br/>
                                                                    <!-- UPDATED: Areas with Subfields for Events -->
                                                                    <div class="form-group">
                                                                        <label @onclick="ToggleCheckboxesForEditCompanyEvent" style="cursor: pointer; display: flex; align-items: center;">
                                                                            <strong>Περιοχές Ενδιαφέροντος</strong>
                                                                            <span style="color: #1565c0; font-size: 0.9em; margin-left: 8px; display: flex; align-items: center;">
                                                                                <i class="fas @(showCheckboxesForEditCompanyEvent ? "fa-chevron-up" : "fa-chevron-down")" style="margin-right: 4px;"></i>
                                                                                @(showCheckboxesForEditCompanyEvent ? "Κλείσιμο" : "Άνοιγμα")
                                                                            </span>
                                                                        </label>
                                                                        @if (showCheckboxesForEditCompanyEvent)
                                                                        {
                                                                            <div id="toggleCheckboxes" class="checkbox-container">
                                                                                @foreach (var area in Areas)
                                                                                {
                                                                                    <div class="area-container" style="margin-bottom: 8px; border: 2px solid #1565c0; border-radius: 4px; padding: 8px; background-color: #f8f9fa;">
                                                                                        <div class="form-check area-header">
                                                                                            <input type="checkbox"
                                                                                                   id="edit_event_area_@area.Id"
                                                                                                   class="form-check-input"
                                                                                                   @onchange="(e) => OnAreaCheckedChangedForEditCompanyEvent(e, area)"
                                                                                                   checked="@IsAreaSelectedForEditCompanyEvent(area)" />
                                                                                            <label class="form-check-label area-label" 
                                                                                                   for="edit_event_area_@area.Id"
                                                                                                   @onclick="@(() => ToggleSubFieldsForEditCompanyEvent(area))"
                                                                                                   @onclick:stopPropagation="true"
                                                                                                   style="cursor: pointer; font-weight: bold; display: flex; align-items: center; justify-content: space-between; width: 100%; color: #1565c0;">
                                                                                                @area.AreaName
                                                                                                <span class="expand-icon" style="font-size: 10px; transition: transform 0.2s; margin-left: 8px;">▶</span>
                                                                                            </label>
                                                                                        </div>
                                       
                                                                                        @if (ExpandedAreasForEditCompanyEvent.Contains(area.Id))
                                                                                        {
                                                                                            <div class="subfields-container" style="margin-top: 8px; margin-left: 20px; padding-left: 15px; border-left: 2px solid #1565c0;">
                                                                                                @if (!string.IsNullOrEmpty(area.AreaSubFields))
                                                                                                {
                                                                                                    var subFields = area.AreaSubFields.Split(',').Select(s => s.Trim()).ToList();
                                                                                                    @foreach (var subField in subFields)
                                                                                                    {
                                                                                                        <div class="form-check subfield-checkbox" style="margin-bottom: 4px;">
                                                                                                            <input type="checkbox"
                                                                                                                   id="edit_event_subfield_@(area.Id)_@(subField)"
                                                                                                                   class="form-check-input"
                                                                                                                   @onchange="(e) => OnSubFieldCheckedChangedForEditCompanyEvent(e, area, subField)"
                                                                                                                   checked="@IsSubFieldSelectedForEditCompanyEvent(area, subField)" />
                                                                                                            <label class="form-check-label" for="edit_event_subfield_@(area.Id)_@(subField)" style="font-weight: normal; font-size: 0.9em;">
                                                                                                                @subField
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    }
                                                                                                }
                                                                                            </div>
                                                                                        }
                                                                                    </div>
                                                                                }
                                                                            </div>
                                                                        }
                                                                    </div>

                                                                    <br/>
                                                                    <!-- Προσφορά Μεταφοράς προς/από Εκδήλωση -->
                                                                    <div class="form-group">
                                                                        <label><strong>Προσφορά Μεταφοράς προς/από Εκδήλωση</strong></label>
                                                                        <br />
                                                                        <input type="checkbox" @bind="currentCompanyEvent.CompanyEventOfferingTransportToEventLocation" />
                                                                        <span>Παρέχεται μεταφορά προς την εκδήλωση</span>
                                                                    </div>
                                                                    <br/>
                                                                    <!-- Σημεία Εκκίνησης Μεταφοράς (Starting Points for Transport) -->
                                                                    <div class="form-group">
                                                                        <label><strong>Σημεία Εκκίνησης Μεταφοράς</strong></label>
                                                                        <div class="input-group" style="position: relative;">
                                                                            <input type="text" id="autocomplete4" class="form-control mt-2" style="border-radius: 8px; background-color: #f8f9fa;"
                                                                                   @bind="currentCompanyEvent.CompanyEventStartingPointLocationToTransportPeopleToEvent1" 
                                                                                   placeholder="Σημείο Εκκίνησης 1" />
                                                                            @if (!string.IsNullOrEmpty(currentCompanyEvent.CompanyEventStartingPointLocationToTransportPeopleToEvent1))
                                                                            {
                                                                                <button type="button" class="btn-close" @onclick="() => ClearField(1)" style="position: absolute; right: 10px; top: 70%; transform: translateY(-50%);"></button>
                                                                            }
                                                                        </div>
                                                                        <div class="input-group" style="position: relative;">
                                                                            <input type="text" id="autocomplete2" class="form-control mt-2" style="border-radius: 8px; background-color: #f8f9fa;"
                                                                                   @bind="currentCompanyEvent.CompanyEventStartingPointLocationToTransportPeopleToEvent2" 
                                                                                   placeholder="Σημείο Εκκίνησης 2" />
                                                                            @if (!string.IsNullOrEmpty(currentCompanyEvent.CompanyEventStartingPointLocationToTransportPeopleToEvent2))
                                                                            {
                                                                                <button type="button" class="btn-close" @onclick="() => ClearField(2)" style="position: absolute; right: 10px; top: 70%; transform: translateY(-40%);"></button>
                                                                            }
                                                                        </div>
                                                                        <div class="input-group" style="position: relative;">
                                                                            <input type="text" id="autocomplete3" class="form-control mt-2" style="border-radius: 8px; background-color: #f8f9fa;"
                                                                                   @bind="currentCompanyEvent.CompanyEventStartingPointLocationToTransportPeopleToEvent3" 
                                                                                   placeholder="Σημείο Εκκίνησης 3" />
                                                                            @if (!string.IsNullOrEmpty(currentCompanyEvent.CompanyEventStartingPointLocationToTransportPeopleToEvent3))
                                                                            {
                                                                                <button type="button" class="btn-close" @onclick="() => ClearField(3)" style="position: absolute; right: 10px; top: 70%; transform: translateY(-50%);"></button>
                                                                            }
                                                                        </div>
                                                                    </div>

                                                                    <!-- Επισυναπτόμενο Αρχείο -->
                                                                    <div class="form-group">
                                                                        <label><strong>Επισυναπτόμενο Αρχείο</strong></label>
                                                                        <input type="file" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" @onchange="UploadFileToUpdateCompanyEventAttachment" />
                                                                    </div>
                                                                </div>
                                                                <div class="modal-footer">
                                                                    <button class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                            @onclick="() => UpdateCompanyEvent(currentCompanyEvent)"
                                                                            onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                            onmouseout="this.style.backgroundColor='#2d3748'">
                                                                        <i class="fas fa-save me-2"></i> Αποθήκευση
                                                                    </button>
                                                                    <button class="modern-button" style="background-color: #6c757d; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                            @onclick="CloseEditModalForCompanyEvent"
                                                                            onmouseover="this.style.backgroundColor='#5a6268'" 
                                                                            onmouseout="this.style.backgroundColor='#6c757d'">
                                                                        <i class="fas fa-times me-2"></i> Κλείσιμο
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                }


                                                                                            
                                            </div>

<div id="company-events-end"></div>




<div id="company-student-search-start"></div>


                                            <!-- Toggle Search Visibility -->
                                            <div class="tab-pane fade" id="student-search" role="tabpanel" aria-labelledby="student-search-tab">
                                                <div class="mb-3 row-dark-gray mt-4">
                                                    <div class="d-flex justify-content-between align-items-center" @onclick="ToggleCompanySearchStudentVisible" style="cursor: pointer;">
                                                        <label class="form-label" style="color: #FFF8DC;">• Αναζήτηση Φοιτητή •</label>
                                                        <button class="btn btn-link" @onclick="ToggleCompanySearchStudentVisible" @onclick:stopPropagation="true">
                                                            @if (isCompanySearchStudentVisible)
                                                            {
                                                                <span>&#8722;</span> <!-- Minus sign -->
                                                            }
                                                            else
                                                            {
                                                                <span>&#43;</span> <!-- Plus sign -->
                                                            }
                                                        </button>
                                                    </div>
                                                </div>

                                                @if (isCompanySearchStudentVisible)
                                                {
                                                    <!-- Search Form -->
                                                    <div class="row">
                                                        <!-- Name/Surname Field with Autocomplete -->
                                                        <div class="col-md-4 position-relative">
                                                            <label for="searchNameOrSurname" style="font-weight: bold;">Όνομα/Επώνυμο Φοιτητή</label>
                                                            <input 
                                                                type="text" 
                                                                id="searchNameOrSurname"
                                                                class="form-control" 
                                                                placeholder="Αναζήτηση με όνομα ή επώνυμο" 
                                                                @bind="searchNameOrSurname" 
                                                                @oninput="HandleInput" />
    
                                                            <!-- Suggestions Dropdown -->
                                                            <ul class="list-group position-absolute" 
                                                                style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                hidden="@(!nameSurnameSuggestions.Any())">
                                                                @foreach (var suggestion in nameSurnameSuggestions)
                                                                {
                                                                    <li class="list-group-item list-group-item-action" 
                                                                        @onclick="() => SelectNameSurnameSuggestion(suggestion)">
                                                                        @suggestion
                                                                    </li>
                                                                }
                                                            </ul>
                                                        </div>

                                                        <div class="col-md-4">
                                                            <label for="degreeLevel" style="font-weight: bold;">Κατηγορία Σπουδών</label>
                                                            <div class="input-group">
                                                                <select id="degreeLevel" class="form-control" @bind="selectedDegreeLevel">
                                                                    <option value="">-- Επιλέξτε Κατηγορία --</option>
                                                                    @foreach (var degree in DegreeLevel)
                                                                    {
                                                                        <option value="@degree">@degree</option>
                                                                    }
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!-- Registration Number Field -->
                                                        <div class="col-md-4">
                                                            <label for="searchRegNumberAsCompanyToFindStudent" style="font-weight: bold;">Αριθμός Μητρώου</label>
                                                            <input 
                                                                type="text" 
                                                                id="searchRegNumberAsCompanyToFindStudent" 
                                                                class="form-control" 
                                                                placeholder="Αναζήτηση με αριθμό μητρώου" 
                                                                @bind="searchRegNumberAsCompanyToFindStudent" />
                                                        </div>


                                                        <!-- Search Student by School -->
                                                        <div class="col-md-4">
                                                            <label for="searchSchoolAsCompanyToFindStudent" style="font-weight: bold;">Σχολή</label>
                                                            <div class="input-group">
                                                                <select class="form-control" 
                                                                        value="@searchSchoolAsCompanyToFindStudent"
                                                                        @onchange="OnStudentSchoolChanged">
                                                                    <option value=""> - Επιλέξτε Σχολή - </option>
                                                                    @foreach (var school in researchGroupSchools)
                                                                    {
                                                                        <option value="@school">@school</option>
                                                                    }
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!-- Search Student by Department -->
                                                        <div class="col-md-4">
                                                            <label for="searchDepartmentAsCompanyToFindStudent" style="font-weight: bold;">Τμήμα Πανεπιστημίου</label>
                                                            <div class="input-group">
                                                                <select class="form-control" 
                                                                        @bind="searchDepartmentAsCompanyToFindStudent"
                                                                        disabled="@string.IsNullOrEmpty(searchSchoolAsCompanyToFindStudent)">
                                                                    <option value=""> - Επιλέξτε Τμήμα - </option>
                                                                    @if (string.IsNullOrEmpty(searchSchoolAsCompanyToFindStudent))
                                                                    {
                                                                        <!-- Show all departments when no school is selected -->
                                                                        @foreach (var department in GetAllStudentDepartments())
                                                                        {
                                                                            <option value="@department">@department</option>
                                                                        }
                                                                    }
                                                                    else
                                                                    {
                                                                        <!-- Show only departments from selected school -->
                                                                        @foreach (var department in filteredStudentDepartments)
                                                                        {
                                                                            <option value="@department">@department</option>
                                                                        }
                                                                    }
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!-- Internship Status Dropdown -->
                                                        <div class="col-md-4">
                                                            <label for="internshipStatus" style="font-weight: bold;">Κατάσταση Πρακτικής Άσκησης</label>
                                                            <div class="input-group">
                                                                <select id="internshipStatus" class="form-control" @bind="InternshipStatus">
                                                                    <option value="">-- Καμία Επιλογή --</option>
                                                                    <option value="Ενδιαφέρομαι για θέση Πρακτικής Άσκησης">Ενδιαφέρεται για θέση Πρακτικής Άσκησης</option>
                                                                    <option value="Έχω ήδη αναλάβει Πρακτική Άσκηση">Έχει ήδη αναλάβει Πρακτική Άσκηση</option>
                                                                    <option value="Δεν ενδιαφέρομαι για ανάληψη Πρακτικής Άσκησης προς το παρόν">Δεν ενδιαφέρεται για ανάληψη Πρακτικής Άσκησης προς το παρόν</option>
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!-- Thesis Status Dropdown -->
                                                        <div class="col-md-4">
                                                            <label for="thesisStatus" style="font-weight: bold;">Κατάσταση Διπλωματικής Εργασίας</label>
                                                            <div class="input-group">
                                                                <select id="thesisStatus" class="form-control" @bind="ThesisStatus">
                                                                    <option value="">-- Καμία Επιλογή --</option>
                                                                    <option value="Ενδιαφέρομαι για ανάληψη Διπλωματικής Εργασίας">Ενδιαφέρεται για ανάληψη Διπλωματικής Εργασίας</option>
                                                                    <option value="Έχω ήδη αναλάβει Διπλωματικής Εργασία">Έχει ήδη αναλάβει Διπλωματικής Εργασία</option>
                                                                    <option value="Δεν ενδιαφέρομαι για ανάληψη Διπλωματικής Εργασίας προς το παρόν">Δεν ενδιαφέρεται για ανάληψη Διπλωματικής Εργασίας προς το παρόν</option>
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!-- Areas of Expertise Container -->
                                                        <div class="col-md-4 position-relative">
                                                            <label for="searchAreasOfExpertise" style="font-weight: bold;">Περιοχές Εξειδίκευσης</label>
                                                            <input 
                                                                type="text" 
                                                                id="searchAreasOfExpertise"
                                                                class="form-control" 
                                                                placeholder="Αναζήτηση με περιοχές εξειδίκευσης" 
                                                                @bind="searchAreasOfExpertise" 
                                                                @oninput="HandleAreasOfExpertiseInput" />

                                                            <ul class="list-group position-absolute" 
                                                                style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                hidden="@(!areasOfExpertiseSuggestions.Any())">
                                                                @foreach (var suggestion in areasOfExpertiseSuggestions)
                                                                {
                                                                    <li class="list-group-item list-group-item-action" 
                                                                        @onclick="() => SelectAreasOfExpertiseSuggestion(suggestion)">
                                                                        @if (suggestion.Contains(" - "))
                                                                        {
                                                                            var parts = suggestion.Split(new[] { " - " }, StringSplitOptions.None);
                                                                            <div>
                                                                                <span class="text-muted">@parts[0] - </span>
                                                                                <span class="fw-bold">@parts[1]</span>
                                                                            </div>
                                                                        }
                                                                        else
                                                                        {
                                                                            <div>@suggestion</div>
                                                                        }
                                                                    </li>
                                                                }
                                                            </ul>

                                                            <div class="mt-3 selected-areas-container">
                                                                @if (selectedAreasOfExpertise.Any())
                                                                {
                                                                    <ul class="list-group selected-areas-list">
                                                                        @foreach (var area in selectedAreasOfExpertise)
                                                                        {
                                                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                                @if (area.Contains(" - "))
                                                                                {
                                                                                    var parts = area.Split(new[] { " - " }, StringSplitOptions.None);
                                                                                    <span>
                                                                                        <span class="text-muted">@parts[0] - </span>
                                                                                        <span class="fw-bold">@parts[1]</span>
                                                                                    </span>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span>@area</span>
                                                                                }
                                                                                <button class="btn btn-danger btn-sm" @onclick="() => RemoveSelectedAreaOfExpertise(area)">
                                                                                    <i class="fas fa-times"></i>
                                                                                </button>
                                                                            </li>
                                                                        }
                                                                    </ul>
                                                                }
                                                            </div>
                                                        </div>

                                                        <!-- Keywords (Skills) Container -->
                                                        <div class="col-md-4 position-relative">
                                                            <label for="searchKeywords" style="font-weight: bold;">Δεξιότητες</label>
                                                            <input 
                                                                type="text" 
                                                                id="searchKeywords"
                                                                class="form-control" 
                                                                placeholder="Αναζήτηση με λέξεις κλειδιά ή δεξιότητες" 
                                                                @bind="searchKeywords" 
                                                                @oninput="HandleKeywordsInput" />

                                                            <ul class="list-group position-absolute" 
                                                                style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                hidden="@(!keywordsSuggestions.Any())">
                                                                @foreach (var suggestion in keywordsSuggestions)
                                                                {
                                                                    <li class="list-group-item list-group-item-action" 
                                                                        @onclick="() => SelectKeywordsSuggestion(suggestion)">
                                                                        @suggestion
                                                                    </li>
                                                                }
                                                            </ul>

                                                            <div class="mt-3 selected-keywords-container">
                                                                @if (selectedKeywords.Any())
                                                                {
                                                                    <ul class="list-group selected-keywords-list">
                                                                        @foreach (var keyword in selectedKeywords)
                                                                        {
                                                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                                @keyword
                                                                                <button class="btn btn-danger btn-sm" @onclick="() => RemoveKeyword(keyword)">
                                                                                    <i class="fas fa-times"></i>
                                                                                </button>
                                                                            </li>
                                                                        }
                                                                    </ul>
                                                                }
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br/>
                                                    <br/>
                                                    <div class="row mb-3">
                                                        <div class="col-md-12">
                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="SearchStudentsAsCompanyToFindStudent">
                                                                <i class="fa-brands fa-searchengin" style="margin-right: 8px;"></i>Αναζήτηση
                                                            </button>
                                                            <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="ClearSearchFieldsAsCompanyToFindStudent">
                                                                <i class="fa-solid fa-broom" style="margin-right: 8px;"></i>Εκκαθάριση
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <br/>
                                                    <br/>



                                                    @if (searchResultsAsCompanyToFindStudent != null && searchResultsAsCompanyToFindStudent.Any())
                                                    {
                                                        <div class="col-md-2">
                                                            <label style="color: #2d3748; font-weight: bold; font-size: 15px; display: block;">Αποτελέσματα ανά Σελίδα</label>
                                                            <div class="input-group" style="max-width: 65px;">
                                                                <select class="form-control form-control-sm" @onchange="OnPageSizeChange_SearchForStudentsAsCompany" aria-label="Items per page">
                                                                    @foreach (var option in pageSizeOptions_SearchForStudentsAsCompany)
                                                                    {
                                                                        <option value="@option" selected="@(StudentsPerPage_SearchForStudentsAsCompany == option)">@option</option>
                                                                    }
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <table class="table mt-4">
                                                            <thead>
                                                                <tr>
                                                                    <td colspan="8" style="padding: 0;">
                                                                        <div style="display: flex; justify-content: space-between; align-items: center; height: 24px; line-height: 24px; width: 100%;">
                                                                            <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd;"></i>
                                                                            <label class="form-label" style="color: #0d6efd; font-weight: bold; font-size: 18px; margin: 0;">Αποτέλεσμα Αναζήτησης</label>
                                                                            <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd;"></i>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr style="border: 2px solid black; background-color: lightgray;">
                                                                    <th style="border: 2px solid black;">
                                                                        <i class="fa-solid fa-user fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                        Ονοματεπώνυμο
                                                                    </th>
                                                                    <th style="border: 2px solid black;">
                                                                        <i class="fa-solid fa-building fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                        Τμήμα
                                                                    </th>
                                                                    <th style="border: 2px solid black;">
                                                                        <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                        Ηλ. Ταχυδρομείο
                                                                    </th>
                                                                    <th style="border: 2px solid black;">
                                                                        <i class="fa-solid fa-phone fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                        Τηλέφωνο
                                                                    </th>
                                                                    <th style="border: 2px solid black;">
                                                                        <i class="fa-solid fa-file-user fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                        Βιογραφικό
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                @foreach (var student in GetPaginatedStudents_SearchForStudentsAsCompany())
                                                                {
                                                                    <tr>
                                                                        <td>
                                                                            <a href="#" style="text-decoration: none; color: #0d6efd; font-weight: 500;" 
                                                                               @onclick="() => ShowStudentDetailsOnEyeIconWhenSearchForStudentsAsCompany(student)" 
                                                                               title="Αναλυτική Επισκόπηση">
                                                                                @student.Name @student.Surname
                                                                            </a>
                                                                        </td>
                                                                        <td>@student.Department</td>
                                                                        <td>
                                                                            @student.Email
                                                                            <a href="mailto:@student.Email" title="Αποστολή Email">
                                                                                <i class="fas fa-envelope"></i>
                                                                            </a>
                                                                        </td>
                                                                        <td>
                                                                            @(student.PhoneVisibility ? student.Telephone : "Μη Ορατό")
                                                                            <span class="ml-2">
                                                                                <i class="fas fa-phone"></i>
                                                                            </span>
                                                                        </td>
                                                                        <td>
                                                                            @if (student.Attachment != null)
                                                                            {
                                                                                <div class="text-center">
                                                                                    <i class="fas fa-download" 
                                                                                       style="cursor: pointer; font-size: 1.5rem;" 
                                                                                       @onclick="() => DownloadStudentAttachmentAsCompanyInSearchForStudents(student.Id)">
                                                                                    </i>
                                                                                </div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span style="display: block; text-align: center; font-weight: bold; font-style: italic;">
                                                                                        Δεν Διατίθεται
                                                                                </span>
                                                                            }
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            </tbody>
                                                        </table>
                                                        <br/>
                                                        <!-- Pagination Controls -->
                                                        <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                            <!-- First Page (<<) -->
                                                            <span class="pagination-item @(currentPageForStudents_SearchForStudentsAsCompany == 1 ? "disabled" : "")" 
                                                                  @onclick="@(() => GoToFirstPageForStudents_SearchForStudentsAsCompany())">
                                                                &lt;&lt;
                                                            </span>
            
                                                            <!-- Previous Page (<) -->
                                                            <span class="pagination-item @(currentPageForStudents_SearchForStudentsAsCompany == 1 ? "disabled" : "")" 
                                                                  @onclick="@(() => PreviousPageForStudents_SearchForStudentsAsCompany())">
                                                                &lt;
                                                            </span>
            
                                                            <!-- Page Numbers -->
                                                            @foreach (var pageNum in GetVisiblePagesForStudents_SearchForStudentsAsCompany())
                                                            {
                                                                @if (pageNum == -1)
                                                                {
                                                                    <span class="pagination-ellipsis">...</span>
                                                                }
                                                                else
                                                                {
                                                                    <span class="pagination-item @(pageNum == currentPageForStudents_SearchForStudentsAsCompany ? "active" : "")" 
                                                                          @onclick="@(() => GoToPageForStudents_SearchForStudentsAsCompany(pageNum))">
                                                                        @pageNum
                                                                    </span>
                                                                }
                                                            }
            
                                                            <!-- Next Page (>) -->
                                                            <span class="pagination-item @(currentPageForStudents_SearchForStudentsAsCompany == totalPagesForStudents_SearchForStudentsAsCompany ? "disabled" : "")" 
                                                                  @onclick="@(() => NextPageForStudents_SearchForStudentsAsCompany())">
                                                                &gt;
                                                            </span>
            
                                                            <!-- Last Page (>>) -->
                                                            <span class="pagination-item @(currentPageForStudents_SearchForStudentsAsCompany == totalPagesForStudents_SearchForStudentsAsCompany ? "disabled" : "")" 
                                                                  @onclick="@(() => GoToLastPageForStudents_SearchForStudentsAsCompany())">
                                                                &gt;&gt;
                                                            </span>
            
                                                            <!-- Page counter -->
                                                            <span class="ms-3">Σελίδα @currentPageForStudents_SearchForStudentsAsCompany από @totalPagesForStudents_SearchForStudentsAsCompany</span>
                                                        </div>
                                                        <br/>
                                                        <br/>
                                                    }
                                                    else if (searchResultsAsCompanyToFindStudent != null)
                                                    {
                                                        <div class="alert alert-warning d-flex align-items-center" role="alert">
                                                          <i class="fas fa-exclamation-triangle me-2"></i>
                                                          <div>Δεν βρέθηκε κάποιο αποτέλεσμα που να πληρεί τα κριτήρια της Αναζήτησης σας.</div>
                                                        </div>
                                                        <br/>
                                                        <br/>
                                                    }

                                                }
                                            </div>

                                            <!-- Modal for displaying student details FOR SEARCH AS COMPANY -->
                                            @if (showStudentDetailsModalWhenSearchForStudentsAsCompany && selectedStudentWhenSearchForStudentsAsCompany != null)
                                            {
                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                    @selectedStudentWhenSearchForStudentsAsCompany.Name @selectedStudentWhenSearchForStudentsAsCompany.Surname
                                                                </h5>
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                        @onclick="CloseModalStudentDetailsOnEyeIconWhenSearchForStudentsAsCompany"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                </button>
                                                            </div>
                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                <!-- Profile Picture -->
                                                                <div class="text-center mb-4">
                                                                    @if (selectedStudentWhenSearchForStudentsAsCompany.Image != null && selectedStudentWhenSearchForStudentsAsCompany.Image.Length > 0)
                                                                    {
                                                                        var base64Image = Convert.ToBase64String(selectedStudentWhenSearchForStudentsAsCompany.Image);
                                                                        <img src="data:image/jpeg;base64,@base64Image" alt="Φωτογραφία Προφίλ Σπουδαστή" 
                                                                             style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                    }
                                                                    else
                                                                    {
                                                                        <div style="width: 150px; height: 150px; border-radius: 50%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; margin: 0 auto; border: 3px solid #ddd;">
                                                                            <i class="fas fa-user" style="font-size: 3rem; color: #6c757d;"></i>
                                                                        </div>
                                                                    }
                                                                </div>

                                                                <!-- Student Details -->
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Αριθμός Μητρώου</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-id-card mr-2 text-info"></i>
                                                                        <span>@selectedStudentWhenSearchForStudentsAsCompany.RegNumber</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-university mr-2 text-primary"></i>
                                                                        <span>@selectedStudentWhenSearchForStudentsAsCompany.University</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Τμήμα</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-building mr-2"></i>
                                                                        <span>@selectedStudentWhenSearchForStudentsAsCompany.Department</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Επίπεδο Σπουδών</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-graduation-cap mr-2"></i>
                                                                        <span>@selectedStudentWhenSearchForStudentsAsCompany.LevelOfDegree</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Τεχνικές Ικανότητες</label>
                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedStudentWhenSearchForStudentsAsCompany.Keywords</textarea>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Περιοχές Εξειδίκευσης</label>
                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedStudentWhenSearchForStudentsAsCompany.AreasOfExpertise</textarea>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Επικοινωνία</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                        <span>@selectedStudentWhenSearchForStudentsAsCompany.Email</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Τηλέφωνο</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-phone mr-2 text-success"></i>
                                                                        <span>@(selectedStudentWhenSearchForStudentsAsCompany.PhoneVisibility ? selectedStudentWhenSearchForStudentsAsCompany.Telephone : "N/A")</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Περιφέρεια (Μόνιμης Διαμονής)</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-map-marked-alt mr-2"></i>
                                                                        <span>@selectedStudentWhenSearchForStudentsAsCompany.PermanentRegion</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Πόλη (Μόνιμης Διαμονής)</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-city mr-2"></i>
                                                                        <span>@selectedStudentWhenSearchForStudentsAsCompany.PermanentTown</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Διεύθυνση</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-map-marker-alt mr-2 text-danger"></i>
                                                                        @if (!string.IsNullOrEmpty(selectedStudentWhenSearchForStudentsAsCompany.PermanentAddress))
                                                                        {
                                                                            <a href="https://www.google.com/maps/search/?api=1&query=@Uri.EscapeDataString(selectedStudentWhenSearchForStudentsAsCompany.PermanentAddress)"
                                                                               target="_blank"
                                                                               class="text-primary text-decoration-underline">
                                                                                @selectedStudentWhenSearchForStudentsAsCompany.PermanentAddress
                                                                            </a>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span style="color: #6c757d;">Δεν έχει οριστεί διεύθυνση</span>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Προτιμώμενη Περιφέρεια</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-map-marked-alt mr-2"></i>
                                                                        <span>@selectedStudentWhenSearchForStudentsAsCompany.PreferedRegions</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Προτιμώμενη Πόλη</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-map-marker mr-2"></i>
                                                                        <span>@selectedStudentWhenSearchForStudentsAsCompany.PreferredTowns</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Διαθέτει Μέσο Μεταφοράς</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;
                                                                         @(selectedStudentWhenSearchForStudentsAsCompany.Transport == true ? "color: #28a745;" : "color: #dc3545;")">
                                                                        <i class="fas fa-car mr-2"></i>
                                                                        <span>@(selectedStudentWhenSearchForStudentsAsCompany.Transport == true ? "Ναι" : "Όχι")</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Κατάσταση Πρακτικής</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-briefcase mr-2"></i>
                                                                        <span>@selectedStudentWhenSearchForStudentsAsCompany.InternshipStatus</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Κατάσταση Διπλωματικής</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-file-alt mr-2"></i>
                                                                        <span>@selectedStudentWhenSearchForStudentsAsCompany.ThesisStatus</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">LinkedIn Προφίλ</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fab fa-linkedin mr-2" style="color: #0077b5;"></i>
                                                                        @if (!string.IsNullOrEmpty(selectedStudentWhenSearchForStudentsAsCompany.LinkedInProfile))
                                                                        {
                                                                            <a href="@selectedStudentWhenSearchForStudentsAsCompany.LinkedInProfile" target="_blank" 
                                                                               class="text-decoration-underline" style="color: #0077b5;">
                                                                                @selectedStudentWhenSearchForStudentsAsCompany.LinkedInProfile
                                                                            </a>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span style="color: #6c757d;">Δεν έχει οριστεί προφίλ LinkedIn ακόμη..</span>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Προσωπική Ιστοσελίδα</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-globe mr-2 text-info"></i>
                                                                        @if (!string.IsNullOrEmpty(selectedStudentWhenSearchForStudentsAsCompany.PersonalWebsite))
                                                                        {
                                                                            <a href="@selectedStudentWhenSearchForStudentsAsCompany.PersonalWebsite" target="_blank" 
                                                                               class="text-primary text-decoration-underline">
                                                                                @selectedStudentWhenSearchForStudentsAsCompany.PersonalWebsite
                                                                            </a>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span style="color: #6c757d;">Δεν έχει οριστεί ιστοσελίδα ακόμη..</span>
                                                                        }
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                        @onclick="CloseModalStudentDetailsOnEyeIconWhenSearchForStudentsAsCompany"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }


                                        
<div id="company-student-search-end"></div>
 


<div id="company-for-professor-search-tab-start"></div>


                                            <!-- PROFESSOR SEARCH tab content  EDW EMEINA 26/11 FTIAXNW KAI AYTO KAI META NA KANW ELEGXO STA MODALS KAI STA DOWNLOADS-->
                                            <!-- PROFESSOR SEARCH Tab -->
                                            <div class="tab-pane fade" id="professor-search" role="tabpanel" aria-labelledby="professor-search-tab">
                                                <div class="mb-3 row-dark-gray mt-4">
                                                    <div class="d-flex justify-content-between align-items-center" @onclick="ToggleCompanySearchProfessorVisible" style="cursor: pointer;">
                                                        <label class="form-label" style="color: #FFF8DC;">• Αναζήτηση Καθηγητή •</label>
                                                        <button class="btn btn-link" @onclick="ToggleCompanySearchProfessorVisible" @onclick:stopPropagation="true">
                                                            @if (isCompanySearchProfessorVisible)
                                                            {
                                                                <span>&#8722;</span> <!-- Minus sign -->
                                                            }
                                                            else
                                                            {
                                                                <span>&#43;</span> <!-- Plus sign -->
                                                            }
                                                        </button>
                                                    </div>
                                                </div>

                                                @if (isCompanySearchProfessorVisible)
                                                {
                                                    <!-- Search Form -->
                                                    <div class="row mb-3">
                                                        <!-- Search Professor by Name and Surname -->
                                                        <div class="col-md-4 position-relative">
                                                            <label for="searchNameSurnameAsCompanyToFindProfessor" style="font-weight: bold;">Όνοματεπώνυμο Καθηγητή</label>
                                                            <input 
                                                                type="text" 
                                                                id="searchNameSurnameAsCompanyToFindProfessor"
                                                                class="form-control" 
                                                                placeholder="Αναζήτηση με όνομα ή επώνυμο" 
                                                                @bind="searchNameSurnameAsCompanyToFindProfessor" 
                                                                @oninput="HandleProfessorInput" />

                                                            <!-- Suggestions dropdown -->
                                                            <ul class="list-group position-absolute" 
                                                                style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                hidden="@(!professorNameSurnameSuggestions.Any())">
                                                                @foreach (var suggestion in professorNameSurnameSuggestions)
                                                                {
                                                                    <li class="list-group-item list-group-item-action" 
                                                                        @onclick="() => SelectProfessorNameSurnameSuggestion(suggestion)">
                                                                        @suggestion
                                                                    </li>
                                                                }
                                                            </ul>
                                                        </div>

                                                        <!-- Search Professor by School -->
                                                        <div class="col-md-4">
                                                            <label for="searchSchoolAsCompanyToFindProfessor" style="font-weight: bold;">Σχολή</label>
                                                            <div class="input-group">
                                                                <select class="form-control"
                                                                        value="@searchSchoolAsCompanyToFindProfessor"
                                                                        @onchange="HandleProfessorSchoolChanged">
                                                                    <option value=""> - Επιλέξτε Σχολή - </option>
                                                                    @foreach (var school in researchGroupSchools)
                                                                    {
                                                                        <option value="@school">@school</option>
                                                                    }
                                                                </select>

                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!-- Search Professor by Department -->
                                                        <div class="col-md-4">
                                                            <label for="searchDepartmentAsCompanyToFindProfessor" style="font-weight: bold;">Τμήμα Πανεπιστημίου</label>
                                                            <div class="input-group">
                                                                <select class="form-control" 
                                                                        @bind="searchDepartmentAsCompanyToFindProfessor"
                                                                        disabled="@string.IsNullOrEmpty(searchSchoolAsCompanyToFindProfessor)">
                                                                    <option value=""> - Επιλέξτε Τμήμα - </option>
                                                                    @if (string.IsNullOrEmpty(searchSchoolAsCompanyToFindProfessor))
                                                                    {
                                                                        <!-- Show all departments when no school is selected -->
                                                                        @foreach (var department in GetAllProfessorDepartments())
                                                                        {
                                                                            <option value="@department">@department</option>
                                                                        }
                                                                    }
                                                                    else
                                                                    {
                                                                        <!-- Show only departments from selected school -->
                                                                        @foreach (var department in filteredProfessorDepartments)
                                                                        {
                                                                            <option value="@department">@department</option>
                                                                        }
                                                                    }
                                                                </select>
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="fas fa-chevron-down"></i>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <!-- Search Professor by Areas of Interest -->
                                                        <div class="col-md-4 position-relative">
                                                            <label for="searchAreasOfInterestAsCompanyToFindProfessor" style="font-weight: bold;">Περιοχές Ενδιαφέροντος</label>
                                                            <input 
                                                                type="text" 
                                                                id="searchAreasOfInterestAsCompanyToFindProfessor"
                                                                class="form-control" 
                                                                placeholder="Αναζήτηση με περιοχές ενδιαφέροντος" 
                                                                @bind="searchAreasOfInterestAsCompanyToFindProfessor" 
                                                                @oninput="HandleAreasOfInterestInput" />

                                                            <!-- Suggestions dropdown for Areas of Interest -->
                                                            <ul class="list-group position-absolute" 
                                                                style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                                hidden="@(!areasOfInterestSuggestions.Any())">
                                                                @foreach (var suggestion in areasOfInterestSuggestions)
                                                                {
                                                                    <li class="list-group-item list-group-item-action" 
                                                                        @onclick="() => SelectAreasOfInterestSuggestion(suggestion)">
                                                                        @if (suggestion.Contains(" - "))
                                                                        {
                                                                            var parts = suggestion.Split(new[] { " - " }, StringSplitOptions.None);
                                                                            <div>
                                                                                <span class="text-muted">@parts[0] - </span>
                                                                                <span class="fw-bold">@parts[1]</span>
                                                                            </div>
                                                                        }
                                                                        else
                                                                        {
                                                                            <div>@suggestion</div>
                                                                        }
                                                                    </li>
                                                                }
                                                            </ul>

                                                            <!-- Selected Areas of Interest -->
                                                            <div class="mt-3 selected-areas-container">
                                                                @if (selectedAreasOfInterest.Any())
                                                                {
                                                                    <ul class="list-group selected-areas-list">
                                                                        @foreach (var area in selectedAreasOfInterest)
                                                                        {
                                                                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                                @if (area.Contains(" - "))
                                                                                {
                                                                                    var parts = area.Split(new[] { " - " }, StringSplitOptions.None);
                                                                                    <span>
                                                                                        <span class="text-muted">@parts[0] - </span>
                                                                                        <span class="fw-bold">@parts[1]</span>
                                                                                    </span>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <span>@area</span>
                                                                                }
                                                                                <button class="btn btn-danger btn-sm" @onclick="() => RemoveSelectedAreaOfInterest(area)">
                                                                                    <i class="fas fa-times"></i>
                                                                                </button>
                                                                            </li>
                                                                        }
                                                                    </ul>
                                                                }
                                                            </div>
                                                        </div>
                                                        <br/>
                                                        <br/>
                                                        <div class="row mb-3">
                                                            <div class="col-md-12">
                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="SearchProfessorsAsCompanyToFindProfessor">
                                                                    <i class="fa-brands fa-searchengin" style="margin-right: 8px;"></i>Αναζήτηση
                                                                </button>
                                                                <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="ClearSearchFieldsAsCompanyToFindProfessor">
                                                                    <i class="fa-solid fa-broom" style="margin-right: 8px;"></i>Εκκαθάριση
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br/>
                                                    <br/>
                                                    <!-- Results Table -->
                                                    @if (searchResultsAsCompanyToFindProfessor != null && searchResultsAsCompanyToFindProfessor.Any())
                                                    {
                                                        <div class="col-md-2">
                                                            <label style="color: #2d3748; font-weight: bold; font-size: 15px; display: block;">Αποτελέσματα ανά Σελίδα</label>
                                                            <div class="input-group" style="max-width: 65px;">
                                                                    <select class="form-control form-control-sm" @onchange="OnPageSizeChange_SearchForProfessorsAsStudent" aria-label="Items per page">
                                                                        @foreach (var option in pageSizeOptions_SearchForProfessorsAsStudent)
                                                                        {
                                                                            <option value="@option" selected="@(ProfessorsPerPage_SearchForProfessorsAsStudent == option)">@option</option>
                                                                        }
                                                                    </select>
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text">
                                                                            <i class="fas fa-chevron-down"></i>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        <table class="table mt-4">
                                                            <thead>
                                                                <tr>
                                                                    <td colspan="8" style="padding: 0;">
                                                                        <div style="display: flex; justify-content: space-between; align-items: center; height: 24px; line-height: 24px; width: 100%;">
                                                                            <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd;"></i>
                                                                            <label class="form-label" style="color: #0d6efd; font-weight: bold; font-size: 18px; margin: 0;">Αποτέλεσμα Αναζήτησης</label>
                                                                            <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd;"></i>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr style="background-color: lightgray; border: 2px solid black;">
                                                                    <th style="border: 2px solid black;">
                                                                        <i class="fa-solid fa-user fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                        Ονοματεπώνυμο
                                                                    </th>
                                                                    <th style="border: 2px solid black;">
                                                                        <i class="fa-solid fa-building fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                        Τμήμα
                                                                    </th>
                                                                    <th style="border: 2px solid black;">
                                                                        <i class="fa-solid fa-tags fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                        Περιοχές Ενδιαφέροντος
                                                                    </th>
                                                                    <th style="border: 2px solid black;">
                                                                        <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                        Ηλ. Ταχυδρομείο
                                                                    </th>
                                                                    <th style="border: 2px solid black;">
                                                                        <i class="fa-solid fa-phone fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                        Τηλέφωνο
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                @foreach (var professor in GetPaginatedProfessorResults())
                                                                {
                                                                    <tr>
                                                                        <td>
                                                                            <a href="#" style="text-decoration: none; color: #0d6efd; font-weight: 500;" 
                                                                               @onclick="() => ShowProfessorDetailsOnEyeIconWhenSearchForProfessorAsCompany(professor)" 
                                                                               title="Επισκόπηση">
                                                                                @professor.ProfName @professor.ProfSurname
                                                                            </a>
                                                                        </td>
                                                                        <td>@professor.ProfDepartment</td>
                                                                        <td>
                                                                            @string.Join(", ", professor.ProfGeneralFieldOfWork)
                                                                        </td>
                                                                        <td>
                                                                            @professor.ProfEmail
                                                                            <a href="mailto:@professor.ProfEmail" title="Αποστολή Email">
                                                                                <i class="fas fa-envelope"></i>
                                                                            </a>
                                                                        </td>
                                                                        <td>@(professor.ProfPersonalTelephoneVisibility ? professor.ProfPersonalTelephone : "N/A")
                                                                            <span class="ml-2">
                                                                                <i class="fas fa-phone"></i>
                                                                            </span>
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            </tbody>
                                                        </table>
                                                        <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                        <!-- First Page (<<) -->
                                                        <span class="pagination-item @(currentProfessorPage_SearchForProfessorsAsStudent == 1 ? "disabled" : "")" 
                                                              @onclick="@(() => GoToFirstProfessorPage())">
                                                            &lt;&lt;
                                                        </span>

                                                        <!-- Previous Page (<) -->
                                                        <span class="pagination-item @(currentProfessorPage_SearchForProfessorsAsStudent == 1 ? "disabled" : "")" 
                                                              @onclick="@(() => PreviousProfessorPage())">
                                                            &lt;
                                                        </span>

                                                        <!-- Page Numbers -->
                                                        @foreach (var pageNum in GetVisibleProfessorPages())
                                                        {
                                                            @if (pageNum == -1)
                                                            {
                                                                <span class="pagination-ellipsis">...</span>
                                                            }
                                                            else
                                                            {
                                                                <span class="pagination-item @(pageNum == currentProfessorPage_SearchForProfessorsAsStudent ? "active" : "")" 
                                                                      @onclick="@(() => GoToProfessorPage(pageNum))">
                                                                    @pageNum
                                                                </span>
                                                            }
                                                        }

                                                        <!-- Next Page (>) -->
                                                        <span class="pagination-item @(currentProfessorPage_SearchForProfessorsAsStudent == totalProfessorPages_SearchForProfessorsAsStudent ? "disabled" : "")" 
                                                              @onclick="@(() => NextProfessorPage())">
                                                            &gt;
                                                        </span>

                                                        <!-- Last Page (>>) -->
                                                        <span class="pagination-item @(currentProfessorPage_SearchForProfessorsAsStudent == totalProfessorPages_SearchForProfessorsAsStudent ? "disabled" : "")" 
                                                              @onclick="@(() => GoToLastProfessorPage())">
                                                            &gt;&gt;
                                                        </span>

                                                        <!-- Page counter -->
                                                        <span class="ms-3">Σελίδα @currentProfessorPage_SearchForProfessorsAsStudent από @totalProfessorPages_SearchForProfessorsAsStudent</span>
                                                    </div>
                                                    }
                                                    else if (searchResultsAsCompanyToFindProfessor != null)
                                                    {
                                                        <div class="alert alert-warning d-flex align-items-center" role="alert">
                                                          <i class="fas fa-exclamation-triangle me-2"></i>
                                                          <div>Δεν βρέθηκε κάποιο αποτέλεσμα που να πληρεί τα κριτήρια της Αναζήτησης σας.</div>
                                                        </div>
                                                    }
                                                }

                                            </div>

                                            <!-- Modal for displaying professor details FOR SEARCH AS COMPANY -->
                                            @if (showProfessorDetailsModalWhenSearchForProfessorsAsCompany && selectedProfessorWhenSearchForProfessorsAsCompany != null)
                                            {
                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                    @selectedProfessorWhenSearchForProfessorsAsCompany.ProfName @selectedProfessorWhenSearchForProfessorsAsCompany.ProfSurname
                                                                </h5>
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                        @onclick="CloseModalProfessorDetailsOnEyeIconWhenSearchForProfessorsAsCompany"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                </button>
                                                            </div>
                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                <!-- Profile Picture -->
                                                                <div class="text-center mb-4">
                                                                    @if (selectedProfessorWhenSearchForProfessorsAsCompany.ProfImage != null && selectedProfessorWhenSearchForProfessorsAsCompany.ProfImage.Length > 0)
                                                                    {
                                                                        var base64Image = Convert.ToBase64String(selectedProfessorWhenSearchForProfessorsAsCompany.ProfImage);
                                                                        <img src="data:image/jpeg;base64,@base64Image" alt="Φωτογραφία Προφίλ Καθηγητή" 
                                                                             style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                                    }
                                                                    else
                                                                    {
                                                                        <div style="width: 150px; height: 150px; border-radius: 50%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; margin: 0 auto; border: 3px solid #ddd;">
                                                                            <i class="fas fa-user-tie" style="font-size: 3rem; color: #6c757d;"></i>
                                                                        </div>
                                                                    }
                                                                </div>

                                                                <!-- Professor Email -->
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Email</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                        <span>@selectedProfessorWhenSearchForProfessorsAsCompany.ProfEmail</span>
                                                                    </div>
                                                                </div>

                                                                <!-- Professor University and Department -->
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Πανεπιστήμιο</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-university mr-2 text-primary"></i>
                                                                        <span>@selectedProfessorWhenSearchForProfessorsAsCompany.ProfUniversity</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Τμήμα</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-building mr-2"></i>
                                                                        <span>@selectedProfessorWhenSearchForProfessorsAsCompany.ProfDepartment</span>
                                                                    </div>
                                                                </div>

                                                                <!-- Professor Vahmida Department -->
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Βαθμίδα ΔΕΠ</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-user-tie mr-2"></i>
                                                                        <span>@selectedProfessorWhenSearchForProfessorsAsCompany.ProfVahmidaDEP</span>
                                                                    </div>
                                                                </div>

                                                                <!-- Professor Work and Personal Telephone -->
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Τηλέφωνο Εργασίας</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-phone mr-2 text-success"></i>
                                                                        <span>@selectedProfessorWhenSearchForProfessorsAsCompany.ProfWorkTelephone</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Προσωπικό Τηλέφωνο</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-phone mr-2 text-success"></i>
                                                                        @if (selectedProfessorWhenSearchForProfessorsAsCompany.ProfPersonalTelephoneVisibility)
                                                                        {
                                                                            <span>@selectedProfessorWhenSearchForProfessorsAsCompany.ProfPersonalTelephone</span>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span style="color: #6c757d;">Δεν Διατίθεται</span>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <!-- Professor Personal Website -->
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Ιστότοπος</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-globe mr-2 text-info"></i>
                                                                        @if (!string.IsNullOrWhiteSpace(selectedProfessorWhenSearchForProfessorsAsCompany.ProfPersonalWebsite))
                                                                        {
                                                                            <a href="@selectedProfessorWhenSearchForProfessorsAsCompany.ProfPersonalWebsite" target="_blank" 
                                                                               class="text-primary text-decoration-underline">
                                                                                @selectedProfessorWhenSearchForProfessorsAsCompany.ProfPersonalWebsite
                                                                            </a>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span style="color: #6c757d;">Δεν Διατίθεται</span>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <!-- Professor LinkedIn Site -->
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">LinkedIn</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fab fa-linkedin mr-2" style="color: #0A66C2;"></i>
                                                                        @if (!string.IsNullOrWhiteSpace(selectedProfessorWhenSearchForProfessorsAsCompany.ProfLinkedInSite))
                                                                        {
                                                                            <a href="@selectedProfessorWhenSearchForProfessorsAsCompany.ProfLinkedInSite" target="_blank" 
                                                                               class="text-decoration-underline" style="color: #0A66C2;">
                                                                                @selectedProfessorWhenSearchForProfessorsAsCompany.ProfLinkedInSite
                                                                            </a>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span style="color: #6c757d;">Δεν Διατίθεται</span>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <!-- Professor Scholar Profile -->
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Scholar Profile</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-graduation-cap mr-2" style="color: #4285F4;"></i>
                                                                        @if (!string.IsNullOrWhiteSpace(selectedProfessorWhenSearchForProfessorsAsCompany.ProfScholarProfile))
                                                                        {
                                                                            <a href="@selectedProfessorWhenSearchForProfessorsAsCompany.ProfScholarProfile" target="_blank" 
                                                                               class="text-decoration-underline" style="color: #4285F4;">
                                                                                @selectedProfessorWhenSearchForProfessorsAsCompany.ProfScholarProfile
                                                                            </a>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span style="color: #6c757d;">Δεν Διατίθεται</span>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <!-- Professor ORCID Profile -->
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">ORCID Profile</label>
                                                                    <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-id-card mr-2" style="color: #A6CE39;"></i>
                                                                        @if (!string.IsNullOrWhiteSpace(selectedProfessorWhenSearchForProfessorsAsCompany.ProfOrchidProfile))
                                                                        {
                                                                            <a href="@selectedProfessorWhenSearchForProfessorsAsCompany.ProfOrchidProfile" target="_blank" 
                                                                               class="text-decoration-underline" style="color: #A6CE39;">
                                                                                @selectedProfessorWhenSearchForProfessorsAsCompany.ProfOrchidProfile
                                                                            </a>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span style="color: #6c757d;">Δεν Διατίθεται</span>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <!-- Professor General Field of Work (Areas) -->
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Γενικός Τομέας Εργασίας</label>
                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedProfessorWhenSearchForProfessorsAsCompany.ProfGeneralFieldOfWork</textarea>
                                                                </div>

                                                                <!-- Professor General Skills -->
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Γενικές Δεξιότητες</label>
                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedProfessorWhenSearchForProfessorsAsCompany.ProfGeneralSkills</textarea>
                                                                </div>

                                                                <!-- Professor Personal Description -->
                                                                <div class="form-group">
                                                                    <label style="font-weight: bold;">Προσωπική Περιγραφή</label>
                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="4">@selectedProfessorWhenSearchForProfessorsAsCompany.ProfPersonalDescription</textarea>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                        @onclick="CloseModalProfessorDetailsOnEyeIconWhenSearchForProfessorsAsCompany"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }
                                        </div>
                                    </div>

                                    @*SEARCH RESEARCH GROUP AS COMPANY - START - *@
                                    <div class="tab-pane fade" id="researchgroup-search" role="tabpanel" aria-labelledby="researchgroup-search-tab">
                                        <div class="mb-3 row-dark-gray mt-4">
                                            <div class="d-flex justify-content-between align-items-center" @onclick="ToggleCompanySearchResearchGroupVisible" style="cursor: pointer;">
                                                <label class="form-label" style="color: #FFF8DC;">• Αναζήτηση Ερευνητικής Ομάδας •</label>
                                                <button class="btn btn-link" @onclick="ToggleCompanySearchResearchGroupVisible" @onclick:stopPropagation="true">
                                                    @if (isCompanySearchResearchGroupVisible)
                                                    {
                                                        <span>&#8722;</span> <!-- Minus sign -->
                                                    }
                                                    else
                                                    {
                                                        <span>&#43;</span> <!-- Plus sign -->
                                                    }
                                                </button>
                                            </div>
                                        </div>

                                        @if (isCompanySearchResearchGroupVisible)
                                        {
                                            <!-- Search Form -->
                                            <div class="row mb-3">
                                                <!-- Search Research Group by Name -->
                                                <div class="col-md-4 position-relative">
                                                    <label for="searchResearchGroupNameAsCompanyToFindResearchGroup" style="font-weight: bold;">Όνομα Ερευνητικής Ομάδας</label>
                                                    <input 
                                                        type="text" 
                                                        id="searchResearchGroupNameAsCompanyToFindResearchGroup"
                                                        class="form-control" 
                                                        placeholder="Αναζήτηση με όνομα ομάδας" 
                                                        @bind="searchResearchGroupNameAsCompanyToFindResearchGroup" 
                                                        @oninput="HandleResearchGroupNameInput" />

                                                    <!-- Suggestions dropdown -->
                                                    <ul class="list-group position-absolute" 
                                                        style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                        hidden="@(!researchgroupNameSuggestions.Any())">
                                                        @foreach (var suggestion in researchgroupNameSuggestions)
                                                        {
                                                            <li class="list-group-item list-group-item-action" 
                                                                @onclick="() => SelectResearchGroupNameSuggestion(suggestion)">
                                                                @suggestion
                                                            </li>
                                                        }
                                                    </ul>
                                                </div>
                                                <!-- Search Research Group by School -->
                                                <div class="col-md-4">
                                                    <label for="searchResearchGroupSchoolAsCompanyToFindResearchGroup" style="font-weight: bold;">Σχολή</label>
                                                    <div class="input-group">
                                                        <select class="form-control" 
                                                                value="@searchResearchGroupSchoolAsCompanyToFindResearchGroup"
                                                                @onchange="OnSchoolSelectionChanged">
                                                            <option value=""> - Επιλέξτε Σχολή - </option>
                                                            @foreach (var school in researchGroupSchools)
                                                            {
                                                                <option value="@school">@school</option>
                                                            }
                                                        </select>
                                                        <div class="input-group-append">
                                                            <span class="input-group-text">
                                                                <i class="fas fa-chevron-down"></i>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Search Research Group by University Department -->
                                                <div class="col-md-4">
                                                    <label for="searchResearchGroupUniversityDepartmentAsCompanyToFindResearchGroup" style="font-weight: bold;">Τμήμα Πανεπιστημίου</label>
                                                    <div class="input-group">
                                                        <select class="form-control" 
                                                                @bind="searchResearchGroupUniversityDepartmentAsCompanyToFindResearchGroup"
                                                                disabled="@string.IsNullOrEmpty(searchResearchGroupSchoolAsCompanyToFindResearchGroup)">
                                                            <option value=""> - Επιλέξτε Τμήμα - </option>
                                                            @if (!string.IsNullOrEmpty(searchResearchGroupSchoolAsCompanyToFindResearchGroup))
                                                            {
                                                                @foreach (var department in filteredDepartments)
                                                                {
                                                                    <option value="@department">@department</option>
                                                                }
                                                            }
                                                        </select>
                                                        <div class="input-group-append">
                                                            <span class="input-group-text">
                                                                <i class="fas fa-chevron-down"></i>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Search Research Group by Areas -->
                                                <div class="col-md-4 position-relative mt-3">
                                                    <label for="searchResearchGroupAreasAsCompanyToFindResearchGroup" style="font-weight: bold;">Περιοχές Έρευνας</label>
                                                    <input 
                                                        type="text" 
                                                        id="searchResearchGroupAreasAsCompanyToFindResearchGroup"
                                                        class="form-control" 
                                                        placeholder="Αναζήτηση με περιοχές έρευνας" 
                                                        @bind="searchResearchGroupAreasAsCompanyToFindResearchGroup" 
                                                        @oninput="HandleResearchGroupAreasInput"
                                                        @onkeydown="HandleResearchGroupAreasKeyDown" />

                                                    <!-- Suggestions dropdown for Research Areas -->
                                                    <ul class="list-group position-absolute" 
                                                        style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                        hidden="@(!researchGroupAreasSuggestions.Any())">
                                                        @foreach (var suggestion in researchGroupAreasSuggestions)
                                                        {
                                                            <li class="list-group-item list-group-item-action" 
                                                                @onclick="() => SelectResearchGroupAreasSuggestion(suggestion)">
                                                                @if (suggestion.Contains(" - "))
                                                                {
                                                                    var parts = suggestion.Split(new[] { " - " }, StringSplitOptions.None);
                                                                    <div>
                                                                        <span class="text-muted">@parts[0] - </span>
                                                                        <span class="fw-bold">@parts[1]</span>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div>@suggestion</div>
                                                                }
                                                            </li>
                                                        }
                                                    </ul>

                                                    <!-- Selected Research Areas -->
                                                    <div class="mt-3 selected-areas-container">
                                                        @if (selectedResearchGroupAreas.Any())
                                                        {
                                                            <ul class="list-group selected-areas-list">
                                                                @foreach (var area in selectedResearchGroupAreas)
                                                                {
                                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                        @if (area.Contains(" - "))
                                                                        {
                                                                            var parts = area.Split(new[] { " - " }, StringSplitOptions.None);
                                                                            <span>
                                                                                <span class="text-muted">@parts[0] - </span>
                                                                                <span class="fw-bold">@parts[1]</span>
                                                                            </span>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>@area</span>
                                                                        }
                                                                        <button class="btn btn-danger btn-sm" @onclick="() => RemoveSelectedResearchGroupArea(area)">
                                                                            <i class="fas fa-times"></i>
                                                                        </button>
                                                                    </li>
                                                                }
                                                            </ul>
                                                        }
                                                    </div>
                                                </div>

                                                <!-- Search Research Group by Skills -->
                                                <div class="col-md-4 position-relative mt-3">
                                                    <label for="searchResearchGroupSkillsAsCompanyToFindResearchGroup" style="font-weight: bold;">Τεχνολογίες</label>
                                                    <input 
                                                        type="text" 
                                                        id="searchResearchGroupSkillsAsCompanyToFindResearchGroup"
                                                        class="form-control" 
                                                        placeholder="Αναζήτηση με δεξιότητες" 
                                                        @bind="searchResearchGroupSkillsAsCompanyToFindResearchGroup" 
                                                        @oninput="HandleResearchGroupSkillsInput"
                                                        @onkeydown="HandleResearchGroupSkillsKeyDown" />

                                                    <!-- Suggestions dropdown for Research Skills -->
                                                    <ul class="list-group position-absolute" 
                                                        style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                        hidden="@(!researchGroupSkillsSuggestions.Any())">
                                                        @foreach (var suggestion in researchGroupSkillsSuggestions)
                                                        {
                                                            <li class="list-group-item list-group-item-action" 
                                                                @onclick="() => SelectResearchGroupSkillsSuggestion(suggestion)">
                                                                @suggestion
                                                            </li>
                                                        }
                                                    </ul>

                                                    <!-- Selected Research Skills -->
                                                    <div class="mt-3 selected-skills-container">
                                                        @if (selectedResearchGroupSkills.Any())
                                                        {
                                                            <ul class="list-group selected-skills-list">
                                                                @foreach (var skill in selectedResearchGroupSkills)
                                                                {
                                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                        @skill
                                                                        <button class="btn btn-danger btn-sm" @onclick="() => RemoveSelectedResearchGroupSkill(skill)">
                                                                            <i class="fas fa-times"></i>
                                                                        </button>
                                                                    </li>
                                                                } 
                                                            </ul>
                                                        }
                                                    </div>
                                                </div>

                                                <!-- Search Research Group by Keywords -->
                                                <div class="col-md-4 position-relative mt-3">
                                                    <label for="searchResearchGroupKeywordsAsCompanyToFindResearchGroup" style="font-weight: bold;">Λέξεις Κλειδιά</label>
                                                    <input 
                                                        type="text" 
                                                        id="searchResearchGroupKeywordsAsCompanyToFindResearchGroup"
                                                        class="form-control" 
                                                        placeholder="Αναζήτηση με λέξεις κλειδιά" 
                                                        @bind="searchResearchGroupKeywordsAsCompanyToFindResearchGroup" />
                                                </div>
                                                <br/>
                                                <br/>
                                                <div class="row mb-3">
                                                    <div class="col-md-12">
                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="SearchResearchGroupsAsCompany">
                                                            <i class="fa-brands fa-searchengin" style="margin-right: 8px;"></i>Αναζήτηση
                                                        </button>
                                                        <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="ClearSearchFieldsAsCompanyToFindResearchGroup">
                                                            <i class="fa-solid fa-broom" style="margin-right: 8px;"></i>Εκκαθάριση
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <br/>
                                            <br/>
                                            <!-- Results Table -->
                                            @if (hasSearchedForResearchGroups && searchResultsAsCompanyToFindResearchGroup != null)
                                            {
                                                if (searchResultsAsCompanyToFindResearchGroup.Any())
                                                {
                                                    <div class="col-md-2">
                                                        <label style="color: #2d3748; font-weight: bold; font-size: 15px; display: block;">Αποτελέσματα ανά Σελίδα</label>
                                                        <div class="input-group" style="max-width: 65px;">
                                                            <select class="form-control form-control-sm" @onchange="OnPageSizeChange_SearchForResearchGroupsAsCompany" aria-label="Items per page">
                                                                @foreach (var option in pageSizeOptions_SearchForResearchGroupsAsCompany)
                                                                {
                                                                    <option value="@option" selected="@(ResearchGroupsPerPage_SearchForResearchGroupsAsCompany == option)">@option</option>
                                                                }
                                                            </select>
                                                            <div class="input-group-append">
                                                                <span class="input-group-text">
                                                                    <i class="fas fa-chevron-down"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <table class="table mt-4">
                                                        <thead>
                                                            <tr>
                                                                <td colspan="9" style="padding: 0;">
                                                                    <div style="display: flex; justify-content: space-between; align-items: center; height: 24px; line-height: 24px; width: 100%;">
                                                                        <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd;"></i>
                                                                        <label class="form-label" style="color: #0d6efd; font-weight: bold; font-size: 18px; margin: 0;">Αποτέλεσμα Αναζήτησης</label>
                                                                        <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd;"></i>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr style="background-color: lightgray; border: 2px solid black;">
                                                                <th style="border: 2px solid black;">
                                                                    <i class="fa-solid fa-users fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                    Όνομα Ομάδας
                                                                </th>
                                                                <th style="border: 2px solid black;">
                                                                    <i class="fa-solid fa-globe fa-sm" style="color: #0d6efd; margin-right: 8px;"></i>
                                                                    Ιστοσελίδα Ομάδας
                                                                </th>
                                                                <th style="border: 2px solid black;">
                                                                    <i class="fa-solid fa-building fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                    Σχολή
                                                                </th>
                                                                <th style="border: 2px solid black;">
                                                                    <i class="fa-solid fa-building fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                    Τμήμα
                                                                </th>
                                                                <th style="border: 2px solid black;">
                                                                    <i class="fa-solid fa-tags fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                    Περιοχές Έρευνας
                                                                </th>
                                                                <th style="border: 2px solid black;">
                                                                    <i class="fa-solid fa-tools fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                    Τεχνολογίες
                                                                </th>
                                                                <th style="border: 2px solid black;">
                                                                    <i class="fa-solid fa-key fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                    Λέξεις Κλειδιά
                                                                </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @foreach (var researchGroup in GetPaginatedResearchGroupResults())
                                                            {
                                                                <tr>
                                                                    <td style="font-weight: 500;">
                                                                        <!-- Modal View -->
                                                                        <a href="#" style="text-decoration: none; color: #0d6efd;" 
                                                                           @onclick="() => ShowResearchGroupDetailsModal(researchGroup)" 
                                                                           title="Γρήγορη Επισκόπηση">
                                                                            @researchGroup.ResearchGroupName
                                                                        </a>
                                                                    </td>
                                                                    <td>
                                                                        <a href="/researchGroupDetails?id=@researchGroup.ResearchGroup_UniqueID" 
                                                                           target="_blank"
                                                                           rel="noopener noreferrer"
                                                                           title="Πλήρης Προβολή σε Νέα Σελίδα"
                                                                           style="text-decoration: none; color: #28a745;">
                                                                            <i class="fas fa-external-link-alt me-1"></i>
                                                                            Ιστοσελίδα
                                                                        </a>
                                                                    </td>
                                                                    <td>@researchGroup.ResearchGroupSchool</td>
                                                                    <td>@researchGroup.ResearchGroupUniversityDepartment</td>
                                                                    <td>
                                                                        @string.Join(", ", researchGroup.ResearchGroupAreas)
                                                                    </td>
                                                                    <td>
                                                                        @string.Join(", ", researchGroup.ResearchGroupSkills)
                                                                    </td>
                                                                    <td>
                                                                        @string.Join(", ", researchGroup.ResearchGroupKeywords)
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                    <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                        <!-- First Page (<<) -->
                                                        <span class="pagination-item @(currentResearchGroupPage_SearchForResearchGroupsAsCompany == 1 ? "disabled" : "")" 
                                                              @onclick="@(() => GoToFirstResearchGroupPage())">
                                                            &lt;&lt;
                                                        </span>

                                                        <!-- Previous Page (<) -->
                                                        <span class="pagination-item @(currentResearchGroupPage_SearchForResearchGroupsAsCompany == 1 ? "disabled" : "")" 
                                                              @onclick="@(() => PreviousResearchGroupPage())">
                                                            &lt;
                                                        </span>

                                                        <!-- Page Numbers -->
                                                        @foreach (var pageNum in GetVisibleResearchGroupPages())
                                                        {
                                                            @if (pageNum == -1)
                                                            {
                                                                <span class="pagination-ellipsis">...</span>
                                                            }
                                                            else
                                                            {
                                                                <span class="pagination-item @(pageNum == currentResearchGroupPage_SearchForResearchGroupsAsCompany ? "active" : "")" 
                                                                      @onclick="@(() => GoToResearchGroupPage(pageNum))">
                                                                    @pageNum
                                                                </span>
                                                            }
                                                        }

                                                        <!-- Next Page (>) -->
                                                        <span class="pagination-item @(currentResearchGroupPage_SearchForResearchGroupsAsCompany == totalResearchGroupPages_SearchForResearchGroupsAsCompany ? "disabled" : "")" 
                                                              @onclick="@(() => NextResearchGroupPage())">
                                                            &gt;
                                                        </span>

                                                        <!-- Last Page (>>) -->
                                                        <span class="pagination-item @(currentResearchGroupPage_SearchForResearchGroupsAsCompany == totalResearchGroupPages_SearchForResearchGroupsAsCompany ? "disabled" : "")" 
                                                              @onclick="@(() => GoToLastResearchGroupPage())">
                                                            &gt;&gt;
                                                        </span>

                                                        <!-- Page counter -->
                                                        <span class="ms-3">Σελίδα @currentResearchGroupPage_SearchForResearchGroupsAsCompany από @totalResearchGroupPages_SearchForResearchGroupsAsCompany</span>
                                                    </div>
                                                }
                                                else
                                                {
                                                    <div class="alert alert-warning d-flex align-items-center" role="alert">
                                                      <i class="fas fa-exclamation-triangle me-2"></i>
                                                      <div>Δεν βρέθηκε κάποιο αποτέλεσμα που να πληρεί τα κριτήρια της Αναζήτησης σας.</div>
                                                    </div>
                                                }
                                            }
                                        }
                                    </div>
                                    @*SEARCH RESEARCH GROUP AS COMPANY - END - *@
                                    <!-- Modal for displaying research group details FOR SEARCH AS COMPANY -->
                                    @if (showResearchGroupDetailsModalWhenSearchForResearchGroupsAsCompany && selectedResearchGroupWhenSearchForResearchGroupsAsCompany != null)
                                    {
                                        <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                        <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                            @selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroupName
                                                        </h5>
                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                @onclick="CloseModalResearchGroupDetailsOnEyeIconWhenSearchForResearchGroupsAsCompany"
                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                        </button>
                                                    </div>
                                                    <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                        <!-- Research Group Logo -->
                                                        <div class="text-center mb-4">
                                                            @if (selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroupImage != null && selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroupImage.Length > 0)
                                                            {
                                                                var base64Image = Convert.ToBase64String(selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroupImage);
                                                                <img src="data:image/jpeg;base64,@base64Image" alt="Λογότυπο Ερευνητικής Ομάδας" 
                                                                     style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #ddd;" />
                                                            }
                                                            else
                                                            {
                                                                <div style="width: 150px; height: 150px; border-radius: 50%; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center; margin: 0 auto; border: 3px solid #ddd;">
                                                                    <i class="fas fa-users" style="font-size: 3rem; color: #6c757d;"></i>
                                                                </div>
                                                            }
                                                        </div>

                                                        <!-- Research Group Name -->
                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Όνομα Ομάδας</label>
                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-users mr-2 text-primary"></i>
                                                                <span>@selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroupName</span>
                                                            </div>
                                                        </div>

                                                        <!-- Research Group School -->
                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Σχολή</label>
                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-university mr-2 text-primary"></i>
                                                                <span>@selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroupSchool</span>
                                                            </div>
                                                        </div>

                                                        <!-- Research Group University Department -->
                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Τμήμα Πανεπιστημίου</label>
                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-building mr-2"></i>
                                                                <span>@selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroupUniversityDepartment</span>
                                                            </div>
                                                        </div>

                                                        <!-- Research Group Email -->
                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Email</label>
                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-envelope mr-2 text-primary"></i>
                                                                <span>@selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroupEmail</span>
                                                            </div>
                                                        </div>

                                                        <!-- Research Group Contact Email -->
                                                        @if (!string.IsNullOrEmpty(selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroupContactEmail))
                                                        {
                                                            <div class="form-group">
                                                                <label style="font-weight: bold;">Email Επικοινωνίας</label>
                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                    <i class="fas fa-envelope mr-2"></i>
                                                                    <span>@selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroupContactEmail</span>
                                                                </div>
                                                            </div>
                                                        }

                                                        <!-- Research Group Telephone -->
                                                        @if (!string.IsNullOrEmpty(selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroupTelephoneNumber))
                                                        {
                                                            <div class="form-group">
                                                                <label style="font-weight: bold;">Τηλέφωνο</label>
                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                    <i class="fas fa-phone mr-2 text-success"></i>
                                                                    <span>@selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroupTelephoneNumber</span>
                                                                </div>
                                                            </div>
                                                        }

                                                        <!-- Research Group Areas -->
                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Περιοχές Έρευνας</label>
                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroupAreas</textarea>
                                                        </div>

                                                        <!-- Research Group Skills -->
                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Δεξιότητες</label>
                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroupSkills</textarea>
                                                        </div>

                                                        <!-- Research Group Keywords -->
                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Λέξεις Κλειδιά</label>
                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly rows="3">@selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroupKeywords</textarea>
                                                        </div>

                                                        <!-- Faculty Members -->
                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Ακαδημαϊκό Προσωπικό</label>
                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa; min-height: 60px; flex-wrap: wrap; padding: 8px;">
                                                                @if (facultyMembers.Any())
                                                                {
                                                                    @foreach (var member in facultyMembers)
                                                                    {
                                                                        <span class="badge bg-info me-1 mb-1">@member.FullName</span>
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    <span style="color: #6c757d;">Δεν υπάρχουν ακαδημαϊκοί μέλη</span>
                                                                }
                                                            </div>
                                                        </div>

                                                        <!-- Non-Faculty Members -->
                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Μη Ακαδημαϊκό Προσωπικό</label>
                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa; min-height: 60px; flex-wrap: wrap; padding: 8px;">
                                                                @if (nonFacultyMembers.Any())
                                                                {
                                                                    @foreach (var member in nonFacultyMembers)
                                                                    {
                                                                        <span class="badge bg-warning text-dark me-1 mb-1">@member.FullName</span>
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    <span style="color: #6c757d;">Δεν υπάρχουν μη ακαδημαϊκά μέλη</span>
                                                                }
                                                            </div>
                                                        </div>

                                                        <!-- Patents Count -->
                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Αριθμός Πατεντών</label>
                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-certificate mr-2" style="color: #ffc107;"></i>
                                                                <span>@patentsCount</span>
                                                            </div>
                                                        </div>

                                                        <!-- Active Research Actions Count -->
                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Ενεργές Ερευνητικές Δράσεις</label>
                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-flask mr-2 text-success"></i>
                                                                <span>@activeResearchActionsCount</span>
                                                            </div>
                                                        </div>

                                                        <!-- Spin-off Companies -->
                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Spin-off Εταιρεία</label>
                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa; min-height: 60px; flex-wrap: wrap; padding: 8px;">
                                                                @if (spinOffCompanies.Any())
                                                                {
                                                                    @foreach (var company in spinOffCompanies)
                                                                    {
                                                                        <div class="w-100 mb-2">
                                                                            <span class="fw-bold">@company.CompanyTitle</span>
                                                                            <span style="color: #6c757d;">(ΑΦΜ: @company.CompanyAFM)</span>
                                                                        </div>
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    <span style="color: #6c757d;">Δεν υπάρχουν spin-off εταιρείες</span>
                                                                }
                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;"> Υποδομές</label>
                                                            <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa; min-height: 60px; flex-wrap: wrap; padding: 8px;">
                                                                @if (researchGroupIpodomes != null && researchGroupIpodomes.Any())
                                                                {
                                                                    @foreach (var item in researchGroupIpodomes)
                                                                    {
                                                                        <div class="w-100 mb-2 p-2" style="border-bottom: 1px solid #e9ecef;">
                                                                            <div class="d-flex align-items-start">
                                                                                <i class="fas fa-server mt-1 mr-2" style="color: #6f42c1;"></i>
                        
                                                                                <div>
                                                                                    <span class="fw-bold" style="color: #2d3748;">@item.Title</span>
                                                                                    @if (!string.IsNullOrEmpty(item.Description))
                                                                                    {
                                                                                        <div class="text-muted small mt-1">@item.Description</div>
                                                                                    }
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    }
                                                                }
                                                                else
                                                                {
                                                                    <span style="color: #6c757d;">Δεν υπάρχουν καταχωρημένες υποδομές</span>
                                                                }
                                                            </div>
                                                        </div>

                                                        <!-- Website -->
                                                        @if (!string.IsNullOrEmpty(selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroup_Website))
                                                        {
                                                            <div class="form-group">
                                                                <label style="font-weight: bold;">Ιστοσελίδα</label>
                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                    <i class="fas fa-globe mr-2 text-info"></i>
                                                                    <a href="@selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroup_Website" target="_blank" 
                                                                       class="text-primary text-decoration-underline">
                                                                        @selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroup_Website
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        }

                                                        <!-- Facebook -->
                                                        @if (!string.IsNullOrEmpty(selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroup_Facebook))
                                                        {
                                                            <div class="form-group">
                                                                <label style="font-weight: bold;">Facebook</label>
                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                    <i class="fab fa-facebook mr-2" style="color: #3b5998;"></i>
                                                                    <a href="@selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroup_Facebook" target="_blank" 
                                                                       class="text-decoration-underline" style="color: #3b5998;">
                                                                        @selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroup_Facebook
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        }

                                                        <!-- Twitter -->
                                                        @if (!string.IsNullOrEmpty(selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroup_Twitter))
                                                        {
                                                            <div class="form-group">
                                                                <label style="font-weight: bold;">Twitter</label>
                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                    <i class="fab fa-twitter mr-2" style="color: #1da1f2;"></i>
                                                                    <a href="@selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroup_Twitter" target="_blank" 
                                                                       class="text-decoration-underline" style="color: #1da1f2;">
                                                                        @selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroup_Twitter
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        }

                                                        <!-- LinkedIn -->
                                                        @if (!string.IsNullOrEmpty(selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroup_LinkedIn))
                                                        {
                                                            <div class="form-group">
                                                                <label style="font-weight: bold;">LinkedIn</label>
                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                    <i class="fab fa-linkedin mr-2" style="color: #0077b5;"></i>
                                                                    <a href="@selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroup_LinkedIn" target="_blank" 
                                                                       class="text-decoration-underline" style="color: #0077b5;">
                                                                        @selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroup_LinkedIn
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        }

                                                        <!-- YouTube -->
                                                        @if (!string.IsNullOrEmpty(selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroup_YouTubeChannel))
                                                        {
                                                            <div class="form-group">
                                                                <label style="font-weight: bold;">YouTube</label>
                                                                <div class="form-control d-flex align-items-center" style="border-radius: 8px; background-color: #f8f9fa;">
                                                                    <i class="fab fa-youtube mr-2" style="color: #ff0000;"></i>
                                                                    <a href="@selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroup_YouTubeChannel" target="_blank" 
                                                                       class="text-decoration-underline" style="color: #ff0000;">
                                                                        @selectedResearchGroupWhenSearchForResearchGroupsAsCompany.ResearchGroup_YouTubeChannel
                                                                    </a>
                                                                </div>
                                                            </div>
                                                        }
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                @onclick="CloseModalResearchGroupDetailsOnEyeIconWhenSearchForResearchGroupsAsCompany"
                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                            <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                    </div>
                                        </div>
                            }
                        }




