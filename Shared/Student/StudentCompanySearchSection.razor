                                    <div class="tab-pane fade" id="studentsearchcompany" role="tabpanel" aria-labelledby="studentsearchcompany-tab">
                                        <div class="mb-3 row-dark-gray">
                                            <div class="d-flex justify-content-between align-items-center" @onclick="ToggleFormVisibilityForSearchCompanyAsStudent" style="cursor: pointer;">
                                                <label class="form-label" style="color: #FFF8DC;">• Αναζήτηση Εταιρείας •</label>
                                                <button class="btn btn-link" @onclick="ToggleFormVisibilityForSearchCompanyAsStudent" @onclick:stopPropagation="true">
                                                    @if (isStudentSearchCompanyFormVisible)
                                                    {
                                                        <span>&#8722;</span> <!-- Minus sign -->
                                                    }
                                                    else
                                                    {
                                                        <span>&#43;</span> <!-- Plus sign -->
                                                    }
                                                </button>
                                            </div>
                                        </div>

                                        @if (isStudentSearchCompanyFormVisible)
                                        {
                                            @* Section 1: Global Search *@
                                            <div class="row mb-4">
                                                <div class="col-md-12">
                                                    <div class="section-header" style="border-left: 4px solid #2d3748; padding-left: 12px; margin-bottom: 16px;">
                                                        <label for="globalCompanySearch" class="form-label" style="font-weight: bold; color: #2d3748; font-size: 1.1em;">
                                                            <i class="fa-solid fa-magnifying-glass" style="margin-right: 8px;"></i>Ελεύθερη Αναζήτηση
                                                        </label>
                                                    </div>
                                                    <input 
                                                        type="text" 
                                                        id="globalCompanySearch" 
                                                        class="form-control" 
                                                        @bind="globalCompanySearch" 
                                                        placeholder="Αναζητείστε Εδώ..." 
                                                        style="padding: 12px; border-radius: 8px; border: 2px solid #e2e8f0;" />
                                                </div>
                                            </div>

                                            @* Divider between sections *@
                                            <div class="row mb-4">
                                                <div class="col-md-12">
                                                    <hr style="border-top: 2px dashed #d1d5db; margin: 20px 0;" />
                                                </div>
                                            </div>

                                            @* Section 2: Filter Search *@
                                            <div class="row mb-3">
                                                <div class="col-md-12">
                                                    <div class="section-header" style="border-left: 4px solid #2d3748; padding-left: 12px; margin-bottom: 16px;">
                                                        <label class="form-label" style="font-weight: bold; color: #2d3748; font-size: 1.1em;">
                                                            <i class="fa-solid fa-filter" style="margin-right: 8px;"></i>Αναζήτηση με Φίλτρα
                                                        </label>
                                                        <div style="font-size: 0.9em; color: #6b7280; margin-top: 4px;">
                                                            Χρησιμοποιήστε συγκεκριμένα φίλτρα για πιο ακριβή αναζήτηση
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-md-4">
                                                    <label for="searchCompanyEmailAsStudent"><strong>Email</strong></label>
                                                    <input type="text" class="form-control" placeholder="Αναζήτηση με Email" @bind="searchCompanyEmailAsStudentToFindCompany" />
                                                </div>
                                                <div class="col-md-4 position-relative">
                                                    <label for="searchCompanyNameAsStudent"><strong>Όνομα Εταιρείας</strong></label>
                                                    <input 
                                                        type="text" 
                                                        id="searchCompanyNameAsStudent"
                                                        class="form-control" 
                                                        placeholder="Αναζήτηση με όνομα" 
                                                        @bind="searchCompanyNameENGAsStudentToFindCompany" 
                                                        @oninput="HandleCompanyInputAsStudent" />

                                                    <!-- Suggestions dropdown -->
                                                    <ul class="list-group position-absolute" 
                                                        style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                        hidden="@(!companyNameSuggestionsAsStudent.Any())">
                                                        @foreach (var suggestion in companyNameSuggestionsAsStudent)
                                                        {
                                                            <li class="list-group-item list-group-item-action" 
                                                                @onclick="() => SelectCompanyNameSuggestionAsStudent(suggestion)">
                                                                @suggestion
                                                            </li>
                                                        }
                                                    </ul>
                                                </div>
                                                <div class="col-md-4">
                                                    <label for="searchCompanyTypeAsStudent" style="font-weight: bold;">Τύπος Εταιρείας</label>
                                                    <div class="input-group">
                                                        <select 
                                                            id="searchCompanyTypeAsStudent" 
                                                            class="form-control" 
                                                            @bind="searchCompanyTypeAsStudentToFindCompany">
                                                            <option value=""> - Επιλέξτε Τύπο - </option>
                                                            @foreach (var type in ForeasType)
                                                            {
                                                                <option value="@type">@type</option>
                                                            }
                                                        </select>
                                                        <div class="input-group-append">
                                                            <span class="input-group-text">
                                                                <i class="fas fa-chevron-down"></i>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Company Activity Field with Autocomplete -->
                                                <div class="col-md-4 position-relative">
                                                    <label for="searchCompanyActivityAsStudent" class="fw-bold">Δραστηριότητα Εταιρείας</label>
                                                    <input 
                                                        type="text" 
                                                        id="searchCompanyActivityAsStudent"
                                                        class="form-control" 
                                                        placeholder="Αναζήτηση με δραστηριότητα" 
                                                        @bind="searchCompanyActivityInputAsStudentToFindCompany" 
                                                        @oninput="HandleCompanyActivityInputAsStudent" />
    
                                                    <!-- Suggestions Dropdown -->
                                                    <ul class="list-group position-absolute" 
                                                        style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                        hidden="@(!companyActivitySuggestionsAsStudent.Any())">
                                                        @foreach (var suggestion in companyActivitySuggestionsAsStudent)
                                                        {
                                                            <li class="list-group-item list-group-item-action" 
                                                                @onclick="() => SelectCompanyActivitySuggestionAsStudent(suggestion)">
                                                                @suggestion
                                                            </li>
                                                        }
                                                    </ul>

                                                    <!-- Selected Activities -->
                                                    <div class="mt-3 selected-activities-container">
                                                        @if (selectedCompanyActivitiesAsStudent.Any())
                                                        {
                                                            <ul class="list-group selected-activities-list">
                                                                @foreach (var activity in selectedCompanyActivitiesAsStudent)
                                                                {
                                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                        @activity
                                                                        <button class="btn btn-danger btn-sm" @onclick="() => RemoveSelectedCompanyActivityAsStudent(activity)">
                                                                            <i class="fas fa-times"></i>
                                                                        </button>
                                                                    </li>
                                                                }
                                                            </ul>
                                                        }
                                                    </div>
                                                </div>

                                                <div class="col-md-4">
                                                    <label for="searchCompanyTownAsStudent" style="font-weight: bold;">Πόλη</label>
                                                    <div class="input-group">
                                                        <select id="searchCompanyTownAsStudent" 
                                                                class="form-control" 
                                                                @bind="searchCompanyTownAsStudentToFindCompany">
                                                            <option value=""> - Επιλέξτε Πόλη - </option>
                                                            @foreach (var region in Regions)
                                                            {
                                                                <optgroup label="@region">
                                                                    @foreach (var town in RegionToTownsMap[region])
                                                                    {
                                                                        <option value="@town">@town</option>
                                                                    }
                                                                </optgroup>
                                                            }
                                                        </select>
                                                        <div class="input-group-append">
                                                            <span class="input-group-text">
                                                                <i class="fas fa-chevron-down"></i>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Areas of Interest Container -->
                                                <div class="col-md-4 position-relative">
                                                    <label for="searchCompanyAreasAsStudentToFindCompany" style="font-weight: bold;">Περιοχές Ενδιαφέροντος</label>
                                                    <input 
                                                        type="text"
                                                        class="form-control"
                                                        placeholder="Αναζήτηση με Περιοχές"
                                                        @bind="searchCompanyAreasAsStudentToFindCompany"
                                                        @oninput="HandleAreasOfInterestInput_WhenSearchForCompanyAsStudent" />

                                                    <ul class="list-group position-absolute" 
                                                        style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                        hidden="@(!areasOfInterestSuggestionsAsStudent.Any())">
                                                        @foreach (var suggestion in areasOfInterestSuggestionsAsStudent)
                                                        {
                                                            <li class="list-group-item list-group-item-action" 
                                                                @onclick="() => SelectAreasOfInterestSuggestion_WhenSearchForCompanyAsStudent(suggestion)">
                                                                @if (suggestion.Contains(" - "))
                                                                {
                                                                    var parts = suggestion.Split(new[] { " - " }, StringSplitOptions.None);
                                                                    <div>
                                                                        <span class="text-muted">@parts[0] - </span>
                                                                        <span class="fw-bold">@parts[1]</span>
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                    <div>@suggestion</div>
                                                                }
                                                            </li>
                                                        }
                                                    </ul>

                                                    <div class="mt-3 selected-areas-container">
                                                        @if (selectedAreasOfInterestAsStudent.Any())
                                                        {
                                                            <ul class="list-group selected-areas-list">
                                                                @foreach (var area in selectedAreasOfInterestAsStudent)
                                                                {
                                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                        @if (area.Contains(" - "))
                                                                        {
                                                                            var parts = area.Split(new[] { " - " }, StringSplitOptions.None);
                                                                            <span>
                                                                                <span class="text-muted">@parts[0] - </span>
                                                                                <span class="fw-bold">@parts[1]</span>
                                                                            </span>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>@area</span>
                                                                        }
                                                                        <button class="btn btn-danger btn-sm" @onclick="() => RemoveSelectedAreaOfInterest_WhenSearchForCompanyAsStudent(area)">
                                                                            <i class="fas fa-times"></i>
                                                                        </button>
                                                                    </li>
                                                                }
                                                            </ul>
                                                        }
                                                    </div>
                                                </div>

                                                <!-- Company Desired Skills Field with Autocomplete -->
                                                <div class="col-md-4 position-relative">
                                                    <label for="searchCompanyDesiredSkillsAsStudent" class="fw-bold">Επιθυμητές Δεξιότητες</label>
                                                    <input 
                                                        type="text" 
                                                        id="searchCompanyDesiredSkillsAsStudent"
                                                        class="form-control" 
                                                        placeholder="Αναζήτηση με δεξιότητες" 
                                                        @bind="searchCompanyDesiredSkillsInputAsStudentToFindCompany" 
                                                        @oninput="HandleCompanyDesiredSkillsInputAsStudent" />
    
                                                    <!-- Suggestions Dropdown -->
                                                    <ul class="list-group position-absolute" 
                                                        style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                        hidden="@(!companyDesiredSkillsSuggestionsAsStudent.Any())">
                                                        @foreach (var suggestion in companyDesiredSkillsSuggestionsAsStudent)
                                                        {
                                                            <li class="list-group-item list-group-item-action" 
                                                                @onclick="() => SelectCompanyDesiredSkillSuggestionAsStudent(suggestion)">
                                                                @suggestion
                                                            </li>
                                                        }
                                                    </ul>

                                                    <!-- Selected Skills -->
                                                    <div class="mt-3 selected-skills-container">
                                                        @if (selectedCompanyDesiredSkillsAsStudent.Any())
                                                        {
                                                            <ul class="list-group selected-skills-list">
                                                                @foreach (var skill in selectedCompanyDesiredSkillsAsStudent)
                                                                {
                                                                    <li class="list-group-item d-flex justify-content-between align-items-center">
                                                                        @skill
                                                                        <button class="btn btn-danger btn-sm" @onclick="() => RemoveSelectedCompanyDesiredSkillAsStudent(skill)">
                                                                            <i class="fas fa-times"></i>
                                                                        </button>
                                                                    </li>
                                                                }
                                                            </ul>
                                                        }
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="row mb-3">
                                                <div class="col-md-12">
                                                    <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="SearchCompaniesAsStudent">
                                                        <i class="fa-brands fa-searchengin" style="margin-right: 8px;"></i>Αναζήτηση
                                                    </button>
                                                    <button class="modern-button" style="background-color: #2d3748; color: white; display: inline-flex; align-items: center;" @onclick="ClearSearchFieldsAsStudentToFindCompany">
                                                        <i class="fa-solid fa-broom" style="margin-right: 8px;"></i>Εκκαθάριση
                                                    </button>
                                                </div>
                                            </div>
                                            <br/>
                                            <br/>
                                        }

                                        @if (searchResultsAsStudentToFindCompany != null && searchResultsAsStudentToFindCompany.Any())
                                        {
                                            <div class="row mb-3">
                                                <div class="col-md-2">
                                                    <label style="color: #2d3748; font-weight: bold; font-size: 15px; display: block;">Αποτελέσματα ανά Σελίδα</label>
                                                    <div class="input-group" style="max-width: 65px;">
                                                        <select class="form-control form-control-sm" 
                                                                @onchange="OnPageSizeChangeForCompanySearchAsStudent" 
                                                                aria-label="Items per page">
                                                            @foreach (var option in companySearchPageSizeOptionsAsStudent)
                                                            {
                                                                <option value="@option" selected="@(CompanySearchPerPageAsStudent == option)">@option</option>
                                                            }
                                                        </select>
                                                        <div class="input-group-append">
                                                            <span class="input-group-text">
                                                                <i class="fas fa-chevron-down"></i>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <table class="table mt-4">
                                                <thead>
                                                    <td colspan="8" style="padding: 0;">
                                                        <div style="display: flex; justify-content: space-between; align-items: center; height: 24px; line-height: 24px; width: 100%;">
                                                            <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd;"></i>
                                                            <label class="form-label" style="color: #0d6efd; font-weight: bold; font-size: 18px; margin: 0;">Αποτέλεσμα Αναζήτησης</label>
                                                            <i class="fa-solid fa-magnifying-glass" style="font-size: 18px; color: #0d6efd;"></i>
                                                        </div>
                                                    </td>
                                                    <tr style="border: 2px solid black; background-color: lightgray;">
                                                        <th style="border: 2px solid black;">
                                                            <i class="fa-solid fa-industry fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                            Όνομα Εταιρείας
                                                        </th>
                                                        <th style="border: 2px solid black;">
                                                            <i class="fa-solid fa-tags fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                            Δραστηριότητα
                                                        </th>
                                                        <th style="border: 2px solid black;">
                                                            <i class="fa-solid fa-city fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                            Πόλη
                                                        </th>
                                                        <th style="border: 2px solid black;">
                                                            <i class="fa-solid fa-envelope fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                            Email
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @foreach (var company in GetPaginatedCompanySearchResultsAsStudent())
                                                    {
                                                        <tr>
                                                            <td>
                                                                <a href="#" style="text-decoration: none; color: #0d6efd; font-weight: 500;" 
                                                                   @onclick="() => ShowCompanyDetailsWhenSearchAsStudent(company)" 
                                                                   title="Προβολή λεπτομερειών">
                                                                    @company.CompanyName
                                                                </a>
                                                            </td>
                                                            <td>@company.CompanyActivity</td>
                                                            <td>@company.CompanyTown</td>
                                                            <td>
                                                                @company.CompanyEmail
                                                                <a href="mailto:@company.CompanyEmail" title="Αποστολή Email">
                                                                    <i class="fas fa-envelope"></i>
                                                                </a>
                                                            </td>
                                                        </tr>
                                                    }
                                                </tbody>
                                            </table>
                                            <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                <span class="pagination-item @(currentPage_CompanySearchAsStudent == 1 ? "disabled" : "")"
                                                      @onclick="GoToFirstPage_CompanySearchAsStudent">
                                                    &lt;&lt;
                                                </span>

                                                <span class="pagination-item @(currentPage_CompanySearchAsStudent == 1 ? "disabled" : "")"
                                                      @onclick="PreviousPage_CompanySearchAsStudent">
                                                    &lt;
                                                </span>

                                                @foreach (var pageNum in GetVisiblePages_CompanySearchAsStudent())
                                                {
                                                    if (pageNum == -1)
                                                    {
                                                        <span class="pagination-ellipsis">...</span>
                                                    }
                                                    else
                                                    {
                                                        <span class="pagination-item @(pageNum == currentPage_CompanySearchAsStudent ? "active" : "")"
                                                              @onclick="@(() => GoToPage_CompanySearchAsStudent(pageNum))">
                                                            @pageNum
                                                        </span>
                                                    }
                                                }

                                                <span class="pagination-item @(currentPage_CompanySearchAsStudent == totalPages_CompanySearchAsStudent ? "disabled" : "")"
                                                      @onclick="NextPage_CompanySearchAsStudent">
                                                    &gt;
                                                </span>

                                                <span class="pagination-item @(currentPage_CompanySearchAsStudent == totalPages_CompanySearchAsStudent ? "disabled" : "")"
                                                      @onclick="GoToLastPage_CompanySearchAsStudent">
                                                    &gt;&gt;
                                                </span>

                                                <span class="ms-3">
                                                    Σελίδα @currentPage_CompanySearchAsStudent από @totalPages_CompanySearchAsStudent
                                                </span>
                                            </div>
                                            <br/>
                                            <br/>
                                        }
                                        else if (searchResultsAsStudentToFindCompany != null)
                                        {
                                            <div class="alert alert-warning d-flex align-items-center" role="alert">
                                                <i class="fas fa-exclamation-triangle me-2"></i>
                                                <div>
                                                    Δεν βρέθηκε κάποιο αποτέλεσμα που να πληρεί τα κριτήρια της Αναζήτησης σας.
                                                </div>
                                            </div>
                                        }
                                    </div>

                                    @if (showCompanyDetailsModalAsStudent && selectedCompanyAsStudent != null)
                                    {
                                        <div id="companyDetailsModalAsStudent" class="modal fade @(showCompanyDetailsModalAsStudent ? "show d-block" : "")" 
                                             tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                    <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                        <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                            @selectedCompanyAsStudent.CompanyNameENG
                                                        </h5>
                                                        <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                @onclick="CloseCompanyDetailsModalWhenSearchAsStudent"
                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                            <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                        </button>
                                                    </div>
                                                    <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                        <div class="form-group text-center">
                                                            @if (selectedCompanyAsStudent.CompanyLogo != null)
                                                            {
                                                                <img src="data:image/png;base64,@Convert.ToBase64String(selectedCompanyAsStudent.CompanyLogo)" 
                                                                     alt="Company Logo"
                                                                     class="rounded-circle img-fluid"
                                                                     style="max-width: 150px; max-height: 150px; object-fit: cover;" />
                                                            }
                                                            else
                                                            {
                                                                <p style="color: #6c757d;">Δεν είναι διαθέσιμο</p>
                                                            }
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Σύντομη Ονομασία</label>
                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-tag" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                <span class="flex-grow-1">
                                                                    @(!string.IsNullOrWhiteSpace(selectedCompanyAsStudent.CompanyShortName)
                                                                        ? selectedCompanyAsStudent.CompanyShortName
                                                                        : "Δεν έχει Καθοριστεί")
                                                                </span>
                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Τύπος Εταιρείας</label>
                                                            <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@selectedCompanyAsStudent.CompanyType" readonly />
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Email Εταιρείας</label>
                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-envelope" style="color: #4682B4; margin-right: 8px;"></i>
                                                                @if (!string.IsNullOrEmpty(selectedCompanyAsStudent.CompanyEmail))
                                                                {
                                                                    <a href="mailto:@selectedCompanyAsStudent.CompanyEmail" 
                                                                       style="color: #007bff; text-decoration: underline; word-break: break-all;">
                                                                        @selectedCompanyAsStudent.CompanyEmail
                                                                    </a>
                                                                }
                                                                else
                                                                {
                                                                    <span style="color: #6c757d;">Δεν υπάρχει email</span>
                                                                }
                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Ιστοσελίδα Εταιρείας</label>
                                                            @if (!string.IsNullOrWhiteSpace(selectedCompanyAsStudent.CompanyWebsite))
                                                            {
                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; cursor: pointer;" 
                                                                     @onclick="() => OpenUrl(selectedCompanyAsStudent.CompanyWebsite)">
                                                                    <i class="fas fa-globe" style="color: #007bff; margin-right: 8px;"></i>
                                                                    <span style="color: #007bff; text-decoration: underline;">@selectedCompanyAsStudent.CompanyWebsite</span>
                                                                </div>
                                                            }
                                                            else
                                                            {
                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="Δεν υπάρχει" readonly />
                                                            }
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Περιγραφή Εταιρείας</label>
                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="3" readonly>@selectedCompanyAsStudent.CompanyDescription</textarea>
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Δραστηριότητα Εταιρείας</label>
                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly>@selectedCompanyAsStudent.CompanyActivity</textarea>
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Περιοχές Ενδιαφέροντος</label>
                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="2" readonly>@selectedCompanyAsStudent.CompanyAreas</textarea>
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Επιθυμητές Δεξιότητες</label>
                                                            <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" rows="2" readonly>@selectedCompanyAsStudent.CompanyDesiredSkills</textarea>
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Χώρα</label>
                                                            <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@selectedCompanyAsStudent.CompanyCountry" readonly />
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Περιφέρεια</label>
                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-map" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                <span class="flex-grow-1">@selectedCompanyAsStudent.CompanyRegions</span>
                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Πόλη</label>
                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-city" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                <span class="flex-grow-1">@selectedCompanyAsStudent.CompanyTown</span>
                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Διεύθυνση</label>
                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                <span @onclick="() => OpenMap(selectedCompanyAsStudent.CompanyLocation)"
                                                                      style="color: #007bff; text-decoration: underline; cursor: pointer; word-break: break-word;">
                                                                    @selectedCompanyAsStudent.CompanyLocation
                                                                </span>
                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Ταχυδρομικός Κώδικας</label>
                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-envelope-open-text" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                <span class="flex-grow-1">@selectedCompanyAsStudent.CompanyPC</span>
                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Τηλέφωνο Εταιρείας</label>
                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-phone" style="color: #28a745; margin-right: 8px;"></i>
                                                                <span class="flex-grow-1">@selectedCompanyAsStudent.CompanyTelephone</span>
                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Ιστοσελίδα Ανακοινώσεων</label>
                                                            @if (!string.IsNullOrWhiteSpace(selectedCompanyAsStudent.CompanyWebsiteAnnouncements))
                                                            {
                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; cursor: pointer;" 
                                                                     @onclick="() => OpenUrl(selectedCompanyAsStudent.CompanyWebsiteAnnouncements)">
                                                                    <i class="fas fa-bullhorn" style="color: #007bff; margin-right: 8px;"></i>
                                                                    <span style="color: #007bff; text-decoration: underline;">@selectedCompanyAsStudent.CompanyWebsiteAnnouncements</span>
                                                                </div>
                                                            }
                                                            else
                                                            {
                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="Δεν υπάρχει" readonly />
                                                            }
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Ιστοσελίδα Θέσεων Εργασίας</label>
                                                            @if (!string.IsNullOrWhiteSpace(selectedCompanyAsStudent.CompanyWebsiteJobs))
                                                            {
                                                                <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa; cursor: pointer;" 
                                                                     @onclick="() => OpenUrl(selectedCompanyAsStudent.CompanyWebsiteJobs)">
                                                                    <i class="fas fa-briefcase" style="color: #007bff; margin-right: 8px;"></i>
                                                                    <span style="color: #007bff; text-decoration: underline;">@selectedCompanyAsStudent.CompanyWebsiteJobs</span>
                                                                </div>
                                                            }
                                                            else
                                                            {
                                                                <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="Δεν υπάρχει" readonly />
                                                            }
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Υπεύθυνος Ανθρώπινου Δυναμικού</label>
                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-user-tie" style="color: #5F9EA0; margin-right: 8px;"></i>
                                                                <span class="flex-grow-1">@selectedCompanyAsStudent.CompanyHRName @selectedCompanyAsStudent.CompanyHRSurname</span>
                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Email Υπεύθυνου</label>
                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-envelope" style="color: #4682B4; margin-right: 8px;"></i>
                                                                @if (!string.IsNullOrEmpty(selectedCompanyAsStudent.CompanyHREmail))
                                                                {
                                                                    <a href="mailto:@selectedCompanyAsStudent.CompanyHREmail" 
                                                                       style="color: #007bff; text-decoration: underline; word-break: break-all;">
                                                                        @selectedCompanyAsStudent.CompanyHREmail
                                                                    </a>
                                                                }
                                                                else
                                                                {
                                                                    <span style="color: #6c757d;">Δεν υπάρχει email</span>
                                                                }
                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Τηλέφωνο Υπεύθυνου</label>
                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-phone" style="color: #28a745; margin-right: 8px;"></i>
                                                                <span class="flex-grow-1">@selectedCompanyAsStudent.CompanyHRTelephone</span>
                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Επικεφαλής Τμήματος Έρευνας και Ανάπτυξης</label>
                                                            <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@selectedCompanyAsStudent.RnD_HeadName" readonly />
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Υπεύθυνος Επικοινωνίας Τμήματος Έρευνας και Ανάπτυξης</label>
                                                            <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@selectedCompanyAsStudent.RnD_ContactPersonFullName" readonly />
                                                        </div>

                                                        <div class="form-group">
                                                            <label style="font-weight: bold;">Email Επικοινωνίας Υπευθύνου Τμήματος Έρευνας και Ανάπτυξης</label>
                                                            <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                <i class="fas fa-envelope" style="color: #4682B4; margin-right: 8px;"></i>
                                                                @if (!string.IsNullOrEmpty(selectedCompanyAsStudent.RnD_ContactPersonEmail))
                                                                {
                                                                    <a href="mailto:@selectedCompanyAsStudent.RnD_ContactPersonEmail" 
                                                                       style="color: #007bff; text-decoration: underline; word-break: break-all;">
                                                                        @selectedCompanyAsStudent.RnD_ContactPersonEmail
                                                                    </a>
                                                                }
                                                                else
                                                                {
                                                                    <span style="color: #6c757d;">Δεν υπάρχει email</span>
                                                                }
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="modal-footer">
                                                        <button class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                @onclick="CloseCompanyDetailsModalWhenSearchAsStudent"
                                                                onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                onmouseout="this.style.backgroundColor='#2d3748'">
                                                            <i class="fas fa-arrow-left me-2"></i> Κλείσιμο
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    }

                                        <!-- STUDENT ANNOUNCEMENTS tab content -->
                                        <div class="tab-pane fade show active" id="announcements" role="tabpanel" aria-labelledby="announcements-tab">
                                            <div class="mb-3 row-dark-gray mt-4">
                                                <div class="d-flex justify-content-between align-items-center" @onclick="ToggleAnnouncementsAsStudentVisibility" style="cursor: pointer;">
                                                    <label class="form-label" style="color: #FFF8DC;">• Πρόσφατες Ανακοινώσεις •</label>
                                                    <button class="btn btn-link" @onclick="ToggleAnnouncementsAsStudentVisibility" @onclick:stopPropagation="true">
                                                        @if (isAnnouncementsAsStudentVisible)
                                                        {
                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                        }
                                                        else
                                                        {
                                                            <span>&#43;</span> <!-- Plus sign -->
                                                        }
                                                    </button>
                                                </div>
                                            </div>
                                            @if(isAnnouncementsAsStudentVisible)
                                            {
                                                            <!-- University News Section -->
                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                <div class="d-flex justify-content-between align-items-center p-3" 
                                                                     style="border-bottom: 1px solid #b3c6e0; cursor: pointer;"
                                                                     @onclick="ToggleUniversityNewsVisibility">
                                                                    <h1 class="news-heading form-label m-0">
                                                                        <span class="black-text">
                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                <i class="fas fa-rss"></i>
                                                                            </span>
                                                                            Πανεπιστήμιο Αθηνών
                                                                            <span style="color: black; margin-left: 5px;">
                                                                                <i class="fas fa-university"></i>
                                                                            </span>
                                                                        </span>
                                                                    </h1>
                                                                    <button class="btn" 
                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px;" 
                                                                            @onclick="ToggleUniversityNewsVisibility">
                                                                        @if (isUniversityNewsVisible)
                                                                        {
                                                                            <span>&#8722;</span> 
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>&#43;</span> 
                                                                        }
                                                                    </button>
                                                                </div>
    
                                                                @if (isUniversityNewsVisible)
                                                                {
                                                                    <div id="university-news-content" class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                        @if (newsArticles != null && newsArticles.Any())
                                                                        {
                                                                            @foreach (var article in newsArticles)
                                                                            {
                                                                                <div class="news-article mb-2 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                    <a href="@article.Url" target="_blank" style="color: #0d47a1; text-decoration: none;">
                                                                                        <i class="fa fa-external-link me-2" style="font-size: 0.8em;"></i>@article.Title
                                                                                    </a>
                                                                                </div>
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            <p class="mb-0 text-muted">Καμία Ανακοίνωση από το Πανεπιστήμιο Αθηνών ακόμη....</p>
                                                                        }
                                                                    </div>
                                                                }
                                                            </div>

                                                            <!-- SVSE News Section -->
                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                <div class="d-flex justify-content-between align-items-center p-3" 
                                                                     style="border-bottom: 1px solid #b3c6e0; cursor: pointer;"
                                                                     @onclick="ToggleSvseNewsVisibility">
                                                                    <h1 class="news-heading form-label m-0">
                                                                        <span class="black-text">
                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                <i class="fas fa-rss"></i>
                                                                            </span>
                                                                            Σύνδεσμος Βιομηχανιών Στερεάς Ελλάδας
                                                                            <span style="color: black; margin-left: 5px;">
                                                                                <i class="fas fa-industry"></i>
                                                                            </span>
                                                                        </span>
                                                                    </h1>
                                                                    <button class="btn" 
                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px;" 
                                                                            @onclick="ToggleSvseNewsVisibility">
                                                                        @if (isSvseNewsVisible)
                                                                        {
                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                        }
                                                                    </button>
                                                                </div>
    
                                                                @if (isSvseNewsVisible)
                                                                {
                                                                    <div id="svse-news-content" class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                        @if (svseNewsArticles != null && svseNewsArticles.Any())
                                                                        {
                                                                            @foreach (var article in svseNewsArticles)
                                                                            {
                                                                                <div class="news-article mb-2 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                    <a href="@article.Url" target="_blank" style="color: #0d47a1; text-decoration: none;">
                                                                                        <i class="fa fa-external-link me-2" style="font-size: 0.8em;"></i>@article.Title
                                                                                    </a>
                                                                                </div>
                                                                            }
                                                                        }
                                                                        else
                                                                        {
                                                                            <p class="mb-0 text-muted">Καμία Ανακοίνωση από τον ΣΒΣΕ ακόμη....</p>
                                                                        }
                                                                    </div>
                                                                }
                                                            </div>

                                                            <!-- Platform company announcements -->
                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                <div class="d-flex justify-content-between align-items-center p-3" 
                                                                     style="border-bottom: 1px solid #b3c6e0; cursor: pointer;"
                                                                     @onclick="ToggleCompanyAnnouncementsVisibility">
                                                                    <h1 class="news-heading form-label m-0">
                                                                        <span class="black-text">
                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                <i class="fas fa-list"></i>
                                                                            </span>
                                                                            Ανακοινώσεις Εταιρειών
                                                                            <span style="color: black; margin-left: 5px;">
                                                                                <i class="fas fa-building"></i>
                                                                            </span>
                                                                        </span>
                                                                    </h1>
                                                                    <button class="btn" 
                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px;" 
                                                                            @onclick="ToggleCompanyAnnouncementsVisibility">
                                                                        @if (isCompanyAnnouncementsVisible)
                                                                        {
                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                        }
                                                                    </button>
                                                                </div>
    
                                                                @if (isCompanyAnnouncementsVisible)
                                                                {
                                                                    <div class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                        @if (Announcements != null && Announcements.Any(announcement => announcement.CompanyAnnouncementStatus == "Δημοσιευμένη"))
                                                                        {
                                                                            <!-- Display paginated announcements sorted by upload date descending -->
                                                                            @foreach (var announcement in Announcements
                                                                           .Where(a => a.CompanyAnnouncementStatus == "Δημοσιευμένη")
                                                                           .OrderByDescending(a => a.CompanyAnnouncementUploadDate)
                                                                           .Skip((currentPageForCompanyAnnouncements - 1) * pageSize)
                                                                           .Take(pageSize))
                                                                            {
                                                                                <div class="news-article mb-3 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                    <!-- Clicking on title toggles description -->
                                                                                    <a href="javascript:void(0);"
                                                                                       @onclick="() => ToggleDescription(announcement.Id)"
                                                                                       style="display: block; max-width: 100%; overflow-wrap: break-word; color: #0d47a1; text-decoration: none; cursor: pointer;"
                                                                                       title="Κάντε Κλικ εδώ για να δείτε την περιγραφή της ανακοίνωσης">
                                                                                        <span class="black-text">• <strong>@(announcement.Company?.CompanyName ?? "Άγνωστη Εταιρεία")</strong></span> - @announcement.CompanyAnnouncementTitle
                                                                                        <span class="text-muted">(@announcement.CompanyAnnouncementUploadDate.ToString("dd/MM/yyyy"))</span>
                                                                                    </a>

                                                                                    <!-- Show description based on toggle state -->
                                                                                    <div class="announcement-description mt-2 @(expandedAnnouncementId == announcement.Id ? "expanded" : "collapsed")">
                                                                                        @if (expandedAnnouncementId == announcement.Id)
                                                                                        {
                                                                                            <p style="color: #333;">@announcement.CompanyAnnouncementDescription</p>
                                
                                                                                            @if (announcement.CompanyAnnouncementAttachmentFile != null && announcement.CompanyAnnouncementAttachmentFile.Length > 0)
                                                                                            {
                                                                                                <p class="announcement-attachment mt-2">
                                                                                                    <a href="#"
                                                                                                       @onclick="() => DownloadAnnouncementAttachmentFrontPage(announcement.CompanyAnnouncementAttachmentFile, announcement.CompanyAnnouncementTitle)"
                                                                                                       style="color: #c62828; text-decoration: none;"
                                                                                                       title="Κάντε Κλικ εδώ για να κατεβάσετε το αρχείο">
                                                                                                        <i class="fa fa-download me-1"></i> 
                                                                                                        Συννημένο Αρχείο Ανακοίνωσης
                                                                                                    </a>
                                                                                                </p>
                                                                                            }
                                                                                        }
                                                                                    </div>
                                                                                </div>
                                                                            }

                                                                                <!-- Pagination Controls for Company Announcements -->
                                                                                <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                                    <!-- First Page (<<) -->
                                                                                    <span class="pagination-item @(currentPageForCompanyAnnouncements == 1 ? "disabled" : "")"
                                                                                          @onclick="GoToFirstPageForCompanyAnnouncements">
                                                                                        &lt;&lt;
                                                                                    </span>

                                                                                    <!-- Previous Page (<) -->
                                                                                    <span class="pagination-item @(currentPageForCompanyAnnouncements == 1 ? "disabled" : "")"
                                                                                          @onclick="PreviousPageForCompanyAnnouncements">
                                                                                        &lt;
                                                                                    </span>

                                                                                    <!-- Page Numbers -->
                                                                                    @foreach (var pageNumber in GetVisiblePagesForCompanyAnnouncements())
                                                                                    {
                                                                                        if (pageNumber == -1)
                                                                                        {
                                                                                            <span class="pagination-ellipsis">...</span>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span class="pagination-item @(pageNumber == currentPageForCompanyAnnouncements ? "active" : "")"
                                                                                                  @onclick="() => GoToPageForCompanyAnnouncements(pageNumber)">
                                                                                                @pageNumber
                                                                                            </span>
                                                                                        }
                                                                                    }

                                                                                    <!-- Next Page (>) -->
                                                                                    <span class="pagination-item @(currentPageForCompanyAnnouncements == totalPagesForCompanyAnnouncements ? "disabled" : "")"
                                                                                          @onclick="NextPageForCompanyAnnouncements">
                                                                                        &gt;
                                                                                    </span>

                                                                                    <!-- Last Page (>>) -->
                                                                                    <span class="pagination-item @(currentPageForCompanyAnnouncements == totalPagesForCompanyAnnouncements ? "disabled" : "")"
                                                                                          @onclick="GoToLastPageForCompanyAnnouncements">
                                                                                        &gt;&gt;
                                                                                    </span>

                                                                                    <span class="ms-3">Σελίδα @currentPageForCompanyAnnouncements από @totalPagesForCompanyAnnouncements</span>
                                                                                </div>

                                                                        }
                                                                        else
                                                                        {
                                                                            <p class="mb-0 text-muted">Καμία Ανακοίνωση από Εταιρείες ακόμη......</p>
                                                                        }
                                                                    </div>
                                                                }
                                                            </div>

                                                            <!-- Platform professor announcements -->
                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                <div class="d-flex justify-content-between align-items-center p-3" 
                                                                     style="border-bottom: 1px solid #b3c6e0; cursor: pointer;"
                                                                     @onclick="ToggleProfessorAnnouncementsVisibility">
                                                                    <h1 class="news-heading form-label m-0">
                                                                        <span class="black-text">
                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                <i class="fas fa-list"></i>
                                                                            </span>
                                                                            Ανακοινώσεις Καθηγητών
                                                                            <span style="color: black; margin-left: 5px;">
                                                                                <i class="fas fa-user-tie"></i>
                                                                            </span>
                                                                        </span>
                                                                    </h1>
                                                                    <button class="btn" 
                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px; cursor: pointer;"
                                                                            @onclick="ToggleProfessorAnnouncementsVisibility">
                                                                        @if (isProfessorAnnouncementsVisible)
                                                                        {
                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                        }
                                                                    </button>
                                                                </div>
    
                                                                @if (isProfessorAnnouncementsVisible)
                                                                {
                                                                    <div class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                        @if (ProfessorAnnouncements != null && ProfessorAnnouncements.Any(announcement => announcement.ProfessorAnnouncementStatus == "Δημοσιευμένη"))
                                                                        {
                                                                            <!-- Display paginated announcements sorted by upload date descending -->
                                                                            @foreach (var announcement in ProfessorAnnouncements
                                                                           .Where(a => a.ProfessorAnnouncementStatus == "Δημοσιευμένη")
                                                                           .OrderByDescending(a => a.ProfessorAnnouncementUploadDate)
                                                                           .Skip((currentPageForProfessorAnnouncements - 1) * pageSize)
                                                                           .Take(pageSize))
                                                                           {
                                                                                <div class="news-article mb-3 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                    <!-- Clicking on title toggles description -->
                                                                                    <a href="javascript:void(0);"
                                                                                       @onclick="() => ToggleDescriptionForProfessorAnnouncements(announcement.Id)"
                                                                                       style="display: block; max-width: 100%; overflow-wrap: break-word; color: #0d47a1; text-decoration: none; cursor: pointer;"
                                                                                       title="Κάντε Κλικ εδώ για να δείτε την περιγραφή της ανακοίνωσης">
                                                                                        <span class="black-text">• 
                                                                                            <strong>@(announcement.Professor?.ProfName ?? "N/A")</strong> 
                                                                                            <strong>@(announcement.Professor?.ProfSurname ?? "N/A")</strong>
                                                                                        </span> - @announcement.ProfessorAnnouncementTitle
                                                                                        <span class="text-muted">(@announcement.ProfessorAnnouncementUploadDate.ToString("dd/MM/yyyy"))</span>
                                                                                    </a>
                                                                                    <!-- Show description based on toggle state -->
                                                                                    <div class="announcement-description mt-2 @(expandedProfessorAnnouncementId == announcement.Id ? "expanded" : "collapsed")">
                                                                                        @if (expandedProfessorAnnouncementId == announcement.Id)
                                                                                        {
                                                                                            <p style="color: #333;">@announcement.ProfessorAnnouncementDescription</p>
                                
                                                                                            @if (announcement.ProfessorAnnouncementAttachmentFile != null && announcement.ProfessorAnnouncementAttachmentFile.Length > 0)
                                                                                            {
                                                                                                <p class="announcement-attachment mt-2">
                                                                                                    <a href="#"
                                                                                                       @onclick="() => DownloadProfessorAnnouncementAttachmentFrontPage(announcement.ProfessorAnnouncementAttachmentFile, announcement.ProfessorAnnouncementTitle)"
                                                                                                       style="color: #c62828; text-decoration: none;"
                                                                                                       title="Κάντε Κλικ εδώ για να κατεβάσετε το αρχείο">
                                                                                                        <i class="fa fa-download me-1"></i>
                                                                                                        Συννημένο Αρχείο Ανακοίνωσης
                                                                                                    </a>
                                                                                                </p>
                                                                                            }
                                                                                        }
                                                                                    </div>
                                                                                </div>
                                                                           }
                                                                                <!-- Pagination Controls for Professor Announcements -->
                                                                                <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                                    <!-- First Page (<<) -->
                                                                                    <span class="pagination-item @(currentPageForProfessorAnnouncements == 1 ? "disabled" : "")"
                                                                                          @onclick="GoToFirstPageForProfessorAnnouncements">
                                                                                        &lt;&lt;
                                                                                    </span>

                                                                                    <!-- Previous Page (<) -->
                                                                                    <span class="pagination-item @(currentPageForProfessorAnnouncements == 1 ? "disabled" : "")"
                                                                                          @onclick="PreviousPageForProfessorAnnouncements">
                                                                                        &lt;
                                                                                    </span>

                                                                                    <!-- Page Numbers -->
                                                                                    @foreach (var pageNumber in GetVisiblePagesForProfessorAnnouncements())
                                                                                    {
                                                                                        if (pageNumber == -1)
                                                                                        {
                                                                                            <span class="pagination-ellipsis">...</span>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span class="pagination-item @(pageNumber == currentPageForProfessorAnnouncements ? "active" : "")"
                                                                                                  @onclick="() => GoToPageForProfessorAnnouncements(pageNumber)">
                                                                                                @pageNumber
                                                                                            </span>
                                                                                        }
                                                                                    }

                                                                                    <!-- Next Page (>) -->
                                                                                    <span class="pagination-item @(currentPageForProfessorAnnouncements == totalPagesForProfessorAnnouncements ? "disabled" : "")"
                                                                                          @onclick="NextPageForProfessorAnnouncements">
                                                                                        &gt;
                                                                                    </span>

                                                                                    <!-- Last Page (>>) -->
                                                                                    <span class="pagination-item @(currentPageForProfessorAnnouncements == totalPagesForProfessorAnnouncements ? "disabled" : "")"
                                                                                          @onclick="GoToLastPageForProfessorAnnouncements">
                                                                                        &gt;&gt;
                                                                                    </span>

                                                                                    <span class="ms-3">Σελίδα @currentPageForProfessorAnnouncements από @totalPagesForProfessorAnnouncements</span>
                                                                                </div>

                                                                        }
                                                                        else
                                                                        {
                                                                            <p class="mb-0 text-muted">Καμία Ανακοίνωση από Καθηγητές ακόμη......</p>
                                                                        }
                                                                    </div>
                                                                }
                                                            </div>
                                                            <!-- Platform research group announcements -->
                                                            <div class="mb-3" style="background-color: #e6f2ff; border: 1px solid #b3c6e0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                                                <div class="d-flex justify-content-between align-items-center p-3" 
                                                                     style="border-bottom: 1px solid #b3c6e0; cursor: pointer;"
                                                                     @onclick="ToggleResearchGroupPublicAnnouncementsVisibility">
                                                                    <h1 class="news-heading form-label m-0">
                                                                        <span class="black-text">
                                                                            <span style="color: #b399d4; margin-left: 10px; margin-right: 5px;">
                                                                                <i class="fas fa-list"></i>
                                                                            </span>
                                                                            Ανακοινώσεις Ερευνητικών Ομάδων
                                                                            <span style="color: black; margin-left: 5px;">
                                                                                <i class="fa-solid fa-flask"></i>
                                                                            </span>
                                                                        </span>
                                                                    </h1>
                                                                    <button class="btn" 
                                                                            style="width: 30px; height: 30px; border-radius: 50%; background-color: #0d47a1; color: white; border: none; padding: 0; display: flex; align-items: center; justify-content: center; margin-right: 10px; cursor: pointer;"
                                                                            @onclick="ToggleResearchGroupPublicAnnouncementsVisibility">
                                                                        @if (isResearchGroupPublicAnnouncementsVisible)
                                                                        {
                                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                                        }
                                                                        else
                                                                        {
                                                                            <span>&#43;</span> <!-- Plus sign -->
                                                                        }
                                                                    </button>
                                                                </div>
    
                                                                @if (isResearchGroupPublicAnnouncementsVisible)
                                                                {
                                                                    <div class="p-3" style="border-top: 1px solid #e6f2ff;">
                                                                        @if (ResearchGroupAnnouncements != null && ResearchGroupAnnouncements.Any(announcement => announcement.ResearchGroupAnnouncementStatus == "Δημοσιευμένη"))
                                                                        {
                                                                            <!-- Display paginated announcements sorted by upload date descending -->
                                                                            @foreach (var announcement in ResearchGroupAnnouncements
                                                                           .Where(a => a.ResearchGroupAnnouncementStatus == "Δημοσιευμένη")
                                                                           .OrderByDescending(a => a.ResearchGroupAnnouncementUploadDate)
                                                                           .Skip((currentPageForResearchGroupPublicAnnouncements - 1) * pageSize)
                                                                           .Take(pageSize))
                                                                           {
                                                                                <div class="news-article mb-3 pb-2" style="border-bottom: 1px dashed #ccc;">
                                                                                    <!-- Clicking on title toggles description -->
                                                                                    <a href="javascript:void(0);"
                                                                                       @onclick="() => ToggleDescriptionForResearchGroupPublicAnnouncements(announcement.Id)"
                                                                                       style="display: block; max-width: 100%; overflow-wrap: break-word; color: #0d47a1; text-decoration: none; cursor: pointer;"
                                                                                       title="Κάντε Κλικ εδώ για να δείτε την περιγραφή της ανακοίνωσης">
                                                                                        <span class="black-text">• 
                                                                                            <strong>@(announcement.ResearchGroup?.ResearchGroupName ?? "Άγνωστη Ερευνητική Ομάδα")</strong>
                                                                                        </span> - @announcement.ResearchGroupAnnouncementTitle
                                                                                        <span class="text-muted">(@announcement.ResearchGroupAnnouncementUploadDate.ToString("dd/MM/yyyy"))</span>
                                                                                    </a>
                                                                                    <!-- Show description based on toggle state -->
                                                                                    <div class="announcement-description mt-2 @(expandedResearchGroupPublicAnnouncementId == announcement.Id ? "expanded" : "collapsed")">
                                                                                        @if (expandedResearchGroupPublicAnnouncementId == announcement.Id)
                                                                                        {
                                                                                            <p style="color: #333;">@announcement.ResearchGroupAnnouncementDescription</p>
                                
                                                                                            @if (announcement.ResearchGroupAnnouncementAttachmentFile != null && announcement.ResearchGroupAnnouncementAttachmentFile.Length > 0)
                                                                                            {
                                                                                                <p class="announcement-attachment mt-2">
                                                                                                    <a href="#"
                                                                                                       @onclick="() => DownloadResearchGroupPublicAnnouncementAttachmentFrontPage(announcement.ResearchGroupAnnouncementAttachmentFile, announcement.ResearchGroupAnnouncementTitle)"
                                                                                                       style="color: #c62828; text-decoration: none;"
                                                                                                       title="Κάντε Κλικ εδώ για να κατεβάσετε το αρχείο">
                                                                                                        <i class="fa fa-download me-1"></i>
                                                                                                        Συννημένο Αρχείο Ανακοίνωσης
                                                                                                    </a>
                                                                                                </p>
                                                                                            }
                                                                                        }
                                                                                    </div>
                                                                                </div>
                                                                           }
                                                                            <!-- Pagination Controls for Research Group Announcements -->
                                                                            <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                                <!-- First Page (<<) -->
                                                                                <span class="pagination-item @(currentPageForResearchGroupPublicAnnouncements == 1 ? "disabled" : "")"
                                                                                      @onclick="GoToFirstPageForResearchGroupPublicAnnouncements">
                                                                                    &lt;&lt;
                                                                                </span>

                                                                                <!-- Previous Page (<) -->
                                                                                <span class="pagination-item @(currentPageForResearchGroupPublicAnnouncements == 1 ? "disabled" : "")"
                                                                                      @onclick="PreviousPageForResearchGroupPublicAnnouncements">
                                                                                    &lt;
                                                                                </span>

                                                                                <!-- Page Numbers -->
                                                                                @foreach (var pageNumber in GetVisiblePagesForResearchGroupPublicAnnouncements())
                                                                                {
                                                                                    if (pageNumber == -1)
                                                                                    {
                                                                                        <span class="pagination-ellipsis">...</span>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <span class="pagination-item @(pageNumber == currentPageForResearchGroupPublicAnnouncements ? "active" : "")"
                                                                                              @onclick="() => GoToPageForResearchGroupPublicAnnouncements(pageNumber)">
                                                                                            @pageNumber
                                                                                        </span>
                                                                                    }
                                                                                }

                                                                                <!-- Next Page (>) -->
                                                                                <span class="pagination-item @(currentPageForResearchGroupPublicAnnouncements == totalPagesForResearchGroupPublicAnnouncements ? "disabled" : "")"
                                                                                      @onclick="NextPageForResearchGroupPublicAnnouncements">
                                                                                    &gt;
                                                                                </span>

                                                                                <!-- Last Page (>>) -->
                                                                                <span class="pagination-item @(currentPageForResearchGroupPublicAnnouncements == totalPagesForResearchGroupPublicAnnouncements ? "disabled" : "")"
                                                                                      @onclick="GoToLastPageForResearchGroupPublicAnnouncements">
                                                                                    &gt;&gt;
                                                                                </span>

                                                                                <span class="ms-3">Σελίδα @currentPageForResearchGroupPublicAnnouncements από @totalPagesForResearchGroupPublicAnnouncements</span>
                                                                            </div>

                                                                        }
                                                                        else
                                                                        {
                                                                            <p class="mb-0 text-muted">Καμία Ανακοίνωση από Ερευνητικές Ομάδες ακόμη......</p>
                                                                        }
                                                                    </div>
                                                                }
                                                            </div>
                                        }
                                        </div>
                                        

                                        <!-- THESIS tab content -->
                                        <div class="tab-pane fade" id="thesis" role="tabpanel" aria-labelledby="thesis-tab">
                                            <div class="mb-3 row-dark-gray mt-4">
                                                <div class="d-flex justify-content-between align-items-center" @onclick="ToggleAndLoadStudentThesisApplications" style="cursor: pointer;">
                                                    <label class="form-label" style="color: #FFF8DC;">
                                                        • Αιτήσεις Διπλωματικής Εργασίας •
                                                        @if (isLoadingStudentThesisApplications)
                                                        {
                                                            <span class="ms-2">
                                                                <i class="fas fa-spinner fa-spin" style="color: #FFF8DC;"></i>
                                                            </span>
                                                        }
                                                    </label>
                                                    <button class="btn btn-link" @onclick="ToggleAndLoadStudentThesisApplications" @onclick:stopPropagation="true">
                                                        @if (showStudentThesisApplications)
                                                        {
                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                        }
                                                        else
                                                        {
                                                            <span>&#43;</span> <!-- Plus sign -->
                                                        }
                                                    </button>
                                                </div>
                                            </div>
                                            @if(showStudentThesisApplications && !isLoadingStudentThesisApplications)
                                            {
                                                    <label for="thesisFilter" style="color: #2d3748; font-weight: bold; font-size: 15px; display: block;">Εμφάνιση ανά Κατηγορία</label>
                                                    <div class="col-md-2">
                                                        <div class="input-group">
                                                            <select id="thesisFilter" class="form-control form-control-sm" @onchange="FilterThesisApplications" aria-label="Choose filter">
                                                                <option value="all">Όλες</option>
                                                                <option value="company">Εταιρείας</option>
                                                                <option value="professor">Καθηγητή</option>                                                       
                                                            </select>
                                                            <div class="input-group-append">
                                                                <span class="input-group-text">
                                                                    <i class="fas fa-chevron-down"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label style="color: #2d3748; font-weight: bold; font-size: 15px; display: block;">Αποτελέσματα ανά Σελίδα</label>
                                                        <div class="input-group" style="max-width: 65px;"> 
                                                            <select class="form-control form-control-sm" @onchange="OnPageSizeChangeForApplications_SeeMyThesisApplicationsAsStudent" aria-label="Items per page">
                                                                @foreach (var option in pageSizeOptions_SeeMyThesisApplicationsAsStudent)
                                                                {
                                                                    <option value="@option" selected="@(pageSizeForThesisToSee == option)">@option</option>
                                                                }
                                                            </select>
                                                            <div class="input-group-append">
                                                                <span class="input-group-text">
                                                                    <i class="fas fa-chevron-down"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    @*
                                                    <br/>
                                                    <div class="mb-3">
                                                        <button class="modern-button" style="background-color: #007bff; color: white;" @onclick="ToggleAndLoadStudentThesisApplications">Εμφάνιση των Αιτήσεων μου</button>
                                                    </div>
                                                    *@
                                                    @if (showStudentThesisApplications)
                                                    {
                                                        var allThesisApplications = new List<object>();

                                                        if (showCompanyThesisApplications && companyThesisApplications != null)
                                                            allThesisApplications.AddRange(companyThesisApplications);

                                                        if (showProfessorThesisApplications && professorThesisApplications != null)
                                                            allThesisApplications.AddRange(professorThesisApplications);

                                                        int totalThesisCount = allThesisApplications.Count;
                                                        SetTotalThesisCount(totalThesisCount); // Update total thesis count

                                                        var paginatedThesis = allThesisApplications
                                                            .Skip((currentPageForThesisToSee - 1) * pageSizeForThesisToSee)
                                                            .Take(pageSizeForThesisToSee)
                                                            .ToList();

                                                        @if (paginatedThesis.Any())
                                                        {
                                                            <table class="table table-bordered">
                                                                <thead>
                                                                    <tr>
                                                                        <td colspan="9" style="padding: 10px; background-color: #f8f9fa;">
                                                                            <div class="d-flex justify-content-between align-items-center w-100 flex-wrap">
                        
                                                                                @* --- Left Side: Title --- *@
                                                                                <div class="d-flex align-items-center">
                                                                                    <i class="fa-solid fa-bell me-2" style="font-size: 18px; color: #2d3748;"></i>
                                                                                    <label class="form-label mb-0" style="color: #2d3748; font-weight: bold; font-size: 18px;">Οι Αιτήσεις Μου</label>
                                                                                    <i class="fa-solid fa-bell ms-2" style="font-size: 18px; color: #2d3748;"></i>
                                                                                </div>

                                                                                @* --- Right Side: LEGEND --- *@
                                                                                <div class="d-flex align-items-center gap-3" style="font-size: 12px; color: #555;">
                            
                                                                                    @* In Process *@
                                                                                    <div class="d-flex align-items-center">
                                                                                        <span style="width: 12px; height: 12px; border: 1px solid #ccc; background-color: white; display: inline-block; margin-right: 5px;"></span>
                                                                                        <span>Σε Επεξεργασία</span>
                                                                                    </div>

                                                                                    @* Successful *@
                                                                                    <div class="d-flex align-items-center">
                                                                                        <span style="width: 12px; height: 12px; border: 1px solid #ccc; background-color: lightgreen; display: inline-block; margin-right: 5px;"></span>
                                                                                        <span>Επιτυχής</span>
                                                                                    </div>

                                                                                    @* Rejected *@
                                                                                    <div class="d-flex align-items-center">
                                                                                        <span style="width: 12px; height: 12px; border: 1px solid #ccc; background-color: lightcoral; display: inline-block; margin-right: 5px;"></span>
                                                                                        <span>Απορρίφθηκε</span>
                                                                                    </div>

                                                                                    @* Position Withdrawn (Coral) *@
                                                                                    <div class="d-flex align-items-center">
                                                                                        <span style="width: 12px; height: 12px; border: 1px solid #ccc; background-color: coral; display: inline-block; margin-right: 5px;"></span>
                                                                                        <span>Απόσυρση Θέσεως</span>
                                                                                    </div>

                                                                                    @* Withdrawn by Student *@
                                                                                    <div class="d-flex align-items-center">
                                                                                        <span style="width: 12px; height: 12px; border: 1px solid #ccc; background-color: lightyellow; display: inline-block; margin-right: 5px;"></span>
                                                                                        <span>Αποσύρθηκε (Εσείς)</span>
                                                                                    </div>

                                                                                </div>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <th><i class="fa-solid fa-key fa-sm" style="color: #0d6efd;"></i> Κωδικός Θέσης</th>
                                                                        <th>
                                                                            <i class="fa-solid fa-user fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Εταιρεία <span style="color: red; font-weight: bold;">(Ε)</span> / 
                                                                            Καθηγητής <span style="color: red; font-weight: bold;">(Κ)</span>
                                                                        </th>
                                                                        <th>
                                                                            <i class="fa-solid fa-font fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Τίτλος Διπλωματικής
                                                                        </th>
                                                                        <th>
                                                                            <i class="fa-solid fa-calendar-plus fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Ημερομηνία Αίτησης
                                                                        </th>
                                                                        <th>
                                                                            <i class="fa-solid fa-comments fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Επικοινωνία
                                                                        </th>
                                                                        <th>
                                                                            <i class="fa-solid fa-spinner fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Κατάσταση Αίτησης
                                                                        </th>
                                                                        <th>
                                                                            <i class="fa-solid fa-ban fa-sm" style="color: #4682b4; margin-right: 8px;"></i>
                                                                            Απόσυρση Αίτησης
                                                                        </th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                        @foreach (var thesis in paginatedThesis)
                                                                        {
                                                                            @if (thesis is CompanyThesisApplied companyThesis)
                                                                            {
                                                                                // Get status with fallback logic
                                                                                var status = companyThesis.CompanyThesisStatusAppliedAtStudentSide 
                                                                                           ?? companyThesis.CompanyThesisStatusAppliedAtCompanySide
                                                                                           ?? "Σε Επεξεργασία";
            
                                                                                // Get thesis data from cache
                                                                                var thesisDetails = thesisDataCache.TryGetValue(companyThesis.RNGForCompanyThesisApplied, out var t) ? t : null;

                                                                                <tr style="background-color: @(status == "Επιτυχής" ? "lightgreen" :
                                                                                                               status == "Απορρίφθηκε" ? "lightcoral" :
                                                                                                               status == "Απορρίφθηκε (Απόσυρση Θέσεως Από Εταιρία)" ? "coral" :
                                                                                                               status == "Αποσύρθηκε από τον φοιτητή" ? "lightyellow" : "transparent")">
                                                                                    <td style="color: #2d3748;">
                                                                                        @companyThesis.RNGForCompanyThesisAppliedAsStudent_HashedAsUniqueID
                                                                                    </td>
                                                                                    <td>
                                                                                        @if (thesisDetails != null)
                                                                                        {
                                                                                            <a href="#" @onclick="() => ShowCompanyDetailsInThesisCompanyName_StudentThesisApplications(thesisDetails.CompanyEmailUsedToUploadThesis)" style="text-decoration: none;">
                                                                                                @(thesisDetails.Company?.CompanyName ?? "Άγνωστη Εταιρεία")
                                                                                                <span style="color: red; font-weight: bold;">(Ε)</span>
                                                                                            </a>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span class="text-warning">Δεν βρέθηκε</span>
                                                                                        }
                                                                                    </td>
                                                                                    <td>
                                                                                        @if (thesisDetails != null)
                                                                                        {
                                                                                            <a href="#" @onclick="() => ShowCompanyThesisDetailsModal_StudentThesisApplications(companyThesis.RNGForCompanyThesisApplied)" style="text-decoration: none;">
                                                                                                @thesisDetails.CompanyThesisTitle
                                                                                            </a>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span class="text-warning">Δεν βρέθηκε</span>
                                                                                        }
                                                                                    </td>
                                                                                    <td>@companyThesis.DateTimeStudentAppliedForThesis.ToString("dd/MM/yyyy HH:mm")</td>
                                                                                    <td class="text-center">
                                                                                        <a href="mailto:@companyThesis.CompanyEmailWhereStudentAppliedForThesis" target="_blank" 
                                                                                           title="@companyThesis.CompanyEmailWhereStudentAppliedForThesis">
                                                                                            <i class="fas fa-envelope"></i>
                                                                                        </a>
                                                                                    </td>
                                                                                    <td style="color: @(status == "Επιτυχής" ? "black" :
                                                                                                        status == "Απορρίφθηκε" ? "black" :
                                                                                                        status == "Σε Επεξεργασία" ? "black" :
                                                                                                        status == "Αποσύρθηκε από τον φοιτητή" ? "brown" : "black")">
                                                                                        @status
                                                                                    </td>
                                                                                    <td class="text-center">
                                                                                        @if (status == "Σε Επεξεργασία")
                                                                                        {
                                                                                            <span style="cursor: pointer;" 
                                                                                                  @onclick="() => WithdrawThesisApplication(companyThesis)" 
                                                                                                  title="Κάντε Κλικ για Απόσυρση της Αίτησης σας">
                                                                                                <i class="fas fa-times"></i>
                                                                                            </span>
                                                                                        }
                                                                                        else if (status == "Επιτυχής" || status == "Απορρίφθηκε")
                                                                                        {
                                                                                            <span>Δεν μπορεί να αποσυρθεί</span>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span>Ολοκληρώθηκε</span>
                                                                                        }
                                                                                    </td>
                                                                                </tr>
                                                                            }
                                                                            else if (thesis is ProfessorThesisApplied professorThesis)
                                                                            {
                                                                                // Get status with fallback logic (same pattern as before)
                                                                                var status = professorThesis.ProfessorThesisStatusAppliedAtStudentSide 
                                                                                           ?? professorThesis.ProfessorThesisStatusAppliedAtProfessorSide
                                                                                           ?? "Σε Επεξεργασία";

                                                                                // Get thesis data from cache
                                                                                var thesisDetails = professorThesisDataCache.TryGetValue(professorThesis.RNGForProfessorThesisApplied, out var t) ? t : null;

                                                                                <tr style="background-color: @(status == "Επιτυχής" ? "lightgreen" :
                                                                                                               status == "Απορρίφθηκε" ? "lightcoral" :
                                                                                                               status == "Απορρίφθηκε (Απόσυρση Θέσεως Από Καθηγητή)" ? "coral" :
                                                                                                               status == "Αποσύρθηκε από τον φοιτητή" ? "lightyellow" : "transparent")">
                                                                                    <td style="color: #2d3748;">
                                                                                        @professorThesis.RNGForProfessorThesisApplied_HashedAsUniqueID
                                                                                    </td>
                                                                                    <td>
                                                                                        @if (thesisDetails != null)
                                                                                        {
                                                                                            <a href="#" @onclick="() => ShowProfessorDetailsInThesisProfessorName_StudentThesisApplications(thesisDetails.ProfessorEmailUsedToUploadThesis)" style="text-decoration: none;">
                                                                                                @(thesisDetails.Professor != null ? $"{thesisDetails.Professor.ProfName} {thesisDetails.Professor.ProfSurname}" : "Άγνωστος Καθηγητής")
                                                                                                <span style="color: red; font-weight: bold;">(Κ)</span>
                                                                                            </a>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span class="text-warning">Δεν βρέθηκε</span>
                                                                                        }
                                                                                    </td>
                                                                                    <td>
                                                                                        @if (thesisDetails != null)
                                                                                        {
                                                                                            <a href="#" @onclick="() => ShowProfessorThesisDetailsModal_StudentThesisApplications(professorThesis.RNGForProfessorThesisApplied)" style="text-decoration: none;">
                                                                                                @thesisDetails.ThesisTitle
                                                                                            </a>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span class="text-warning">Δεν βρέθηκε</span>
                                                                                        }
                                                                                    </td>
                                                                                    <td>@professorThesis.DateTimeStudentAppliedForProfessorThesis.ToString("dd/MM/yyyy HH:mm")</td>
                                                                                    <td class="text-center">
                                                                                        <a href="mailto:@professorThesis.ProfessorEmailWhereStudentAppliedForProfessorThesis" target="_blank" 
                                                                                           title="@professorThesis.ProfessorEmailWhereStudentAppliedForProfessorThesis">
                                                                                            <i class="fas fa-envelope"></i>
                                                                                        </a>
                                                                                    </td>
                                                                                    <td style="color: @(status == "Επιτυχής" ? "black" :
                                                                                                        status == "Απορρίφθηκε" ? "black" :
                                                                                                        status == "Σε Επεξεργασία" ? "black" :
                                                                                                        status == "Αποσύρθηκε από τον φοιτητή" ? "brown" : "black")">
                                                                                        @status
                                                                                    </td>
                                                                                    <td class="text-center">
                                                                                        @if (status == "Σε Επεξεργασία")
                                                                                        {
                                                                                            <span style="cursor: pointer;" 
                                                                                                  @onclick="() => WithdrawThesisApplication(professorThesis)" 
                                                                                                  title="Κάντε Κλικ για Απόσυρση της Αίτησης σας">
                                                                                                <i class="fas fa-times"></i>
                                                                                            </span>
                                                                                        }
                                                                                        else if (status == "Επιτυχής" || status == "Απορρίφθηκε")
                                                                                        {
                                                                                            <span>Δεν μπορεί να αποσυρθεί</span>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <span>Ολοκληρώθηκε</span>
                                                                                        }
                                                                                    </td>
                                                                                </tr>
                                                                            }
                                                                        }
                                                                </tbody>
                                                            </table>
                                                            <br/>
                                                           <div class="d-flex justify-content-center align-items-center mt-3 gap-1">
                                                                <span class="pagination-item @(currentPageForThesisToSee == 1 ? "disabled" : "")" 
                                                                      @onclick="GoToFirstPage">
                                                                    &lt;&lt;
                                                                </span>
                                                                <span class="pagination-item @(currentPageForThesisToSee == 1 ? "disabled" : "")" 
                                                                      @onclick="PreviousPageForThesisToSee">
                                                                    &lt;
                                                                </span>
                                                                @foreach (var pageNumber in GetVisiblePages())
                                                                {
                                                                    if (pageNumber == -1)
                                                                    {
                                                                        <span class="pagination-ellipsis">...</span>
                                                                    }
                                                                    else
                                                                    {
                                                                        <span class="pagination-item @(pageNumber == currentPageForThesisToSee ? "active" : "")" 
                                                                              @onclick="() => GoToPage(pageNumber)">
                                                                            @pageNumber
                                                                        </span>
                                                                    }
                                                                }
    
                                                                <span class="pagination-item @(currentPageForThesisToSee == totalPagesForThesisToSee ? "disabled" : "")" 
                                                                      @onclick="NextPageForThesisToSee">
                                                                    &gt;
                                                                </span>

                                                                <span class="pagination-item @(currentPageForThesisToSee == totalPagesForThesisToSee ? "disabled" : "")" 
                                                                      @onclick="GoToLastPage">
                                                                    &gt;&gt;
                                                                </span>

                                                                <span class="ms-3">Σελίδα @currentPageForThesisToSee από @totalPagesForThesisToSee</span>
                                                            </div>
                                                            <br/>
                                                        }
                                                        else
                                                        {
                                                            <div class="alert alert-warning" role="alert">
                                                                <p>Δεν υπάρχει καμία Αίτηση για ανάληψη Διπλωματικής Εργασίας</p>
                                                            </div>
                                                        }
                                                    }
                                            }

                                            <!-- Loading Modal for Thesis Withdrawal -->
                                            @if (showLoadingModalWhenWithdrawThesisApplication)
                                            {
                                                <div class="loading-modal">
                                                    <div class="loading-modal-content">
                                                        <div class="loading-spinner"></div>
                                                        <p>Απόσυρση αίτησης Διπλωματικής εργασίας...</p>
                                                        <div class="progress-bar">
                                                            <div class="progress-bar-fill" style="width: @loadingProgressWhenWithdrawThesisApplication%"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }


                                            <!-- Company Details Modal for Thesis Applications -->
                                            @if (isModalOpenToSeeCompanyDetails_ThesisStudentApplicationsToShow && selectedCompanyDetails_ThesisStudentApplicationsToShow != null)
                                            {
                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                    @selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyName
                                                                </h5>
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                        @onclick="CloseCompanyDetailsModal_StudentThesisApplications"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                </button>
                                                            </div>
                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                <div class="form-group text-center mb-4">
                                                                    @if (selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyLogo != null)
                                                                    {
                                                                        <img src="@ShowProfileImage(selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyLogo)"
                                                                              alt="Company Logo"
                                                                              class="rounded-circle img-fluid shadow-sm"
                                                                              style="max-width: 150px; max-height: 150px; object-fit: cover; border: 3px solid #e9ecef;" />
                                                                    }
                                                                    else
                                                                    {
                                                                        <p class="text-muted">Δεν είναι διαθέσιμο</p>
                                                                    }
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Σύντομη Ονομασία</strong></label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-tag" style="color: #6c757d; margin-right: 8px;"></i>
                                                                        <input type="text" class="border-0 flex-grow-1 bg-transparent" value="@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyShortName" readonly />
                                                                    </div>
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Τύπος Εταιρείας</strong></label>
                                                                    <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyType" readonly />
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Email Εταιρείας</strong></label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-envelope" style="color: #6c757d; margin-right: 8px;"></i>
                                                                        <input type="text" class="border-0 flex-grow-1 bg-transparent" value="@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyEmail" readonly />
                                                                    </div>
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Ιστοσελίδα Εταιρείας</strong></label>
                                                                    @if (!string.IsNullOrWhiteSpace(selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyWebsite))
                                                                    {
                                                                        <div class="form-control d-flex align-items-center" style="height: auto; cursor: pointer; color: #007bff; border-radius: 8px; background-color: #f8f9fa; transition: all 0.2s;" 
                                                                              onmouseover="this.style.backgroundColor='#e3f2fd'" 
                                                                              onmouseout="this.style.backgroundColor='#f8f9fa'"
                                                                              onclick="window.open('@(selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyWebsite.StartsWith("http") ? selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyWebsite : "http://" + selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyWebsite)', '_blank')">
                                                                            <i class="fa-solid fa-globe" style="margin-right: 8px;"></i>
                                                                            <span class="flex-grow-1">@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyWebsite</span>
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="Δεν υπάρχει" readonly />
                                                                    }
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Ανακοινώσεις Εταιρείας</strong></label>
                                                                    @if (!string.IsNullOrWhiteSpace(selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyWebsiteAnnouncements))
                                                                    {
                                                                        <div class="form-control d-flex align-items-center" style="height: auto; cursor: pointer; color: #007bff; border-radius: 8px; background-color: #f8f9fa; transition: all 0.2s;" 
                                                                              onmouseover="this.style.backgroundColor='#e3f2fd'" 
                                                                              onmouseout="this.style.backgroundColor='#f8f9fa'"
                                                                              onclick="window.open('@(selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyWebsiteAnnouncements.StartsWith("http") ? selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyWebsiteAnnouncements : "http://" + selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyWebsiteAnnouncements)', '_blank')">
                                                                            <i class="fa-solid fa-globe" style="margin-right: 8px;"></i>
                                                                            <span class="flex-grow-1">@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyWebsiteAnnouncements</span>
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="Δεν υπάρχει" readonly />
                                                                    }
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Θέσεις Εργασίας Εταιρείας</strong></label>
                                                                    @if (!string.IsNullOrWhiteSpace(selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyWebsiteJobs))
                                                                    {
                                                                        <div class="form-control d-flex align-items-center" style="height: auto; cursor: pointer; color: #007bff; border-radius: 8px; background-color: #f8f9fa; transition: all 0.2s;" 
                                                                              onmouseover="this.style.backgroundColor='#e3f2fd'" 
                                                                              onmouseout="this.style.backgroundColor='#f8f9fa'"
                                                                              onclick="window.open('@(selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyWebsiteJobs.StartsWith("http") ? selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyWebsiteJobs : "http://" + selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyWebsiteJobs)', '_blank')">
                                                                            <i class="fa-solid fa-globe" style="margin-right: 8px;"></i>
                                                                            <span class="flex-grow-1">@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyWebsiteJobs</span>
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="Δεν υπάρχει" readonly />
                                                                    }
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Τηλέφωνο Εταιρείας</strong></label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fa-solid fa-phone" style="color: #28a745; margin-right: 8px;"></i>
                                                                        <input type="text" class="border-0 flex-grow-1 bg-transparent" value="@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyTelephone" readonly />
                                                                    </div>
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Περιγραφή Εταιρείας</strong></label>
                                                                    <textarea class="form-control" rows="3" style="border-radius: 8px; background-color: #f8f9fa;" readonly>@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyDescription</textarea>
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Δραστηριότητα Εταιρείας</strong></label>
                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly>@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyActivity</textarea>
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Περιοχές Ενδιαφέροντος</strong></label>
                                                                    <textarea class="form-control" rows="2" style="border-radius: 8px; background-color: #f8f9fa;" readonly>@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyAreas</textarea>
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Χώρα</strong></label>
                                                                    <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyCountry" readonly />
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Περιφέρεια</strong></label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fa-solid fa-map" style="color: #6c757d; margin-right: 8px;"></i>
                                                                        <input type="text" class="border-0 flex-grow-1 bg-transparent" value="@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyRegions" readonly />
                                                                    </div>
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Πόλη</strong></label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fa-solid fa-city" style="color: #6c757d; margin-right: 8px;"></i>
                                                                        <input type="text" class="border-0 flex-grow-1 bg-transparent" value="@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyTown" readonly />
                                                                    </div>
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Διεύθυνση</strong></label>
                                                                    <div class="form-control d-flex align-items-center mt-1" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-map-marker-alt" style="color: #dc3545; margin-right: 8px;"></i>
                                                                        <a href="https://www.google.com/maps/search/@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyLocation"
                                                                            target="_blank"
                                                                            style="color: #007bff; text-decoration: underline; word-break: break-word;">
                                                                            @selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyLocation
                                                                        </a>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Ταχυδρομικός Κώδικας</strong></label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fa-solid fa-envelope-open-text" style="color: #6c757d; margin-right: 8px;"></i>
                                                                        <input type="text" class="border-0 flex-grow-1 bg-transparent" value="@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyPC" readonly />
                                                                    </div>
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Email Υπεύθυνου Ανθρώπινου Δυναμικού</strong></label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fa-solid fa-envelope" style="color: #007bff; margin-right: 8px;"></i>
                                                                        <input type="text" class="border-0 flex-grow-1 bg-transparent" value="@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyHREmail" readonly />
                                                                    </div>
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Τηλέφωνο Υπεύθυνου Ανθρώπινου Δυναμικού</strong></label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fa-solid fa-phone" style="color: #28a745; margin-right: 8px;"></i>
                                                                        <input type="text" class="border-0 flex-grow-1 bg-transparent" value="@selectedCompanyDetails_ThesisStudentApplicationsToShow.CompanyHRTelephone" readonly />
                                                                    </div>
                                                                </div>


                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Επικεφαλής Τμήματος Έρευνας και Ανάπτυξης</strong></label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fa-solid fa-user-tie" style="color: #6f42c1; margin-right: 8px;"></i>
                                                                        <input type="text" class="border-0 flex-grow-1 bg-transparent" value="@selectedCompanyDetails_ThesisStudentApplicationsToShow.RnD_HeadName" readonly />
                                                                    </div>
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Υπεύθυνος Επικοινωνίας Τμήματος Έρευνας και Ανάπτυξης</strong></label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fa-solid fa-user-check" style="color: #17a2b8; margin-right: 8px;"></i>
                                                                        <input type="text" class="border-0 flex-grow-1 bg-transparent" value="@selectedCompanyDetails_ThesisStudentApplicationsToShow.RnD_ContactPersonFullName" readonly />
                                                                    </div>
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Email Επικοινωνίας Υπευθύνου Τμήματος Έρευνας και Ανάπτυξης</strong></label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fa-solid fa-envelope" style="color: #4682B4; margin-right: 8px;"></i>
                                                                        <div class="flex-grow-1">
                                                                            @if (!string.IsNullOrEmpty(selectedCompanyDetails_ThesisStudentApplicationsToShow.RnD_ContactPersonEmail))
                                                                            {
                                                                                <a href="mailto:@selectedCompanyDetails_ThesisStudentApplicationsToShow.RnD_ContactPersonEmail" 
                                                                                   style="color: #007bff; text-decoration: underline; word-break: break-all;"
                                                                                   class="text-decoration-none">
                                                                                    @selectedCompanyDetails_ThesisStudentApplicationsToShow.RnD_ContactPersonEmail
                                                                                </a>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span style="color: #6c757d;">Δεν υπάρχει email</span>
                                                                            }
                                                                        </div>
                                                                    </div>
                                                                </div>


                                                            </div>
                                                            <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                        @onclick="CloseCompanyDetailsModal_StudentThesisApplications"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <i class="fas fa-times me-2"></i> Κλείσιμο
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }



                                            @if (isModalOpenToSeeProfessorDetails_ThesisStudentApplicationsToShow && selectedProfessorDetails_ThesisStudentApplicationsToShow != null)
                                            {
                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0,0,0,0.5);">
                                                    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                <h5 class="modal-title" style="color: #007BFF; font-weight: 600; font-size: 1.25rem;">
                                                                    @selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfName 
                                                                    @selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfSurname
                                                                </h5>
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                        @onclick="CloseProfessorDetailsModal_StudentThesisApplications"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                </button>
                                                            </div>
                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                <!-- Profile Picture -->
                                                                <div class="form-group text-center mb-4">
                                                                    @if (selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfImage != null && selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfImage.Length > 0)
                                                                    {
                                                                        var base64Image = Convert.ToBase64String(selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfImage);
                                                                        <img src="data:image/jpeg;base64,@base64Image" alt="Φωτογραφία Προφίλ Καθηγητή" 
                                                                             style="max-width: 150px; max-height: 150px; border-radius: 50%; object-fit: cover; border: 3px solid #e9ecef;" />
                                                                    }
                                                                    else
                                                                    {
                                                                        <p class="text-muted">Δεν υπάρχει φωτογραφία Προφίλ</p>
                                                                    }
                                                                </div>

                                                                <!-- Professor Email -->
                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;">Email</label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-envelope" style="color: #007bff; margin-right: 8px;"></i>
                                                                        <span>@selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfEmail</span>
                                                                    </div>
                                                                </div>

                                                                <!-- Professor University and Department -->
                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;">Πανεπιστήμιο</label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-university" style="color: #007bff; margin-right: 8px;"></i>
                                                                        <span>@selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfUniversity</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;">Τμήμα</label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fa-solid fa-building" style="color: #6c757d; margin-right: 8px;"></i>
                                                                        <span>@selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfDepartment</span>
                                                                    </div>
                                                                </div>

                                                                <!-- Professor Vahmida Department -->
                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;">Βαθμίδα ΔΕΠ</label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fa-solid fa-user-tie" style="color: #6c757d; margin-right: 8px;"></i>
                                                                        <span>@selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfVahmidaDEP</span>
                                                                    </div>
                                                                </div>

                                                                <!-- Professor Work and Personal Telephone -->
                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;">Τηλέφωνο Εργασίας</label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fa-solid fa-phone" style="color: #28a745; margin-right: 8px;"></i>
                                                                        <span>@selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfWorkTelephone</span>
                                                                    </div>
                                                                </div>

                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;">Προσωπικό Τηλέφωνο</label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fa-solid fa-phone" style="color: #28a745; margin-right: 8px;"></i>
                                                                        @if (selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfPersonalTelephoneVisibility)
                                                                        {
                                                                            <span>@selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfPersonalTelephone</span>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span class="text-muted">Δεν Διατίθεται</span>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <!-- Professor Personal Website -->
                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;">Ιστότοπος</label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fa-solid fa-globe" style="color: #007bff; margin-right: 8px;"></i>
                                                                        @if (!string.IsNullOrWhiteSpace(selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfPersonalWebsite))
                                                                        {
                                                                            <a href="@selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfPersonalWebsite" target="_blank" class="flex-grow-1 text-truncate" style="text-decoration:none; color:#007bff;">
                                                                                @selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfPersonalWebsite
                                                                            </a>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span class="flex-grow-1 text-muted">Δεν Διατίθεται</span>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <!-- Professor LinkedIn Site -->
                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;">LinkedIn</label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fab fa-linkedin" style="color: #0A66C2; margin-right: 8px;"></i>
                                                                        @if (!string.IsNullOrWhiteSpace(selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfLinkedInSite))
                                                                        {
                                                                            <a href="@selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfLinkedInSite" target="_blank" class="flex-grow-1 text-truncate" style="text-decoration:none; color:#0A66C2;">
                                                                                @selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfLinkedInSite
                                                                            </a>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span class="flex-grow-1 text-muted">Δεν Διατίθεται</span>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <!-- Professor Scholar Profile -->
                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;">Scholar Profile</label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-graduation-cap" style="color: #4285F4; margin-right: 8px;"></i>
                                                                        @if (!string.IsNullOrWhiteSpace(selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfScholarProfile))
                                                                        {
                                                                            <a href="@selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfScholarProfile" target="_blank" class="flex-grow-1 text-truncate" style="text-decoration:none; color:#4285F4;">
                                                                                @selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfScholarProfile
                                                                            </a>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span class="flex-grow-1 text-muted">Δεν Διατίθεται</span>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <!-- Professor ORCID Profile -->
                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;">ORCID Profile</label>
                                                                    <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                        <i class="fas fa-id-card" style="color: #A6CE39; margin-right: 8px;"></i>
                                                                        @if (!string.IsNullOrWhiteSpace(selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfOrchidProfile))
                                                                        {
                                                                            <a href="@selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfOrchidProfile" target="_blank" class="flex-grow-1 text-truncate" style="text-decoration:none; color:#A6CE39;">
                                                                                @selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfOrchidProfile
                                                                            </a>
                                                                        }
                                                                        else
                                                                        {
                                                                            <span class="flex-grow-1 text-muted">Δεν Διατίθεται</span>
                                                                        }
                                                                    </div>
                                                                </div>

                                                                <!-- Professor General Field of Work (Areas) -->
                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;">Γενικός Τομέας Εργασίας</label>
                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly>@selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfGeneralFieldOfWork</textarea>
                                                                </div>

                                                                <!-- Professor General Skills -->
                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;">Γενικές Δεξιότητες</label>
                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly>@selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfGeneralSkills</textarea>
                                                                </div>

                                                                <!-- Professor Personal Description -->
                                                                <div class="form-group mb-3">
                                                                    <label class="form-label" style="font-weight: 600; color: #495057;">Προσωπική Περιγραφή</label>
                                                                    <textarea class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" readonly>@selectedProfessorDetails_ThesisStudentApplicationsToShow.ProfPersonalDescription</textarea>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                        @onclick="CloseProfessorDetailsModal_StudentThesisApplications"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <i class="fas fa-times me-2"></i> Κλείσιμο
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }


                                            @if (isModalOpenToSeeCompanyThesisDetails_ThesisStudentApplicationsToShow && selectedCompanyThesisDetails_ThesisStudentApplicationsToShow != null)
                                            {
                                                <div class="modal fade show d-block" tabindex="-1" role="dialog" style="background-color: rgba(0, 0, 0, 0.5);">
                                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                                        <div class="modal-content" style="border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                                                            <div class="modal-header" style="border-bottom: 1px solid #e9ecef; border-radius: 12px 12px 0 0; background-color: #f8f9fa;">
                                                                <h5 class="modal-title" style="color: #4682B4; font-weight: 600; font-size: 1.25rem;">
                                                                    @selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.CompanyThesisTitle
                                                                </h5>
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: all 0.2s;" 
                                                                        @onclick="CloseCompanyThesisDetailsModal_StudentThesisApplications"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <span style="font-size: 1.2rem; line-height: 1;">×</span>
                                                                </button>
                                                            </div>
                                                            <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                                                                @if (selectedCompanyThesisDetails_ThesisStudentApplicationsToShow != null)
                                                                {
                                                                    <div class="form-group mb-3">
                                                                        <label class="form-label" style="font-weight: 600; color: #495057;">Όνομα Εταιρίας</label>
                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-industry" style="color: #6c757d; margin-right: 8px;"></i>
                                                                            <span>@(selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.Company?.CompanyName ?? "Άγνωστη Εταιρεία")</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group mb-3">
                                                                        <label class="form-label" style="font-weight: 600; color: #495057;">Επιβλέπων Υπεύθυνος Εταιρείας</label>
                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-user-tie" style="color: #6c757d; margin-right: 8px;"></i>
                                                                            <span>@selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.CompanyThesisCompanySupervisorFullName</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group mb-3">
                                                                        <label class="form-label" style="font-weight: 600; color: #007bff;">Επιβλέπων Ενδιαφερόμενος Καθηγητής</label>
                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-user-tie" style="color: #007bff; margin-right: 8px;"></i>
                                                                            @if (selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.ProfessorInterested != null)
                                                                            {
                                                                                <span>@($"{selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.ProfessorInterested.ProfName} {selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.ProfessorInterested.ProfSurname}")</span>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span>Δεν υπάρχει ενδιαφερόμενος καθηγητής</span>
                                                                            }
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group mb-3">
                                                                        <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Περιγραφή Διπλωματικής</strong></label>
                                                                        <textarea class="form-control" rows="3" style="border-radius: 8px; background-color: #f8f9fa;" readonly>@selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.CompanyThesisDescriptionsUploaded</textarea>
                                                                    </div>

                                                                    <div class="form-group mb-3">
                                                                        <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Περιοχές Ενδιαφέροντος</strong></label>
                                                                        <textarea class="form-control" rows="3" style="border-radius: 8px; background-color: #f8f9fa;" readonly>@selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.CompanyThesisAreasUpload</textarea>
                                                                    </div>

                                                                    <div class="form-group mb-3">
                                                                        <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Απαιτούμενες Δεξιότητες</strong></label>
                                                                        <textarea class="form-control" rows="3" style="border-radius: 8px; background-color: #f8f9fa;" readonly>@selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.CompanyThesisSkillsNeeded</textarea>
                                                                    </div>

                                                                    <div class="form-group mb-3">
                                                                        <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Κατάσταση Διπλωματικής</strong></label>
                                                                        <input type="text" class="form-control" style="border-radius: 8px; background-color: #f8f9fa;" value="@selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.CompanyThesisStatus" readonly />
                                                                    </div>

                                                                    <div class="form-group mb-3">
                                                                        <label class="form-label" style="font-weight: 600; color: #495057;">Τμήμα</label>
                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-building text-secondary me-2"></i>
                                                                            <span>
                                                                                @(string.IsNullOrWhiteSpace(selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.CompanyThesisDepartment)
                                                                                    ? "Δεν έχει Καθοριστεί"
                                                                                    : selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.CompanyThesisDepartment)
                                                                            </span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group mb-3">
                                                                        <label class="form-label" style="font-weight: 600; color: #495057;">Email Επαφής</label>
                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-envelope text-primary me-2"></i>
                                                                            <span>@selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.CompanyThesisContactPersonEmail</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group mb-3">
                                                                        <label class="form-label" style="font-weight: 600; color: #495057;">Τηλέφωνο Επαφής</label>
                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-phone text-success me-2"></i>
                                                                            <span>@selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.CompanyThesisContactPersonTelephone</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group mb-3">
                                                                        <label class="form-label" style="font-weight: 600; color: #495057;">Ημερομηνία Ανεβάσματος</label>
                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-calendar-alt text-primary me-2"></i>
                                                                            <span>@selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.CompanyThesisUploadDateTime.ToString("dd/MM/yyyy HH:mm")</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group mb-3">
                                                                        <label class="form-label" style="font-weight: 600; color: #495057;">Ημερομηνία Έναρξης</label>
                                                                        <div class="form-control d-flex align-items-center" style="height: auto; border-radius: 8px; background-color: #f8f9fa;">
                                                                            <i class="fas fa-calendar-alt text-primary me-2"></i>
                                                                            <span>@selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.CompanyThesisStartingDate.ToString("dd/MM/yyyy")</span>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group mb-3">
                                                                        <label class="form-label" style="font-weight: 600; color: #495057;"><strong>Αρχείο Διπλωματικής</strong></label>
                                                                        <div>
                                                                            @if (selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.CompanyThesisAttachmentUpload != null)
                                                                            {
                                                                                <a href="data:application/pdf;base64,@Convert.ToBase64String(selectedCompanyThesisDetails_ThesisStudentApplicationsToShow.CompanyThesisAttachmentUpload)" 
                                                                                   download="ThesisAttachment.pdf" 
                                                                                   class="btn btn-primary" 
                                                                                   style="border-radius: 6px; background-color: #2d3748; color: #ffffff; border: none;">
                                                                                    <i class="fas fa-download me-2"></i>Λήψη Αρχείου
                                                                                </a>
                                                                            }
                                                                            else
                                                                            {
                                                                                <span class="text-muted"><strong>Δεν Διατίθεται Συννημένο Αρχείο</strong></span>
                                                                            }
                                                                        </div>
                                                                    </div>
                                                                }
                                                            </div>
                                                            <div class="modal-footer" style="border-top: 1px solid #e9ecef; border-radius: 0 0 12px 12px; background-color: #f8f9fa;">
                                                                <button type="button" class="modern-button" style="background-color: #2d3748; color: white; border: none; border-radius: 6px; padding: 8px 20px; transition: all 0.2s;" 
                                                                        @onclick="CloseCompanyThesisDetailsModal_StudentThesisApplications"
                                                                        onmouseover="this.style.backgroundColor='#4a5568'" 
                                                                        onmouseout="this.style.backgroundColor='#2d3748'">
                                                                    <i class="fas fa-times me-2"></i> Κλείσιμο
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            }

                                            @*ΦΙΛΤΡΑ ΑΝΑΖήτησης ΓΙΑ ΠΤΥΧΙΑΚΕΣ Ως ΦΟΙΤΗΤΗΣ*@                                             
                                            <div class="mb-3 row-dark-gray mt-4">
                                                <div class="d-flex justify-content-between align-items-center" @onclick="ToggleSearchInternshipsAsStudentFiltersVisibility" style="cursor: pointer;">
                                                    <label class="form-label" style="color: #FFF8DC;">• Εύρεση Διπλωματικής Εργασίας •</label>
                                                    <button class="btn btn-link" @onclick="ToggleSearchInternshipsAsStudentFiltersVisibility" @onclick:stopPropagation="true">
                                                        @if (isSearchInternshipsAsStudentFiltersVisible)
                                                        {
                                                            <span>&#8722;</span> <!-- Minus sign -->
                                                        }
                                                        else
                                                        {
                                                            <span>&#43;</span> <!-- Plus sign -->
                                                        }
                                                    </button>
                                                </div>
                                            </div>
                                            @if(isSearchInternshipsAsStudentFiltersVisible)
                                            {
                                                @* Section 1: Global Search *@
                                                <div class="row mb-4">
                                                    <div class="col-md-12">
                                                        <div class="section-header" style="border-left: 4px solid #2d3748; padding-left: 12px; margin-bottom: 16px;">
                                                            <label for="globalThesisSearch" class="form-label" style="font-weight: bold; color: #2d3748; font-size: 1.1em;">
                                                                <i class="fa-solid fa-magnifying-glass" style="margin-right: 8px;"></i>Ελεύθερη Αναζήτηση
                                                            </label>
                                                        </div>
                                                        <input 
                                                            type="text" 
                                                            id="globalThesisSearch" 
                                                            class="form-control" 
                                                            @bind="globalThesisSearch" 
                                                            placeholder="Αναζητείστε Εδώ..." 
                                                            style="padding: 12px; border-radius: 8px; border: 2px solid #e2e8f0;" />
                                                    </div>
                                                </div>

                                                @* Divider between sections *@
                                                <div class="row mb-4">
                                                    <div class="col-md-12">
                                                        <hr style="border-top: 2px dashed #d1d5db; margin: 20px 0;" />
                                                    </div>
                                                </div>

                                                @* Section 2: Filter Search *@
                                                <div class="row mb-3">
                                                    <div class="col-md-12">
                                                        <div class="section-header" style="border-left: 4px solid #2d3748; padding-left: 12px; margin-bottom: 16px;">
                                                            <label class="form-label" style="font-weight: bold; color: #2d3748; font-size: 1.1em;">
                                                                <i class="fa-solid fa-filter" style="margin-right: 8px;"></i>Αναζήτηση με Φίλτρα
                                                            </label>
                                                            <div style="font-size: 0.9em; color: #6b7280; margin-top: 4px;">
                                                                Χρησιμοποιήστε συγκεκριμένα φίλτρα για πιο ακριβή αναζήτηση
                                                            </div>
                                                        </div>
                                                    </div>
        
                                                    <div class="col-md-4 position-relative">
                                                        <label for="thesisSearchForThesesAsStudent" class="form-label">Αναζήτηση με Τίτλο</label>
                                                        <input 
                                                            type="text" 
                                                            id="thesisSearchForThesesAsStudent" 
                                                            class="form-control" 
                                                            @bind="thesisSearchForThesesAsStudent" 
                                                            @oninput="HandleThesisTitleInputForBothCompaniesAndProfessorsWhenSearchForThesisAsStudent" 
                                                            placeholder="Εισάγετε τον τίτλο της Διπλωματικής" />

                                                        <!-- Suggestions dropdown -->
                                                        <ul class="list-group position-absolute" 
                                                            style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                            hidden="@(!thesisTitleSuggestions.Any())">
                                                            @foreach (var suggestion in thesisTitleSuggestions)
                                                            {
                                                                <li class="list-group-item list-group-item-action" 
                                                                    @onclick="() => SelectThesisTitleSuggestionForBothCompaniesAndProfessorsWhenSearchForThesisAsStudent(suggestion)">
                                                                    @suggestion
                                                                </li>
                                                            }
                                                        </ul>
                                                    </div>

                                                    <div class="col-md-4 position-relative">
                                                        <label for="searchNameSurnameAsStudentToFindProfessor" class="form-label" style="font-weight: bold;">Όνοματεπώνυμο Καθηγητή</label>
                                                        <input 
                                                            type="text" 
                                                            id="searchNameSurnameAsStudentToFindProfessor"
                                                            class="form-control" 
                                                            placeholder="Αναζήτηση με όνομα ή επώνυμο" 
                                                            @bind="searchNameSurnameAsStudentToFindProfessor" 
                                                            @oninput="HandleProfessorInputWhenSearchForProfessorThesisAutocompleteNameAsStudent" />

                                                        <!-- Suggestions dropdown -->
                                                        <ul class="list-group position-absolute" 
                                                            style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                            hidden="@(!professorNameSurnameSuggestions.Any())">
                                                            @foreach (var suggestion in professorNameSurnameSuggestions)
                                                            {
                                                                <li class="list-group-item list-group-item-action" 
                                                                    @onclick="() => SelectProfessorNameSurnameSuggestionWhenSearchForProfessorThesisAutocompleteNameAsStudent(suggestion)">
                                                                    @suggestion
                                                                </li>
                                                            }
                                                        </ul>
                                                    </div>
       
                                                    @*PEDIA ANAZITISIS GIA PTYXIAKES APO ETAIREIES*@ 
                                                    <div class="col-md-4 position-relative">
                                                        <label for="companyNameSearchForThesesAsStudent" class="form-label">Αναζήτηση με Όνομα Εταιρείας</label>
                                                        <input 
                                                            type="text" 
                                                            id="companyNameSearchForThesesAsStudent" 
                                                            class="form-control" 
                                                            @bind="companyNameSearchForThesesAsStudent" 
                                                            @oninput="HandleCompanyNameInputWhenSearchForProfessorThesisAutocompleteNameAsStudent" 
                                                            placeholder="Εισάγετε Όνομα Εταιρείας" />

                                                        <!-- Suggestions dropdown -->
                                                        <ul class="list-group position-absolute" 
                                                            style="z-index: 100; width: 100%; max-height: 150px; overflow-y: auto;" 
                                                            hidden="@(!companyNameSuggestionsWhenSearchForProfessorThesisAutocompleteNameAsStudent.Any())">
                                                            @foreach (var suggestion in companyNameSuggestionsWhenSearchForProfessorThesisAutocompleteNameAsStudent)
                                                            {
                                                                <li class="list-group-item list-group-item-action" 
                                                                    @onclick="() => SelectCompanyNameSuggestionWhenSearchForProfessorThesisAutocompleteNameAsStudent(suggestion)">
                                                                    @suggestion
                                                                </li>
                                                            }
                                                        </ul>
                                                    </div>

                                                    <div class="col-md-4">
                                                        <label for="thesisStartDateForThesesAsStudent" class="form-label">Ξεκινάει Από</label>
                                                        <input type="date" id="thesisStartDateForThesesAsStudent" class="form-control" @bind="thesisStartDateForThesesAsStudent" />
                                                    </div>
                                                </div>
                                                <br/>
                                                @* Checkboxes for Areas with Subfields - SEARCH FOR THESIS AS STUDENT *@
                                                <div class="col-md-4">
                                                    <div style="display: flex; align-items: center; width: 100%; margin-bottom: 12px; gap: 10px;">
                                                        <label for="thesisAreaSearch" style="margin: 0; display: flex; align-items: center; gap: 4px;">
                                                            <strong>Θεματική Περιοχή</strong>
                                                        </label>
                                                        <button type="button"
                                                                @onclick="ToggleThesisAreasVisibility"
                                                                style="border: 1px solid #2d3748; background: white; border-radius: 6px; padding: 4px 10px; cursor: pointer; display: inline-flex; align-items: center; gap: 6px; color: #2d3748; font-size: 0.85em; transition: all 0.2s;">
                                                            <span>👆</span>
                                                            <span>@(isThesisAreasVisible ? "Κρύψε" : "Προβολή περιοχών")</span>
                                                        </button>
                                                    </div>
                                                    <div id="thesisAreaSearch" class="collapse @(isThesisAreasVisible ? "show" : "")">
                                                        @foreach (var area in Areas)
                                                        {
                                                            <div class="area-container" style="margin-bottom: 8px; border: 1px solid #dee2e6; border-radius: 4px; padding: 8px; background-color: #f8f9fa;">
                                                                <div class="form-check area-header">
                                                                    <input class="form-check-input"
                                                                           type="checkbox"
                                                                           id="thesis_area_@area.Id"
                                                                           value="@area.AreaName"
                                                                           @onchange="e => OnThesisAreaCheckboxChanged(e, area.AreaName)"
                                                                           checked="@selectedThesisAreas.Contains(area.AreaName)" />
                                                                    <label class="form-check-label area-label" 
                                                                           for="thesis_area_@area.Id"
                                                                           @onclick="@(() => ToggleThesisSubFields(area))"
                                                                           @onclick:stopPropagation="true"
                                                                           style="cursor: pointer; font-weight: bold; display: flex; align-items: center; justify-content: space-between; width: 100%;">
                                                                        @area.AreaName
                                                                        <span class="expand-icon" style="font-size: 10px; transition: transform 0.2s; margin-left: 8px; transform: @(expandedThesisAreas.Contains(area.Id) ? "rotate(90deg)" : "rotate(0deg)")">▶</span>
                                                                    </label>
                                                                </div>
                                    
                                                                @if (expandedThesisAreas.Contains(area.Id))
                                                                {
                                                                    <div class="subfields-container" style="margin-top: 8px; margin-left: 20px; padding-left: 15px; border-left: 2px solid #1565c0;">
                                                                        @if (!string.IsNullOrEmpty(area.AreaSubFields))
                                                                        {
                                                                            var subFields = area.AreaSubFields.Split(',').Select(s => s.Trim()).ToList();
                                                                            @foreach (var subField in subFields)
                                                                            {
                                                                                <div class="form-check subfield-checkbox" style="margin-bottom: 4px;">
                                                                                    <input type="checkbox"
                                                                                           id="thesis_subfield_@(area.Id)_@(subField)"
                                                                                           class="form-check-input"
                                                                                           @onchange="e => OnThesisSubFieldCheckboxChanged(e, subField)"
                                                                                           checked="@selectedThesisSubFields.Contains(subField)" />
                                                                                    <label class="form-check-label" for="thesis_subfield_@(area.Id)_@(subField)" style="font-weight: normal; font-size: 0.9em;">
                                                                                        @subField
                                                                                    </label>
                                                                                </div>
                                                                            }
                                                                        }
                                                                    </div>
                                                                }
                                                            </div>
                                                        }
                                                    </div>
                                                </div>

                                                <br/>
                                                <br/>
                                                <div class="mb-3">                                               
                                                    <button class="modern-button" 
                                                            style="background-color: #2d3748; color: white;" 
                                                            @onclick="SearchThesisApplicationsAsStudent"
                                                            disabled="@isLoadingSearchThesisApplicationsAsStudent">
                                                        @if (isLoadingSearchThesisApplicationsAsStudent)
                                                        {
                                                            <i class="fa fa-spinner fa-spin" style="margin-right: 8px;"></i>
                                                            <span>Φορτώνει...</span>
                                                        }
                                                        else
                                                        {
                                                            <i class="fa-brands fa-searchengin" style="margin-right: 8px;"></i>
                                                            <span>Αναζήτηση</span>
                                                        }
                                                    </button>
                                                    <button class="modern-button" style="background-color: #2d3748; color: white;" @onclick="ClearSearchFieldsForThesisAsStudent">
                                                        <i class="fa-solid fa-broom" style="margin-right: 8px;"></i>Εκκαθάριση
                                                    </button>                                                
                                                </div>
                                                <br/>

                                            
